"use strict";(self.webpackChunkUniCar=self.webpackChunkUniCar||[]).push([[179],{9046:(gt,Ae,F)=>{var s=F(5e3);let z=null;function R(){return z}const ne=new s.OlP("DocumentToken");let de=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ye(){return(0,s.LFG)(Z)}()},providedIn:"platform"}),n})();const Y=new s.OlP("Location Initialized");let Z=(()=>{class n extends de{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(e){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ie()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ie()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Je(){return new Z((0,s.LFG)(ne))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function Pe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Be(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Te(n){const t=(0,s.LFG)(ne).location;return new qe((0,s.LFG)(de),t&&t.origin||"")}()},providedIn:"root"}),n})();const rt=new s.OlP("appBaseHref");let qe=(()=>{class n extends ve{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Pe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+He(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+He(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+He(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de),s.LFG(rt,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends ve{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Pe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+He(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+He(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de),s.LFG(rt,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Be(re(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+He(i))}normalize(e){return n.stripTrailingSlash(function Xe(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,re(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=He,n.joinWithSlash=Pe,n.stripTrailingSlash=Be,n.\u0275fac=function(e){return new(e||n)(s.LFG(ve),s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ee(){return new Oe((0,s.LFG)(ve),(0,s.LFG)(de))}()},providedIn:"root"}),n})();function re(n){return n.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Format=0]="Format",he[he.Standalone=1]="Standalone",he))(),_e=(()=>((_e=_e||{})[_e.Narrow=0]="Narrow",_e[_e.Abbreviated=1]="Abbreviated",_e[_e.Wide=2]="Wide",_e[_e.Short=3]="Short",_e))(),Ve=(()=>((Ve=Ve||{})[Ve.Short=0]="Short",Ve[Ve.Medium=1]="Medium",Ve[Ve.Long=2]="Long",Ve[Ve.Full=3]="Full",Ve))(),ce=(()=>((ce=ce||{})[ce.Decimal=0]="Decimal",ce[ce.Group=1]="Group",ce[ce.List=2]="List",ce[ce.PercentSign=3]="PercentSign",ce[ce.PlusSign=4]="PlusSign",ce[ce.MinusSign=5]="MinusSign",ce[ce.Exponential=6]="Exponential",ce[ce.SuperscriptingExponent=7]="SuperscriptingExponent",ce[ce.PerMille=8]="PerMille",ce[ce.Infinity=9]="Infinity",ce[ce.NaN=10]="NaN",ce[ce.TimeSeparator=11]="TimeSeparator",ce[ce.CurrencyDecimal=12]="CurrencyDecimal",ce[ce.CurrencyGroup=13]="CurrencyGroup",ce))();function hn(n,t){return $n((0,s.cg1)(n)[s.wAp.DateFormat],t)}function an(n,t){return $n((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function un(n,t){return $n((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function Bn(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(void 0===i){if(t===ce.CurrencyDecimal)return e[s.wAp.NumberSymbols][ce.Decimal];if(t===ce.CurrencyGroup)return e[s.wAp.NumberSymbols][ce.Group]}return i}function Mi(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $n(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function fn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Un=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,er={},No=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Yt=(()=>((Yt=Yt||{})[Yt.Short=0]="Short",Yt[Yt.ShortGMT=1]="ShortGMT",Yt[Yt.Long=2]="Long",Yt[Yt.Extended=3]="Extended",Yt))(),yt=(()=>((yt=yt||{})[yt.FullYear=0]="FullYear",yt[yt.Month=1]="Month",yt[yt.Date=2]="Date",yt[yt.Hours=3]="Hours",yt[yt.Minutes=4]="Minutes",yt[yt.Seconds=5]="Seconds",yt[yt.FractionalSeconds=6]="FractionalSeconds",yt[yt.Day=7]="Day",yt))(),ct=(()=>((ct=ct||{})[ct.DayPeriods=0]="DayPeriods",ct[ct.Days=1]="Days",ct[ct.Months=2]="Months",ct[ct.Eras=3]="Eras",ct))();function gr(n,t,e,i){let r=function ue(n){if(Qe(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(h=>+h);return vs(r,o-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Un))return function Ge(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,p=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,u,h,p,y),t}(i)}const t=new Date(n);if(!Qe(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Jt(e,t)||t;let h,u=[];for(;t;){if(h=No.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const C=u.pop();if(!C)break;t=C}}let p=r.getTimezoneOffset();i&&(p=L(i,p),r=function G(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function j(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(L(t,r)-r))}(r,i,!0));let y="";return u.forEach(C=>{const I=function pe(n){if(J[n])return J[n];let t;switch(n){case"G":case"GG":case"GGG":t=Qt(ct.Eras,_e.Abbreviated);break;case"GGGG":t=Qt(ct.Eras,_e.Wide);break;case"GGGGG":t=Qt(ct.Eras,_e.Narrow);break;case"y":t=Ct(yt.FullYear,1,0,!1,!0);break;case"yy":t=Ct(yt.FullYear,2,0,!0,!0);break;case"yyy":t=Ct(yt.FullYear,3,0,!1,!0);break;case"yyyy":t=Ct(yt.FullYear,4,0,!1,!0);break;case"Y":t=H(1);break;case"YY":t=H(2,!0);break;case"YYY":t=H(3);break;case"YYYY":t=H(4);break;case"M":case"L":t=Ct(yt.Month,1,1);break;case"MM":case"LL":t=Ct(yt.Month,2,1);break;case"MMM":t=Qt(ct.Months,_e.Abbreviated);break;case"MMMM":t=Qt(ct.Months,_e.Wide);break;case"MMMMM":t=Qt(ct.Months,_e.Narrow);break;case"LLL":t=Qt(ct.Months,_e.Abbreviated,he.Standalone);break;case"LLLL":t=Qt(ct.Months,_e.Wide,he.Standalone);break;case"LLLLL":t=Qt(ct.Months,_e.Narrow,he.Standalone);break;case"w":t=K(1);break;case"ww":t=K(2);break;case"W":t=K(1,!0);break;case"d":t=Ct(yt.Date,1);break;case"dd":t=Ct(yt.Date,2);break;case"c":case"cc":t=Ct(yt.Day,1);break;case"ccc":t=Qt(ct.Days,_e.Abbreviated,he.Standalone);break;case"cccc":t=Qt(ct.Days,_e.Wide,he.Standalone);break;case"ccccc":t=Qt(ct.Days,_e.Narrow,he.Standalone);break;case"cccccc":t=Qt(ct.Days,_e.Short,he.Standalone);break;case"E":case"EE":case"EEE":t=Qt(ct.Days,_e.Abbreviated);break;case"EEEE":t=Qt(ct.Days,_e.Wide);break;case"EEEEE":t=Qt(ct.Days,_e.Narrow);break;case"EEEEEE":t=Qt(ct.Days,_e.Short);break;case"a":case"aa":case"aaa":t=Qt(ct.DayPeriods,_e.Abbreviated);break;case"aaaa":t=Qt(ct.DayPeriods,_e.Wide);break;case"aaaaa":t=Qt(ct.DayPeriods,_e.Narrow);break;case"b":case"bb":case"bbb":t=Qt(ct.DayPeriods,_e.Abbreviated,he.Standalone,!0);break;case"bbbb":t=Qt(ct.DayPeriods,_e.Wide,he.Standalone,!0);break;case"bbbbb":t=Qt(ct.DayPeriods,_e.Narrow,he.Standalone,!0);break;case"B":case"BB":case"BBB":t=Qt(ct.DayPeriods,_e.Abbreviated,he.Format,!0);break;case"BBBB":t=Qt(ct.DayPeriods,_e.Wide,he.Format,!0);break;case"BBBBB":t=Qt(ct.DayPeriods,_e.Narrow,he.Format,!0);break;case"h":t=Ct(yt.Hours,1,-12);break;case"hh":t=Ct(yt.Hours,2,-12);break;case"H":t=Ct(yt.Hours,1);break;case"HH":t=Ct(yt.Hours,2);break;case"m":t=Ct(yt.Minutes,1);break;case"mm":t=Ct(yt.Minutes,2);break;case"s":t=Ct(yt.Seconds,1);break;case"ss":t=Ct(yt.Seconds,2);break;case"S":t=Ct(yt.FractionalSeconds,1);break;case"SS":t=Ct(yt.FractionalSeconds,2);break;case"SSS":t=Ct(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Ie(Yt.Short);break;case"ZZZZZ":t=Ie(Yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ie(Yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ie(Yt.Long);break;default:return null}return J[n]=t,t}(C);y+=I?I(r,e,p):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function vs(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Jt(n,t){const e=function cn(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(er[e]=er[e]||{},er[e][t])return er[e][t];let i="";switch(t){case"shortDate":i=hn(n,Ve.Short);break;case"mediumDate":i=hn(n,Ve.Medium);break;case"longDate":i=hn(n,Ve.Long);break;case"fullDate":i=hn(n,Ve.Full);break;case"shortTime":i=an(n,Ve.Short);break;case"mediumTime":i=an(n,Ve.Medium);break;case"longTime":i=an(n,Ve.Long);break;case"fullTime":i=an(n,Ve.Full);break;case"short":const r=Jt(n,"shortTime"),o=Jt(n,"shortDate");i=bs(un(n,Ve.Short),[r,o]);break;case"medium":const u=Jt(n,"mediumTime"),h=Jt(n,"mediumDate");i=bs(un(n,Ve.Medium),[u,h]);break;case"long":const p=Jt(n,"longTime"),y=Jt(n,"longDate");i=bs(un(n,Ve.Long),[p,y]);break;case"full":const C=Jt(n,"fullTime"),I=Jt(n,"fullDate");i=bs(un(n,Ve.Full),[C,I])}return i&&(er[e][t]=i),i}function bs(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function qn(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.substr(u.length-t)),o+u}function Ct(n,t,e=0,i=!1,r=!1){return function(o,u){let h=function Wn(n,t){switch(n){case yt.FullYear:return t.getFullYear();case yt.Month:return t.getMonth();case yt.Date:return t.getDate();case yt.Hours:return t.getHours();case yt.Minutes:return t.getMinutes();case yt.Seconds:return t.getSeconds();case yt.FractionalSeconds:return t.getMilliseconds();case yt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||h>-e)&&(h+=e),n===yt.Hours)0===h&&-12===e&&(h=12);else if(n===yt.FractionalSeconds)return function _n(n,t){return qn(n,3).substr(0,t)}(h,t);const p=Bn(u,ce.MinusSign);return qn(h,t,p,i,r)}}function Qt(n,t,e=he.Format,i=!1){return function(r,o){return function Ke(n,t,e,i,r,o){switch(e){case ct.Months:return function bt(n,t,e){const i=(0,s.cg1)(n),o=$n([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return $n(o,e)}(t,r,i)[n.getMonth()];case ct.Days:return function mt(n,t,e){const i=(0,s.cg1)(n),o=$n([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return $n(o,e)}(t,r,i)[n.getDay()];case ct.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(o){const y=function Ns(n){const t=(0,s.cg1)(n);return Mi(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?fn(i):[fn(i[0]),fn(i[1])])}(t),C=function _t(n,t,e){const i=(0,s.cg1)(n);Mi(i);const o=$n([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return $n(o,e)||[]}(t,r,i),I=y.findIndex(N=>{if(Array.isArray(N)){const[P,U]=N,W=u>=P.hours&&h>=P.minutes,oe=u<U.hours||u===U.hours&&h<U.minutes;if(P.hours<U.hours){if(W&&oe)return!0}else if(W||oe)return!0}else if(N.hours===u&&N.minutes===h)return!0;return!1});if(-1!==I)return C[I]}return function Gn(n,t,e){const i=(0,s.cg1)(n),o=$n([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return $n(o,e)}(t,r,i)[u<12?0:1];case ct.Eras:return function En(n,t){return $n((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Ie(n){return function(t,e,i){const r=-1*i,o=Bn(e,ce.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Yt.Short:return(r>=0?"+":"")+qn(u,2,o)+qn(Math.abs(r%60),2,o);case Yt.ShortGMT:return"GMT"+(r>=0?"+":"")+qn(u,1,o);case Yt.Long:return"GMT"+(r>=0?"+":"")+qn(u,2,o)+":"+qn(Math.abs(r%60),2,o);case Yt.Extended:return 0===i?"Z":(r>=0?"+":"")+qn(u,2,o)+":"+qn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function jt(n){return vs(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function K(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+o)/7)}else{const o=jt(e),u=function Ut(n){const t=vs(n,0,1).getDay();return vs(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),h=o.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return qn(r,n,Bn(i,ce.MinusSign))}}function H(n,t=!1){return function(e,i){return qn(jt(e).getFullYear(),n,Bn(i,ce.MinusSign),t)}}const J={};function L(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Qe(n){return n instanceof Date&&!isNaN(n.valueOf())}function Xa(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let Qr=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ws{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let In=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ws(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),uo(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{uo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function uo(n,t){n.context.$implicit=t.item}let An=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new xn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){aa("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){aa("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class xn{constructor(){this.$implicit=null,this.ngIf=null}}function aa(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class cd{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let $i=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),xr=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new cd(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36($i,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Ps=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[s.TTD]}),n})();const Xp=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Wl=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){var u;if(null==e||""===e||e!=e)return null;try{return gr(e,i,o||this.locale,null!==(u=null!=r?r:this.defaultTimezone)&&void 0!==u?u:void 0)}catch(h){throw function mr(n,t){return new s.vHH(2100,"")}()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(Xp,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0}),n})(),ha=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=Ls}transform(e,i=Ls){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(u=>{this.keyValues.push(function hd(n,t){return{key:n,value:t}}(u.key,u.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.aQg,16))},n.\u0275pipe=s.Yjl({name:"keyvalue",type:n,pure:!1}),n})();function Ls(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),o=String(i);return r==o?0:r<o?-1:1}let hi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const es="browser";function pa(n){return"server"===n}let fd=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Kl((0,s.LFG)(ne),window)}),n})();class Kl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Fo(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=po(this.window.history)||po(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function po(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class kn{}class Vo extends class Lo extends class be{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){z||(z=n)}(new Vo)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Zc(){return Mn=Mn||document.querySelector("base"),Mn?Mn.getAttribute("href"):null}();return null==e?null:function go(n){ma=ma||document.createElement("a"),ma.setAttribute("href",n);const t=ma.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Mn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Xa(document.cookie,t)}}let ma,Mn=null;const Ai=new s.OlP("TRANSITION_ID"),Jl=[{provide:s.ip1,useFactory:function ri(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=R(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Ai,ne,s.zs3],multi:!0}];class Or{static init(){(0,s.VLi)(new Or)}addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(p){u=u||p,o--,0==o&&i(u)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?R().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let tr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Bs=new s.OlP("EventManagerPlugins");let Bo=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bs),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class _a{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=R().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let ts=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Cs=(()=>{class n extends ts{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Us),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Us))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Us(n){R().remove(n)}const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rl=/%COMP%/g;function ke(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ke(n,r,e):(r=r.replace(rl,n),e.push(r))}return e}function Wt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let On=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ql(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Yc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new ol(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=ke(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bo),s.LFG(Cs),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ql{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(It[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=It[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=It[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Wt(i)):this.eventManager.addEventListener(t,e,Wt(i))}}class Yc extends Ql{constructor(t,e,i,r){super(t),this.component=i;const o=ke(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Hh(n){return"_ngcontent-%COMP%".replace(rl,n)}(r+"-"+i.id),this.hostAttr=function sl(n){return"_nghost-%COMP%".replace(rl,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class ol extends Ql{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=ke(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ng=(()=>{class n extends _a{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Kc=["alt","control","meta","shift"],wa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ds={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ca=(()=>{class n extends _a{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="";if(Kc.forEach(p=>{const y=i.indexOf(p);y>-1&&(i.splice(y,1),u+=p+".")}),u+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function Da(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&fi.hasOwnProperty(t)&&(t=fi[t]))}return wa[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Kc.forEach(o=>{o!=r&&Ds[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const al=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:es},{provide:s.g9A,useValue:function _r(){Vo.makeCurrent(),Or.init()},multi:!0},{provide:ne,useFactory:function Ea(){return(0,s.RDi)(document),document},deps:[]}]),Jc=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function $h(){return new s.qLn},deps:[]},{provide:Bs,useClass:ng,multi:!0,deps:[ne,s.R0b,s.Lbi]},{provide:Bs,useClass:Ca,multi:!0,deps:[ne]},{provide:On,useClass:On,deps:[Bo,Cs,s.AFp]},{provide:s.FYo,useExisting:On},{provide:ts,useExisting:Cs},{provide:Cs,useClass:Cs,deps:[ne]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:Bo,useClass:Bo,deps:[Bs,s.R0b]},{provide:kn,useClass:tr,deps:[]}];let js=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:Ai,useExisting:s.AFp},Jl]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Jc,imports:[hi,s.hGG]}),n})();"undefined"!=typeof window&&window;let Gs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Cd),i},providedIn:"root"}),n})(),Cd=(()=>{class n extends Gs{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.yhl)(i),(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ru(n){return new Cd(n.get(ne))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var jn=F(8996),yn=F(8306);const{isArray:Ta}=Array,{getPrototypeOf:Dd,prototype:su,keys:$s}=Object;function ou(n){if(1===n.length){const t=n[0];if(Ta(t))return{args:t,keys:null};if(function ei(n){return n&&"object"==typeof n&&Dd(n)===su}(t)){const e=$s(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var pi=F(8421),Es=F(3269),pn=F(5403),ut=F(4004);const{isArray:Sa}=Array;function dl(n){return(0,ut.U)(t=>function ig(n,t){return Sa(t)?n(...t):n(t)}(n,t))}function au(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function hl(...n){const t=(0,Es.jO)(n),{args:e,keys:i}=ou(n),r=new yn.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let p=u,y=u;for(let C=0;C<u;C++){let I=!1;(0,pi.Xf)(e[C]).subscribe((0,pn.x)(o,N=>{I||(I=!0,y--),h[C]=N},()=>p--,void 0,()=>{(!p||!I)&&(y||o.next(i?au(i,h):h),o.complete())}))}});return t?r.pipe(dl(t)):r}let fl=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),zi=(()=>{class n extends fl{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Hn=new s.OlP("NgValueAccessor"),Ia={provide:Hn,useExisting:(0,s.Gpc)(()=>ir),multi:!0},pl=new s.OlP("CompositionEventMode");let ir=(()=>{class n extends fl{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nc(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(pl,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([Ia]),s.qOj]}),n})();function is(n){return null==n||0===n.length}function Go(n){return null!=n&&"number"==typeof n.length}const oi=new s.OlP("NgValidators"),Ma=new s.OlP("NgAsyncValidators"),gl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vo{static min(t){return function Ed(n){return t=>{if(is(t.value)||is(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function ml(n){return t=>{if(is(t.value)||is(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return _l(t)}static requiredTrue(t){return function zs(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function ic(n){return is(n.value)||gl.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function $o(n){return t=>is(t.value)||!Go(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return rc(t)}static pattern(t){return function qs(n){if(!n)return Nr;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(is(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Kn(t)}static composeAsync(t){return rg(t)}}function _l(n){return is(n.value)?{required:!0}:null}function rc(n){return t=>Go(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function Nr(n){return null}function Ws(n){return null!=n}function Td(n){const t=(0,s.QGY)(n)?(0,jn.D)(n):n;return(0,s.CqO)(t),t}function sc(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Zs(n,t){return t.map(e=>e(n))}function Zh(n){return n.map(t=>function Sd(n){return!n.validate}(t)?t:e=>t.validate(e))}function Kn(n){if(!n)return null;const t=n.filter(Ws);return 0==t.length?null:function(e){return sc(Zs(e,t))}}function Id(n){return null!=n?Kn(Zh(n)):null}function rg(n){if(!n)return null;const t=n.filter(Ws);return 0==t.length?null:function(e){return hl(Zs(e,t).map(Td)).pipe((0,ut.U)(sc))}}function cu(n){return null!=n?rg(Zh(n)):null}function Md(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Ad(n){return n._rawValidators}function Yh(n){return n._rawAsyncValidators}function oc(n){return n?Array.isArray(n)?n:[n]:[]}function bo(n,t){return Array.isArray(n)?n.includes(t):n===t}function uu(n,t){const e=oc(t);return oc(n).forEach(r=>{bo(e,r)||e.push(r)}),e}function ti(n,t){return oc(t).filter(e=>!bo(n,e))}class Aa{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Id(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=cu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Rr extends Aa{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xi extends Aa{get formDirective(){return null}get path(){return null}}class xa{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Pr=(()=>{class n extends xa{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rr,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[s.qOj]}),n})(),zo=(()=>{class n extends xa{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xi,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[s.qOj]}),n})();function Oa(n,t){Ss(n,t),t.valueAccessor.writeValue(n.value),function vl(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&T(n,t)})}(n,t),function S(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function kd(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&T(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Qh(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Fr(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Na(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function wo(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ss(n,t){const e=Ad(n);null!==t.validator?n.setValidators(Md(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Yh(n);null!==t.asyncValidator?n.setAsyncValidators(Md(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();wo(t._rawValidators,r),wo(t._rawAsyncValidators,r)}function Na(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Ad(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=Yh(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return wo(t._rawValidators,i),wo(t._rawAsyncValidators,i),e}function T(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function O(n,t){Ss(n,t)}function xt(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Xt(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Mt(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===ir?e=o:function Ft(n){return Object.getPrototypeOf(n.constructor)===zi}(o)?i=o:r=o}),r||i||e||null}function ki(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Is="VALID",br="INVALID",rr="PENDING",Zi="DISABLED";function pu(n){return(Nd(n)?n.validators:n)||null}function uc(n){return Array.isArray(n)?Id(n):n||null}function dc(n,t){return(Nd(t)?t.asyncValidators:n)||null}function Xh(n){return Array.isArray(n)?cu(n):n||null}function Nd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Rd=n=>n instanceof fc,Ra=n=>n instanceof nf;function ef(n){return Rd(n)?n.value:n.getRawValue()}function W_(n,t){const e=Ra(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[t])throw new s.vHH(1001,"")}function hc(n,t){Ra(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new s.vHH(1002,"")})}class tf{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=uc(this._rawValidators),this._composedAsyncValidatorFn=Xh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Is}get invalid(){return this.status===br}get pending(){return this.status==rr}get disabled(){return this.status===Zi}get enabled(){return this.status!==Zi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=uc(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Xh(t)}addValidators(t){this.setValidators(uu(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(uu(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ti(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ti(t,this._rawAsyncValidators))}hasValidator(t){return bo(this._rawValidators,t)}hasAsyncValidator(t){return bo(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=rr,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zi,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Is,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Is||this.status===rr)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zi:Is}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=rr,this._hasOwnPendingAsyncValidator=!0;const e=Td(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function Od(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=Ra(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof Z_)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Zi:this.errors?br:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rr)?rr:this._anyControlsHaveStatus(br)?br:Is}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Nd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fc extends tf{constructor(t=null,e,i){super(pu(e),dc(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nd(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ki(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ki(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class nf extends tf{constructor(t,e,i){super(pu(e),dc(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){hc(this,t),Object.keys(t).forEach(i=>{W_(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=ef(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Z_ extends tf{constructor(t,e,i){super(pu(e),dc(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){hc(this,t),t.forEach((i,r)=>{W_(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>ef(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Y_={provide:xi,useExisting:(0,s.Gpc)(()=>Wo)},Pa=(()=>Promise.resolve(null))();let Wo=(()=>{class n extends xi{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new nf({},Id(e),cu(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Pa.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Oa(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Pa.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Pa.then(()=>{const i=this._findContainer(e.path),r=new nf({});O(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Pa.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Pa.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Xt(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(oi,10),s.Y36(Ma,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Y_]),s.qOj]}),n})();const lf={provide:Rr,useExisting:(0,s.Gpc)(()=>Lr)},cf=(()=>Promise.resolve(null))();let Lr=(()=>{class n extends Rr{constructor(e,i,r,o,u){super(),this._changeDetectorRef=u,this.control=new fc,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Mt(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),xt(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Oa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){cf.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;cf.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?function vr(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xi,9),s.Y36(oi,10),s.Y36(Ma,10),s.Y36(Hn,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([lf]),s.qOj,s.TTD]}),n})(),Pd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const K_={provide:Hn,useExisting:(0,s.Gpc)(()=>mu),multi:!0};let mu=(()=>{class n extends zi{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([K_]),s.qOj]}),n})(),Do=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Fd=new s.OlP("NgModelWithFormControlWarning"),lg={provide:Rr,useExisting:(0,s.Gpc)(()=>hf)};let hf=(()=>{class n extends Rr{constructor(e,i,r,o){super(),this._ngModelWarningConfig=o,this.update=new s.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=Mt(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Fr(i,this,!1),Oa(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}xt(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Fr(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(oi,10),s.Y36(Ma,10),s.Y36(Hn,10),s.Y36(Fd,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s._Bn([lg]),s.qOj,s.TTD]}),n})();const cg={provide:xi,useExisting:(0,s.Gpc)(()=>Ld)};let Ld=(()=>{class n extends xi{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Na(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Oa(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Fr(e.control||null,e,!1),ki(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Xt(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Fr(i||null,e),Rd(r)&&(Oa(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);O(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function $(n,t){return Na(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ss(this.form,this),this._oldForm&&Na(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(oi,10),s.Y36(Ma,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([cg]),s.qOj,s.TTD]}),n})();const te={provide:Hn,useExisting:(0,s.Gpc)(()=>Tt),multi:!0};function Ne(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Tt=(()=>{class n extends zi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=Ne(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function dt(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([te]),s.qOj]}),n})(),qt=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Ne(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Tt,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Jn={provide:Hn,useExisting:(0,s.Gpc)(()=>pc),multi:!0};function Eo(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let pc=(()=>{class n extends zi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,u)=>{o._setSelected(r.indexOf(u.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const u=o;for(let h=0;h<u.length;h++){const y=this._getOptionValue(u[h].value);r.push(y)}}else{const u=i.options;for(let h=0;h<u.length;h++){const p=u[h];if(p.selected){const y=this._getOptionValue(p.value);r.push(y)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Cl(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([Jn]),s.qOj]}),n})(),gc=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Eo(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Eo(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(pc,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Fa=(()=>{class n{constructor(){this._validator=Nr}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Nr,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const mc={provide:oi,useExisting:(0,s.Gpc)(()=>Bd),multi:!0};let Bd=(()=>{class n extends Fa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function X_(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>_l}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([mc]),s.qOj]}),n})();const V0={provide:oi,useExisting:(0,s.Gpc)(()=>gg),multi:!0};let gg=(()=>{class n extends Fa{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function ug(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>rc(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[s._Bn([V0]),s.qOj]}),n})(),cT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Do]]}),n})(),Ud=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[cT]}),n})(),ss=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Fd,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[cT]}),n})();function nn(n){return null!=n&&"false"!=`${n}`}function j0(n){return Array.isArray(n)?n:[n]}function Oi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function La(n){return n instanceof s.SBq?n.nativeElement:n}var Ot=F(7579),gf=F(4986),Yi=F(4482);let G0=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ty=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=La(e);return new yn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Ot.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(G0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fT=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=nn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=function pf(n,t=0){return function ey(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(function H0(n,t=gf.z){return(0,Yi.e)((e,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const y=o;o=null,i.next(y)}};function p(){const y=u+n,C=t.now();if(C<y)return r=this.schedule(void 0,y-C),void i.add(r);h()}e.subscribe((0,pn.x)(i,y=>{o=y,u=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ty),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),$0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[G0]}),n})();const ny=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function pT(){return(0,s.f3M)(ne)}}),gT=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let iy,jd=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function mg(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?gT.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ny,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();try{iy="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){iy=!1}let Hd,Vr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Fn(n){return n===es}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!iy)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function W0(){if(Hd)return Hd;if("object"!=typeof document||!document)return Hd=new Set(q0),Hd;let n=document.createElement("input");return Hd=new Set(q0.filter(t=>(n.setAttribute("type",t),n.type===t))),Hd}let _f,To,Z0;function _g(n){return function mT(){if(null==_f&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_f=!0}))}finally{_f=_f||!1}return _f}()?n:!!n.capture}function Va(){if(null==To){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return To=!1,To;if("scrollBehavior"in document.documentElement.style)To=!0;else{const n=Element.prototype.scrollTo;To=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return To}function Zo(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Dl(n){return n.composedPath?n.composedPath()[0]:n.target}function yf(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var Br=F(727);class Ni extends Ot.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function ht(...n){const t=(0,Es.yG)(n);return(0,jn.D)(n,t)}function Ks(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Ri=F(8505);function Pi(n,t){return(0,Yi.e)((e,i)=>{let r=0;e.subscribe((0,pn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var ni=F(5698);var Du=F(4671);function vf(n,t=Du.y){return n=null!=n?n:qT,(0,Yi.e)((e,i)=>{let r,o=!0;e.subscribe((0,pn.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function qT(n,t){return n===t}var vc=F(5032);function gn(n){return(0,Yi.e)((t,e)=>{(0,pi.Xf)(n).subscribe((0,pn.x)(e,()=>e.complete(),vc.Z)),!e.closed&&t.subscribe(e)})}let yw=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function vw(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function QT(n){try{return n.frameElement}catch(t){return null}}(function sS(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===rS(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=rS(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function bw(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function zN(n){return!function eS(n){return function tS(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function XT(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Js(n){return function nS(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||iS(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iS(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function rS(n){if(!iS(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class _y{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,ni.q)(1)).subscribe(t)}}let ww=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new _y(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yw),s.LFG(s.R0b),s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oS=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=nn(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=nn(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Zo(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ww),s.Y36(ne))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[s.TTD]}),n})();function Cw(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Dw(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Ew=new s.OlP("cdk-input-modality-detector-options"),Tw={ignoreKeys:[18,17,224,91,16]},os=_g({passive:!0,capture:!0});let yy=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Ni(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,p;(null===(p=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===p?void 0:p.some(y=>y===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Dl(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Cw(u)?"keyboard":"mouse"),this._mostRecentTarget=Dl(u))},this._onTouchstart=u=>{Dw(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Dl(u))},this._options=Object.assign(Object.assign({},Tw),o),this.modalityDetected=this._modality.pipe(function gw(n){return Pi((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(vf()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,os),r.addEventListener("mousedown",this._onMousedown,os),r.addEventListener("touchstart",this._onTouchstart,os)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,os),document.removeEventListener("mousedown",this._onMousedown,os),document.removeEventListener("touchstart",this._onTouchstart,os))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vr),s.LFG(s.R0b),s.LFG(ne),s.LFG(Ew,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dS=new s.OlP("cdk-focus-monitor-default-options"),Sg=_g({passive:!0,capture:!0});let wf=(()=>{class n{constructor(e,i,r,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ot.x,this._rootNodeFocusAndBlurListener=h=>{const p=Dl(h),y="focus"===h.type?this._onFocus:this._onBlur;for(let C=p;C;C=C.parentElement)y.call(this,h,C)},this._document=o,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const r=La(e);if(!this._platform.isBrowser||1!==r.nodeType)return ht(null);const o=function gN(n){if(function Y0(){if(null==Z0){const n="undefined"!=typeof document?document.head:null;Z0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Z0}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new Ot.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=La(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=La(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Dl(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Sg),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Sg)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(gn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Sg),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Sg),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Vr),s.LFG(yy),s.LFG(ne,8),s.LFG(dS,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hS=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new s.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(wf))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Iw="cdk-high-contrast-black-on-white",Cf="cdk-high-contrast-white-on-black",Df="cdk-high-contrast-active";let Mw=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Df),e.remove(Iw),e.remove(Cf),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Df),e.add(Iw)):2===i&&(e.add(Df),e.add(Cf))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vr),s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vy=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Mw))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[$0]]}),n})();var qd=F(8189);function Ef(...n){return function Aw(){return(0,qd.J)(1)}()((0,jn.D)(n,(0,Es.yG)(n)))}function as(...n){const t=(0,Es.yG)(n);return(0,Yi.e)((e,i)=>{(t?Ef(n,e,t):Ef(n,e)).subscribe(i)})}class Ig{}const El="*";function Wd(n,t){return{type:7,name:n,definitions:t,options:{}}}function bc(n,t=null){return{type:4,styles:t,timings:n}}function by(n,t=null){return{type:2,steps:n,options:t}}function Ur(n){return{type:6,styles:n,offset:null}}function Ms(n,t,e){return{type:0,name:n,styles:t,options:e}}function Tf(n){return{type:5,steps:n}}function wc(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Zd(n){Promise.resolve(null).then(n)}class Sf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Zd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Mg{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?Zd(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const rn=!1;function Nw(n){return new s.vHH(3e3,rn)}function Ko(){return"undefined"!=typeof window&&void 0!==window.document}function Gw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Tu(n){switch(n.length){case 0:return new Sf;case 1:return n[0];default:return new Mg(n)}}function Ey(n,t,e,i,r={},o={}){const u=[],h=[];let p=-1,y=null;if(i.forEach(C=>{const I=C.offset,N=I==p,P=N&&y||{};Object.keys(C).forEach(U=>{let W=U,oe=C[U];if("offset"!==U)switch(W=t.normalizePropertyName(W,u),oe){case"!":oe=r[U];break;case El:oe=o[U];break;default:oe=t.normalizeStyleValue(U,W,oe,u)}P[W]=oe}),N||h.push(P),y=P,p=I}),u.length)throw function Uw(n){return new s.vHH(3502,rn)}();return h}function xg(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&kg(e,"start",n)));break;case"done":n.onDone(()=>i(e&&kg(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&kg(e,"destroy",n)))}}function kg(n,t,e){const i=e.totalTime,o=Ty(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function Ty(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function So(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Sy(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Mf=(n,t)=>!1,$w=(n,t,e)=>[],Og=null;function Iy(n){const t=n.parentNode||n.host;return t===Og?null:t}(Gw()||"undefined"!=typeof Element)&&(Ko()?(Og=(()=>document.documentElement)(),Mf=(n,t)=>{for(;t;){if(t===n)return!0;t=Iy(t)}return!1}):Mf=(n,t)=>n.contains(t),$w=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Su=null,zw=!1;function qw(n){Su||(Su=function Ng(){return"undefined"!=typeof document?document.body:null}()||{},zw=!!Su.style&&"WebkitAppearance"in Su.style);let t=!0;return Su.style&&!function AS(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Su.style,!t&&zw&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Su.style)),t}const Iu=Mf,Ww=$w;let Zw=(()=>{class n{validateStyleProperty(e){return qw(e)}matchesElement(e,i){return!1}containsElement(e,i){return Iu(e,i)}getParentElement(e){return Iy(e)}query(e,i,r){return Ww(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],p){return new Sf(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),My=(()=>{class n{}return n.NOOP=new Zw,n})();const sr="ng-enter",ja="ng-leave",Mu="ng-trigger",ls=".ng-trigger",Pg="ng-animating",Cc=".ng-animating";function Io(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Dc(parseFloat(t[1]),t[2])}function Dc(n,t){return"s"===t?1e3*n:n}function Tl(n,t,e){return n.hasOwnProperty("duration")?n:function Jd(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(Nw()),{duration:0,delay:0,easing:""};r=Dc(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(o=Dc(parseFloat(p),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!e){let h=!1,p=t.length;r<0&&(t.push(function wy(){return new s.vHH(3100,rn)}()),h=!0),o<0&&(t.push(function pS(){return new s.vHH(3101,rn)}()),h=!0),h&&t.splice(p,0,Nw())}return{duration:r,delay:o,easing:u}}(n,t,e)}function Qo(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Qs(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Qo(n,e);return e}function xu(n,t,e){return e?t+":"+e+";":""}function xy(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=xu(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=xu(0,kS(e),n.style[e]));n.setAttribute("style",t)}function Xo(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Lg(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Gw()&&xy(n))}function Ec(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Lg(e);n.style[i]=""}),Gw()&&xy(n))}function Qd(n){return Array.isArray(n)?1==n.length?n[0]:by(n):n}const Fg=new RegExp("{{\\s*(.+?)\\s*}}","g");function ky(n){let t=[];if("string"==typeof n){let e;for(;e=Fg.exec(n);)t.push(e[1]);Fg.lastIndex=0}return t}function xf(n,t,e){const i=n.toString(),r=i.replace(Fg,(o,u)=>{let h=t[u];return t.hasOwnProperty(u)||(e.push(function Rw(n){return new s.vHH(3003,rn)}()),h=""),h.toString()});return r==i?n:r}function kf(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const xS=/-+([a-z0-9])/g;function Lg(n){return n.replace(xS,(...t)=>t[1].toUpperCase())}function kS(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Yd(n){return new s.vHH(3004,rn)}()}}function Qw(n,t){return window.getComputedStyle(n)[t]}function Oy(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function RS(n,t,e){if(":"==n[0]){const p=function aR(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function wS(n){return new s.vHH(3016,rn)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Bw(n){return new s.vHH(3015,rn)}()),t;const r=i[1],o=i[2],u=i[3];t.push(eC(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(eC(u,r))}(i,e,t)):e.push(n),e}const Ny=new Set(["true","1"]),Ry=new Set(["false","0"]);function eC(n,t){const e=Ny.has(n)||Ry.has(n),i=Ny.has(t)||Ry.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?Ny.has(n):Ry.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?Ny.has(t):Ry.has(t)),u&&h}}const lR=new RegExp("s*:selfs*,?","g");function Fy(n,t,e,i){return new PS(n).build(t,e,i)}class PS{constructor(t){this._driver=t}build(t,e,i){const r=new nC(e);this._resetContextStyleTimingState(r);const o=Xs(this,Qd(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function mS(){return new s.vHH(3006,rn)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(C=>{p.name=C,o.push(this.visitState(p,e))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,e);i+=p.queryCount,r+=p.depCount,u.push(p)}else e.errors.push(function _S(){return new s.vHH(3007,rn)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{if(Ug(h)){const p=h;Object.keys(p).forEach(y=>{ky(p[y]).forEach(C=>{u.hasOwnProperty(C)||o.add(C)})})}}),o.size&&(kf(o.values()),e.errors.push(function Kd(n,t){return new s.vHH(3008,rn)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Xs(this,Qd(t.animation),e);return{type:1,matchers:Oy(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ou(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Xs(this,i,e)),options:Ou(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=Xs(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:Ou(t.options)}}visitAnimate(t,e){const i=function iC(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Ly(Tl(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Ly(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||Tl(i,t),Ly(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Ur({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=Ur(y)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(u,e);p.isEmptyStep=h,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==El?i.push(u):e.errors.push(function yS(n){return new s.vHH(3002,rn)}()):i.push(u)}):i.push(t.styles);let r=!1,o=null;return i.forEach(u=>{if(Ug(u)){const h=u,p=h.easing;if(p&&(o=p,delete h.easing),!r)for(let y in h)if(h[y].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void e.unsupportedCSSPropertiesFound.add(h);const p=e.collectedStyles[e.currentQuerySelector],y=p[h];let C=!0;y&&(o!=r&&o>=y.startTime&&r<=y.endTime&&(e.errors.push(function vS(n,t,e,i,r){return new s.vHH(3010,rn)}()),C=!1),o=y.startTime),C&&(p[h]={startTime:o,endTime:r}),e.options&&function Yw(n,t,e){const i=t.params||{},r=ky(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function gS(n){return new s.vHH(3001,rn)}())})}(u[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function bS(){return new s.vHH(3011,rn)}()),i;let o=0;const u=[];let h=!1,p=!1,y=0;const C=t.steps.map(xe=>{const De=this._makeStyleAst(xe,e);let je=null!=De.offset?De.offset:function Bg(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Ug(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Ug(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(De.styles),Se=0;return null!=je&&(o++,Se=De.offset=je),p=p||Se<0||Se>1,h=h||Se<y,y=Se,u.push(Se),De});p&&e.errors.push(function Yo(){return new s.vHH(3012,rn)}()),h&&e.errors.push(function Cy(){return new s.vHH(3200,rn)}());const I=t.steps.length;let N=0;o>0&&o<I?e.errors.push(function Fw(){return new s.vHH(3202,rn)}()):0==o&&(N=1/(I-1));const P=I-1,U=e.currentTime,W=e.currentAnimateTimings,oe=W.duration;return C.forEach((xe,De)=>{const je=N>0?De==P?1:N*De:u[De],Se=je*oe;e.currentTime=U+W.delay+Se,W.duration=Se,this._validateStyleAst(xe,e),xe.offset=je,i.styles.push(xe)}),i}visitReference(t,e){return{type:8,animation:Xs(this,Qd(t.animation),e),options:Ou(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ou(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ou(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function tC(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(lR,"")),n=n.replace(/@\*/g,ls).replace(/@\w+/g,e=>ls+"-"+e.substr(1)).replace(/:animating/g,Cc),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,So(e.collectedStyles,e.currentQuerySelector,{});const h=Xs(this,Qd(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Ou(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Lw(){return new s.vHH(3013,rn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Tl(t.timings,e.errors,!0);return{type:12,animation:Xs(this,Qd(t.animation),e),timings:i,options:null}}}class nC{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ug(n){return!Array.isArray(n)&&"object"==typeof n}function Ou(n){return n?(n=Qo(n)).params&&(n.params=function FS(n){return n?Qo(n):null}(n.params)):n={},n}function Ly(n,t,e){return{duration:n,delay:t,easing:e}}function Vy(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class jg{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const VS=new RegExp(":enter","g"),oC=new RegExp(":leave","g");function Nf(n,t,e,i,r,o={},u={},h,p,y=[]){return(new cR).buildKeyframes(n,t,e,i,r,o,u,h,p,y)}class cR{buildKeyframes(t,e,i,r,o,u,h,p,y,C=[]){y=y||new jg;const I=new By(t,e,y,r,o,C,[]);I.options=p,I.currentTimeline.setStyles([u],null,I.errors,p),Xs(this,i,I);const N=I.timelines.filter(P=>P.containsAnimation());if(Object.keys(h).length){let P;for(let U=N.length-1;U>=0;U--){const W=N[U];if(W.element===e){P=W;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([h],null,I.errors,p)}return N.length?N.map(P=>P.buildKeyframes()):[Vy(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?Io(i.duration):null,h=null!=i.delay?Io(i.delay):null;return 0!==u&&t.forEach(p=>{const y=e.appendInstructionToTimeline(p,u,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Xs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=eh);const u=Io(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Xs(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Io(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Xs(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Tl(e.params?xf(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(p=>{h.forwardTime((p.offset||0)*o),h.setStyles(p.styles,p.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Io(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=eh);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let p=null;h.forEach((y,C)=>{e.currentQueryIndex=C;const I=e.createSubContext(t.options,y);o&&I.delayNextStep(o),y===e.element&&(p=I.currentTimeline),Xs(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let p=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const C=e.currentTimeline;p&&C.delayNextStep(p);const I=C.currentTime;Xs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const eh={};class By{constructor(t,e,i,r,o,u,h,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Uy(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Io(i.duration)),null!=i.delay&&(r.delay=Io(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=xf(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new By(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=eh,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new Rf(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(VS,"."+this._enterClassName)).replace(oC,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!o&&0==h.length&&u.push(function Vw(n){return new s.vHH(3014,rn)}()),h}}class Uy{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Uy(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||El,this._currentKeyframe[e]=El}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},u=function Hy(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=El})):Qs(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const p=xf(u[h],o,i);this._pendingStyles[h]=p,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:El),this._updateStyle(h,p)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const y=Qs(h,!0);Object.keys(y).forEach(C=>{const I=y[C];"!"==I?t.add(C):I==El&&e.add(C)}),i||(y.offset=p/this.duration),r.push(y)});const o=t.size?kf(t.values()):[],u=e.size?kf(e.values()):[];if(i){const h=r[0],p=Qo(h);h.offset=0,p.offset=1,r=[h,p]}return Vy(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class Rf extends Uy{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,p=Qs(t[0],!1);p.offset=0,o.push(p);const y=Qs(t[0],!1);y.offset=jy(h),o.push(y);const C=t.length-1;for(let I=1;I<=C;I++){let N=Qs(t[I],!1);N.offset=jy((e+N.offset*i)/u),o.push(N)}i=u,e=0,r="",t=o}return Vy(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function jy(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Gy{}class Hg extends Gy{normalizePropertyName(t,e){return Lg(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(zy[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function Pw(n,t){return new s.vHH(3005,rn)}())}return u+o}}const zy=(()=>function uR(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function lC(n,t,e,i,r,o,u,h,p,y,C,I,N){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:C,totalTime:I,errors:N}}const th={};class Pf{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function cC(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):u}build(t,e,i,r,o,u,h,p,y,C){const I=[],N=this.ast.options&&this.ast.options.params||th,U=this.buildStyles(i,h&&h.params||th,I),W=p&&p.params||th,oe=this.buildStyles(r,W,I),xe=new Set,De=new Map,je=new Map,Se="void"===r,Ze={params:Object.assign(Object.assign({},N),W)},ze=C?[]:Nf(t,e,this.ast.animation,o,u,U,oe,Ze,y,I);let Dt=0;if(ze.forEach(on=>{Dt=Math.max(on.duration+on.delay,Dt)}),I.length)return lC(e,this._triggerName,i,r,Se,U,oe,[],[],De,je,Dt,I);ze.forEach(on=>{const zt=on.element,Vt=So(De,zt,{});on.preStyleProps.forEach(Xi=>Vt[Xi]=!0);const bi=So(je,zt,{});on.postStyleProps.forEach(Xi=>bi[Xi]=!0),zt!==e&&xe.add(zt)});const Et=kf(xe.values());return lC(e,this._triggerName,i,r,Se,U,oe,ze,Et,De,je,Dt)}}class uC{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Qo(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!=u&&(r[o]=u)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const u=o;Object.keys(u).forEach(h=>{let p=u[h];p.length>1&&(p=xf(p,r,e));const y=this.normalizer.normalizePropertyName(h,e);p=this.normalizer.normalizeStyleValue(h,y,p,e),i[y]=p})}}),i}}class dC{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new uC(r.style,r.options&&r.options.params||{},i)}),Gg(this.states,"true","1"),Gg(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Pf(t,r,this.states))}),this.fallbackTransition=function hC(n,t,e){return new Pf(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Gg(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Wy=new jg;class BS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=Fy(this._driver,e,i,[]);if(i.length)throw function tR(n){return new s.vHH(3503,rn)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=Ey(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let u;const h=new Map;if(o?(u=Nf(this._driver,e,o,sr,ja,{},{},i,Wy,r),u.forEach(C=>{const I=So(h,C.element,{});C.postStyleProps.forEach(N=>I[N]=null)})):(r.push(function jw(){return new s.vHH(3300,rn)}()),u=[]),r.length)throw function TS(n){return new s.vHH(3504,rn)}();h.forEach((C,I)=>{Object.keys(C).forEach(N=>{C[N]=this._driver.computeStyle(I,N,El)})});const y=Tu(u.map(C=>{const I=h.get(C.element);return this._buildPlayer(C,{},I)}));return this._playersById[t]=y,y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function SS(n){return new s.vHH(3301,rn)}();return e}listen(t,e,i,r){const o=Ty(e,"","","");return xg(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Zy="ng-animate-queued",Ff="ng-animate-disabled",mC=[],$g={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zg={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},eo="__ng_removed";class qg{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function dR(n){return null!=n?n:null}(i?t.value:t),i){const o=Qo(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const nh="void",Wg=new qg(nh);class _C{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,to(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function nR(n,t){return new s.vHH(3302,rn)}();if(null==i||0==i.length)throw function iR(n){return new s.vHH(3303,rn)}();if(!function jS(n){return"start"==n||"done"==n}(i))throw function Dy(n,t){return new s.vHH(3400,rn)}();const o=So(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=So(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(to(t,Mu),to(t,Mu+"-"+e),h[e]=Wg),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(u);p>=0&&o.splice(p,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function IS(n){return new s.vHH(3401,rn)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new Zg(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(to(t,Mu),to(t,Mu+"-"+e),this._engine.statesByElement.set(t,h={}));let p=h[e];const y=new qg(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h[e]=y,p||(p=Wg),y.value!==nh&&p.value===y.value){if(!function DC(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(p.params,y.params)){const W=[],oe=o.matchStyles(p.value,p.params,W),xe=o.matchStyles(y.value,y.params,W);W.length?this._engine.reportError(W):this._engine.afterFlush(()=>{Ec(t,oe),Xo(t,xe)})}return}const N=So(this._engine.playersByElement,t,[]);N.forEach(W=>{W.namespaceId==this.id&&W.triggerName==e&&W.queued&&W.destroy()});let P=o.matchTransition(p.value,y.value,t,y.params),U=!1;if(!P){if(!r)return;P=o.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:p,toState:y,player:u,isFallbackTransition:U}),U||(to(t,Zy),u.onStart(()=>{ih(t,Zy)})),u.onDone(()=>{let W=this.players.indexOf(u);W>=0&&this.players.splice(W,1);const oe=this._engine.playersByElement.get(t);if(oe){let xe=oe.indexOf(u);xe>=0&&oe.splice(xe,1)}}),this.players.push(u),N.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,ls,!0);i.forEach(r=>{if(r[eo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(Object.keys(o).forEach(p=>{if(u.set(p,o[p].value),this._triggers[p]){const y=this.trigger(t,p,nh,r);y&&h.push(y)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Tu(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const p=this._triggers[u].fallbackTransition,y=i[u]||Wg,C=new qg(nh),I=new Zg(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:p,fromState:y,toState:C,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[eo];(!o||o===$g)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){to(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const p=Ty(o,i.triggerName,i.fromState.value,i.toState.value);p._data=t,xg(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class yC{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new _C(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(e);for(;h;){const p=r.get(h);if(p){const y=i.indexOf(p);i.splice(y+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=o;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,e)){i.splice(h+1,0,t),u=!0;break}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const u=i[r[o]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(Yg(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Yg(e))return;const o=e[eo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),to(t,Ff)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ih(t,Ff))}removeNode(t,e,i,r){if(Yg(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[eo]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Yg(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,ls,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Cc,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Tu(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[eo];if(i&&i.setForRemoval){if(t[eo]=$g,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Ff))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)to(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Tu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Hw(n){return new s.vHH(3402,rn)}()}_flushAnimations(t,e){const i=new jg,r=[],o=new Map,u=[],h=new Map,p=new Map,y=new Map,C=new Set;this.disabledNodes.forEach(it=>{C.add(it);const pt=this.driver.query(it,".ng-animate-queued",!0);for(let Rt=0;Rt<pt.length;Rt++)C.add(pt[Rt])});const I=this.bodyNode,N=Array.from(this.statesByElement.keys()),P=Fi(N,this.collectedEnterElements),U=new Map;let W=0;P.forEach((it,pt)=>{const Rt=sr+W++;U.set(pt,Rt),it.forEach(tn=>to(tn,Rt))});const oe=[],xe=new Set,De=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const pt=this.collectedLeaveElements[it],Rt=pt[eo];Rt&&Rt.setForRemoval&&(oe.push(pt),xe.add(pt),Rt.hasAnimation?this.driver.query(pt,".ng-star-inserted",!0).forEach(tn=>xe.add(tn)):De.add(pt))}const je=new Map,Se=Fi(N,Array.from(xe));Se.forEach((it,pt)=>{const Rt=ja+W++;je.set(pt,Rt),it.forEach(tn=>to(tn,Rt))}),t.push(()=>{P.forEach((it,pt)=>{const Rt=U.get(pt);it.forEach(tn=>ih(tn,Rt))}),Se.forEach((it,pt)=>{const Rt=je.get(pt);it.forEach(tn=>ih(tn,Rt))}),oe.forEach(it=>{this.processLeaveNode(it)})});const Ze=[],ze=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(e).forEach(Rt=>{const tn=Rt.player,Si=Rt.element;if(Ze.push(tn),this.collectedEnterElements.length){const pr=Si[eo];if(pr&&pr.setForMove){if(pr.previousTriggersValues&&pr.previousTriggersValues.has(Rt.triggerName)){const co=pr.previousTriggersValues.get(Rt.triggerName),Qa=this.statesByElement.get(Rt.element);Qa&&Qa[Rt.triggerName]&&(Qa[Rt.triggerName].value=co)}return void tn.destroy()}}const Oo=!I||!this.driver.containsElement(I,Si),Sr=je.get(Si),oa=U.get(Si),Vn=this._buildInstruction(Rt,i,oa,Sr,Oo);if(Vn.errors&&Vn.errors.length)return void ze.push(Vn);if(Oo)return tn.onStart(()=>Ec(Si,Vn.fromStyles)),tn.onDestroy(()=>Xo(Si,Vn.toStyles)),void r.push(tn);if(Rt.isFallbackTransition)return tn.onStart(()=>Ec(Si,Vn.fromStyles)),tn.onDestroy(()=>Xo(Si,Vn.toStyles)),void r.push(tn);const $l=[];Vn.timelines.forEach(pr=>{pr.stretchStartingKeyframe=!0,this.disabledNodes.has(pr.element)||$l.push(pr)}),Vn.timelines=$l,i.append(Si,Vn.timelines),u.push({instruction:Vn,player:tn,element:Si}),Vn.queriedElements.forEach(pr=>So(h,pr,[]).push(tn)),Vn.preStyleProps.forEach((pr,co)=>{const Qa=Object.keys(pr);if(Qa.length){let ld=p.get(co);ld||p.set(co,ld=new Set),Qa.forEach(Wp=>ld.add(Wp))}}),Vn.postStyleProps.forEach((pr,co)=>{const Qa=Object.keys(pr);let ld=y.get(co);ld||y.set(co,ld=new Set),Qa.forEach(Wp=>ld.add(Wp))})});if(ze.length){const it=[];ze.forEach(pt=>{it.push(function rR(n,t){return new s.vHH(3505,rn)}())}),Ze.forEach(pt=>pt.destroy()),this.reportError(it)}const Dt=new Map,Et=new Map;u.forEach(it=>{const pt=it.element;i.has(pt)&&(Et.set(pt,pt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,Dt))}),r.forEach(it=>{const pt=it.element;this._getPreviousPlayers(pt,!1,it.namespaceId,it.triggerName,null).forEach(tn=>{So(Dt,pt,[]).push(tn),tn.destroy()})});const on=oe.filter(it=>Ky(it,p,y)),zt=new Map;bC(zt,this.driver,De,y,El).forEach(it=>{Ky(it,p,y)&&on.push(it)});const bi=new Map;P.forEach((it,pt)=>{bC(bi,this.driver,new Set(it),p,"!")}),on.forEach(it=>{const pt=zt.get(it),Rt=bi.get(it);zt.set(it,Object.assign(Object.assign({},pt),Rt))});const Xi=[],Vh=[],Bh={};u.forEach(it=>{const{element:pt,player:Rt,instruction:tn}=it;if(i.has(pt)){if(C.has(pt))return Rt.onDestroy(()=>Xo(pt,tn.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(tn.totalTime),void r.push(Rt);let Si=Bh;if(Et.size>1){let Sr=pt;const oa=[];for(;Sr=Sr.parentNode;){const Vn=Et.get(Sr);if(Vn){Si=Vn;break}oa.push(Sr)}oa.forEach(Vn=>Et.set(Vn,Si))}const Oo=this._buildAnimation(Rt.namespaceId,tn,Dt,o,bi,zt);if(Rt.setRealPlayer(Oo),Si===Bh)Xi.push(Rt);else{const Sr=this.playersByElement.get(Si);Sr&&Sr.length&&(Rt.parentPlayer=Tu(Sr)),r.push(Rt)}}else Ec(pt,tn.fromStyles),Rt.onDestroy(()=>Xo(pt,tn.toStyles)),Vh.push(Rt),C.has(pt)&&r.push(Rt)}),Vh.forEach(it=>{const pt=o.get(it.element);if(pt&&pt.length){const Rt=Tu(pt);it.setRealPlayer(Rt)}}),r.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<oe.length;it++){const pt=oe[it],Rt=pt[eo];if(ih(pt,ja),Rt&&Rt.hasAnimation)continue;let tn=[];if(h.size){let Oo=h.get(pt);Oo&&Oo.length&&tn.push(...Oo);let Sr=this.driver.query(pt,Cc,!0);for(let oa=0;oa<Sr.length;oa++){let Vn=h.get(Sr[oa]);Vn&&Vn.length&&tn.push(...Vn)}}const Si=tn.filter(Oo=>!Oo.destroyed);Si.length?HS(this,pt,Si):this.processLeaveNode(pt)}return oe.length=0,Xi.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const pt=this.players.indexOf(it);this.players.splice(pt,1)}),it.play()}),Xi}elementContainsData(t,e){let i=!1;const r=e[eo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const p=!o||o==nh;h.forEach(y=>{y.queued||!p&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const y=p.element,C=y!==o,I=So(i,y,[]);this._getPreviousPlayers(y,C,u,h,e.toState).forEach(P=>{const U=P.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),P.destroy(),I.push(P)})}Ec(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,p=e.element,y=[],C=new Set,I=new Set,N=e.timelines.map(U=>{const W=U.element;C.add(W);const oe=W[eo];if(oe&&oe.removedBeforeQueried)return new Sf(U.duration,U.delay);const xe=W!==p,De=function wC(n){const t=[];return CC(n,t),t}((i.get(W)||mC).map(Dt=>Dt.getRealPlayer())).filter(Dt=>!!Dt.element&&Dt.element===W),je=o.get(W),Se=u.get(W),Ze=Ey(0,this._normalizer,0,U.keyframes,je,Se),ze=this._buildPlayer(U,Ze,De);if(U.subTimeline&&r&&I.add(W),xe){const Dt=new Zg(t,h,W);Dt.setRealPlayer(ze),y.push(Dt)}return ze});y.forEach(U=>{So(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function vC(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,U.element,U))}),C.forEach(U=>to(U,Pg));const P=Tu(N);return P.onDestroy(()=>{C.forEach(U=>ih(U,Pg)),Xo(p,e.toStyles)}),I.forEach(U=>{So(r,U,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Sf(t.duration,t.delay)}}class Zg{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Sf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>xg(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){So(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Yg(n){return n&&1===n.nodeType}function Yy(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function bC(n,t,e,i,r){const o=[];e.forEach(p=>o.push(Yy(p)));const u=[];i.forEach((p,y)=>{const C={};p.forEach(I=>{const N=C[I]=t.computeStyle(y,I,r);(!N||0==N.length)&&(y[eo]=zg,u.push(y))}),n.set(y,C)});let h=0;return e.forEach(p=>Yy(p,o[h++])),u}function Fi(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let p=o.get(h);if(p)return p;const y=h.parentNode;return p=e.has(y)?y:r.has(y)?1:u(y),o.set(h,p),p}return t.forEach(h=>{const p=u(h);1!==p&&e.get(p).push(h)}),e}function to(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function ih(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function HS(n,t,e){Tu(e).onDone(()=>n.processLeaveNode(t))}function CC(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Mg?CC(i.players,t):t.push(i)}}function Ky(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Sl{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new yC(t,e,i),this._timelineEngine=new BS(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const p=[],C=Fy(this._driver,o,p,[]);if(p.length)throw function ES(n,t){return new s.vHH(3404,rn)}();h=function qy(n,t,e){return new dC(n,t,e)}(r,C,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=Sy(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=Sy(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let $S=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Xo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xo(this._element,this._initialStyles),this._endStyles&&(Xo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ec(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ec(this._element,this._endStyles),this._endStyles=null),Xo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Kg(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];zS(r)&&(t=t||{},t[r]=n[r])}return t}function zS(n){return"display"===n||"position"===n}class Jy{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:Qw(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class hR{validateStyleProperty(t){return qw(t)}matchesElement(t,e){return!1}containsElement(t,e){return Iu(t,e)}getParentElement(t){return Iy(t)}query(t,e,i){return Ww(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const y={},C=u.filter(N=>N instanceof Jy);(function Kw(n,t){return 0===n||0===t})(i,r)&&C.forEach(N=>{let P=N.currentSnapshot;Object.keys(P).forEach(U=>y[U]=P[U])}),e=function Jw(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],u=[];if(i.forEach(h=>{o.hasOwnProperty(h)||u.push(h),o[h]=e[h]}),u.length)for(var r=1;r<t.length;r++){let h=t[r];u.forEach(function(p){h[p]=Qw(n,p)})}}return t}(t,e=e.map(N=>Qs(N,!1)),y);const I=function GS(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Kg(t[0]),t.length>1&&(i=Kg(t[t.length-1]))):t&&(e=Kg(t)),e||i?new $S(n,e,i):null}(t,e);return new Jy(t,e,p,I)}}let Qy=(()=>{class n extends Ig{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?by(e):e;return EC(this._renderer,null,i,"register",[r]),new Xy(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Xy extends class JN{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ha(this._id,t,e||{},this._renderer)}}class Ha{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return EC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function EC(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const ea="@.disabled";let ta=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=null==u?void 0:u.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(o);return C||(C=new Mo("",o,this.engine),this._rendererCache.set(o,C)),C}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const p=C=>{Array.isArray(C)?C.forEach(p):this.engine.registerTrigger(u,h,e,C.name,C)};return i.data.animation.forEach(p),new TC(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(Sl),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Mo{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==ea?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class TC extends Mo{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==ea?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function SC(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),u="";return"@"!=o.charAt(0)&&([o,u]=function qS(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let WS=(()=>{class n extends Sl{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne),s.LFG(My),s.LFG(Gy))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Il=new s.OlP("AnimationModuleType"),rh=[{provide:Ig,useClass:Qy},{provide:Gy,useFactory:function ZS(){return new Hg}},{provide:Sl,useClass:WS},{provide:s.FYo,useFactory:function YS(n,t,e){return new ta(n,t,e)},deps:[On,Sl,s.R0b]}],IC=[{provide:My,useFactory:()=>new hR},{provide:Il,useValue:"BrowserAnimations"},...rh],ev=[{provide:My,useClass:Zw},{provide:Il,useValue:"NoopAnimations"},...rh];let KS=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?ev:IC}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:IC,imports:[js]}),n})(),MC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:ev,imports:[js]}),n})();const kC=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function xC(){return!0}});let Qn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!yf()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Mw),s.LFG(kC,8),s.LFG(ne))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[mf],mf]}),n})();function iv(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=nn(t)}}}function Vf(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Bf(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=nn(t)}}}function iI(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new Ot.x,this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}const rI=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function sI(){return(0,s.f3M)(s.soG)}});class wr{constructor(){this._localeChanges=new Ot.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Nu=new s.OlP("mat-date-formats"),oI=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function rv(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let aI=(()=>{class n extends wr{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return rv(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return rv(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return rv(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(oI.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(rI,8),s.LFG(Vr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const lI={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let cI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:wr,useClass:aI}]}),n})(),uI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:Nu,useValue:lI}],imports:[[cI]]}),n})(),OC=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function sh(n,t,e){n.nativeElement.classList.toggle(t,e)}let ov=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Qn],Qn]}),n})();class RC{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const av={enterDuration:225,exitDuration:150},Qg=_g({passive:!0}),lv=["mousedown","touchstart"],cv=["mouseup","mouseleave","touchend","touchcancel"];class uv{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=La(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},av),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function Ru(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,p=e-r.top,y=o.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=h-u+"px",C.style.top=p-u+"px",C.style.height=2*u+"px",C.style.width=2*u+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(C),function dv(n){window.getComputedStyle(n).getPropertyValue("opacity")}(C),C.style.transform="scale(1)";const I=new RC(this,C,i);return I.state=0,this._activeRipples.add(I),i.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const N=I===this._mostRecentTransientRipple;I.state=1,!i.persistent&&(!N||!this._isPointerDown)&&I.fadeOut()},y),I}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},av),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=La(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(lv))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(cv),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Cw(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Dw(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Qg)})})}_removeTriggerEvents(){this._triggerElement&&(lv.forEach(t=>{this._triggerElement.removeEventListener(t,this,Qg)}),this._pointerUpEventsRegistered&&cv.forEach(t=>{this._triggerElement.removeEventListener(t,this,Qg)}))}}const dI=new s.OlP("mat-ripple-global-options");let Xg=(()=>{class n{constructor(e,i,r,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new uv(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Vr),s.Y36(dI,8),s.Y36(Il,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Tc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Qn],Qn]}),n})(),Uf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Qn]]}),n})(),ai=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Tc,hi,Qn,Uf]]}),n})();var jf=F(6451),Ki=F(5577),pI=F(1144),Ga=F(576);const FC=["addListener","removeListener"],LC=["addEventListener","removeEventListener"],VC=["on","off"];function or(n,t,e,i){if((0,Ga.m)(e)&&(i=e,e=void 0),i)return or(n,t,e).pipe(dl(i));const[r,o]=function Hf(n){return(0,Ga.m)(n.addEventListener)&&(0,Ga.m)(n.removeEventListener)}(n)?LC.map(u=>h=>n[u](t,h,e)):function gI(n){return(0,Ga.m)(n.addListener)&&(0,Ga.m)(n.removeListener)}(n)?FC.map(BC(n,t)):function mI(n){return(0,Ga.m)(n.on)&&(0,Ga.m)(n.off)}(n)?VC.map(BC(n,t)):[];if(!r&&(0,pI.z)(n))return(0,Ki.z)(u=>or(u,t,e))((0,pi.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new yn.y(u=>{const h=(...p)=>u.next(1<p.length?p:p[0]);return r(h),()=>o(h)})}function BC(n,t){return e=>i=>n[e](t,i)}const _I=["connectionContainer"],yI=["inputContainer"],vI=["label"];function em(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function UC(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function jC(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function HC(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function bI(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function Gf(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.YNc(2,jC,4,1,"ng-container",12),s.YNc(3,HC,1,0,"ng-content",12),s.YNc(4,bI,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function $f(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function wI(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function CI(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function DI(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function GC(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,DI,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const $C=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],zC=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],qC=new s.OlP("MatError"),EI={transitionMessages:Wd("transitionMessages",[Ms("enter",Ur({opacity:1,transform:"translateY(0%)"})),wc("void => enter",[Ur({opacity:0,transform:"translateY(-5px)"}),bc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let WC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})(),ZC=0;const zf=new s.OlP("MatHint");let TI=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+ZC++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id)("align",null),s.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[s._Bn([{provide:zf,useExisting:n}])]}),n})(),Ml=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),YC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const oh=new s.OlP("MatPrefix");let SI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matPrefix",""]],features:[s._Bn([{provide:oh,useExisting:n}])]}),n})();const KC=new s.OlP("MatSuffix");let ah=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:KC,useExisting:n}])]}),n})(),JC=0;const MI=Vf(class{constructor(n){this._elementRef=n}},"primary"),AI=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Sc=new s.OlP("MatFormField");let Pu=(()=>{class n extends MI{constructor(e,i,r,o,u,h,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ot.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+JC++,this._labelId="mat-form-field-label-"+JC++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=nn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(as(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(gn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(gn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,jf.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(as(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(as(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(gn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,or(this._label.nativeElement,"transitionend").pipe((0,ni.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const C=i.querySelectorAll(`${r}, ${o}`);for(let I=0;I<C.length;I++)C[I].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const p=i.querySelectorAll(r),y=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const C=i.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const I=this._getStartEnd(C),N=e.children,P=this._getStartEnd(N[0].getBoundingClientRect());let U=0;for(let W=0;W<N.length;W++)U+=N[W].offsetWidth;u=Math.abs(P-I)-5,h=U>0?.75*U+10:0}for(let C=0;C<p.length;C++)p[C].style.width=`${u}px`;for(let C=0;C<y.length;C++)y[C].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(jd,8),s.Y36(AI,8),s.Y36(Vr),s.Y36(s.R0b),s.Y36(Il,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,WC,5),s.Suo(r,WC,7),s.Suo(r,Ml,5),s.Suo(r,Ml,7),s.Suo(r,YC,5),s.Suo(r,qC,5),s.Suo(r,zf,5),s.Suo(r,oh,5),s.Suo(r,KC,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(_I,7),s.Gf(yI,5),s.Gf(vI,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:Sc,useExisting:n}]),s.qOj],ngContentSelectors:zC,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t($C),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,em,9,0,"ng-container",3),s.YNc(4,UC,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,Gf,5,16,"label",8),s.qZA()(),s.YNc(10,$f,2,0,"div",9),s.qZA(),s.YNc(11,wI,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,CI,2,1,"div",12),s.YNc(14,GC,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},directives:[An,fT,$i,xr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[EI.transitionMessages]},changeDetection:0}),n})(),qf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hi,Qn,$0],Qn]}),n})();var Al=F(515);const mv=_g({passive:!0});let xI=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Al.E;const i=La(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Ot.x,u="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,mv),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,mv)}}),o}stopMonitoring(e){const i=La(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vr),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const _v=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),QC=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let OI=0;const NI=iI(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let Fu=(()=>{class n extends NI{constructor(e,i,r,o,u,h,p,y,C,I){super(h,o,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=y,this._formField=I,this._uid="mat-input-"+OI++,this.focused=!1,this.stateChanges=new Ot.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>W0().has(U));const N=this._elementRef.nativeElement,P=N.nodeName.toLowerCase();this._inputValueAccessor=p||N,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",U=>{const W=U.target;!W.value&&0===W.selectionStart&&0===W.selectionEnd&&(W.setSelectionRange(1,1),W.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===P,this._isTextarea="textarea"===P,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=N.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=nn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,o;return null!==(o=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(vo.required))&&void 0!==o&&o}set required(e){this._required=nn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&W0().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=nn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=r,r?o.setAttribute("placeholder",r):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){QC.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Vr),s.Y36(Rr,10),s.Y36(Wo,8),s.Y36(Ld,8),s.Y36(OC),s.Y36(_v,10),s.Y36(xI),s.Y36(s.R0b),s.Y36(Sc,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:WC,useExisting:n}]),s.qOj,s.TTD]}),n})(),yv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[OC],imports:[[tm,qf,Qn],tm,qf]}),n})();var XC=F(4408);const lh={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=lh;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Br.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=lh;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=lh;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var eD=F(7565);new class PI extends eD.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class RI extends XC.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=lh.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(lh.cancelAnimationFrame(e),t._scheduled=void 0)}});let vv,LI=1;const nm={};function bv(n){return n in nm&&(delete nm[n],!0)}const tD={setImmediate(n){const t=LI++;return nm[t]=!0,vv||(vv=Promise.resolve()),vv.then(()=>bv(t)&&n()),t},clearImmediate(n){bv(n)}},{setImmediate:BI,clearImmediate:wv}=tD,Wf={setImmediate(...n){const{delegate:t}=Wf;return((null==t?void 0:t.setImmediate)||BI)(...n)},clearImmediate(n){const{delegate:t}=Wf;return((null==t?void 0:t.clearImmediate)||wv)(n)},delegate:void 0};new class jI extends eD.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class UI extends XC.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Wf.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Wf.clearImmediate(e),t._scheduled=void 0)}});var Dv=F(3532);function im(n=0,t,e=gf.P){let i=-1;return null!=t&&((0,Dv.K)(t)?e=t:i=t),new yn.y(r=>{let o=function HI(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function rm(n,t=gf.z){return function iD(n){return(0,Yi.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const y=r;r=null,e.next(y)}u&&e.complete()},p=()=>{o=null,u&&e.complete()};t.subscribe((0,pn.x)(e,y=>{i=!0,r=y,o||(0,pi.Xf)(n(y)).subscribe(o=(0,pn.x)(e,h,p))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>im(n,t))}let qI=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ot.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new yn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(rm(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ht()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Pi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=La(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>or(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Vr),s.LFG(ne,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lu=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ot.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(rm(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vr),s.LFG(s.R0b),s.LFG(ne,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),rD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[mf,om],mf,om]}),n})();class Sv{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class lm extends Sv{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class oD extends Sv{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class JI extends Sv{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class aD{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof lm?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof oD?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof JI?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class QI extends aD{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Vu=(()=>{class n extends aD{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(ne))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Bu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Iv=Va();class eM{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Oi(-this._previousScrollPosition.left),t.style.top=Oi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Iv&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Iv&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class cD{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class tM{enable(){}disable(){}attach(){}}function cm(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function um(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class uD{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();cm(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let dD=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new tM,this.close=u=>new cD(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new eM(this._viewportRuler,this._document),this.reposition=u=>new uD(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qI),s.LFG(Lu),s.LFG(s.R0b),s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Mv{constructor(t){if(this.scrollStrategy=new tM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class iM{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class rM{constructor(t,e,i,r,o,u,h,p,y){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=p,this._outsideClickDispatcher=y,this._backdropElement=null,this._backdropClick=new Ot.x,this._attachments=new Ot.x,this._detachments=new Ot.x,this._locationChanges=Br.w0.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new Ot.x,this._outsidePointerEvents=new Ot.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ni.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Oi(this._config.width),t.height=Oi(this._config.height),t.minWidth=Oi(this._config.minWidth),t.minHeight=Oi(this._config.minHeight),t.maxWidth=Oi(this._config.maxWidth),t.maxHeight=Oi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=j0(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(gn((0,jf.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let hD=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||yf()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),yf()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne),s.LFG(Vr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ch="cdk-overlay-connected-position-bounding-box",fD=/([A-Za-z%]+)$/;class Av{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ot.x,this._resizeSubscription=Br.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(ch),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let p=this._getOriginPoint(t,r,h),y=this._getOverlayPoint(p,e,h),C=this._getOverlayFit(y,e,i,h);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(C,y,i)?o.push({position:h,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!u||u.overlayFit.visibleArea<C.visibleArea)&&(u={overlayFit:C,overlayPoint:y,originPoint:p,position:h,overlayRect:e})}if(o.length){let h=null,p=-1;for(const y of o){const C=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);C>p&&(p=C,h=y)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ic(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ch),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=kv(e);let{x:u,y:h}=t,p=this._getOffset(r,"x"),y=this._getOffset(r,"y");p&&(u+=p),y&&(h+=y);let N=0-h,P=h+o.height-i.height,U=this._subtractOverflows(o.width,0-u,u+o.width-i.width),W=this._subtractOverflows(o.height,N,P),oe=U*W;return{visibleArea:oe,isCompletelyWithinViewport:o.width*o.height===oe,fitsInViewportVertically:W===o.height,fitsInViewportHorizontally:U==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,u=xv(this._overlayRef.getConfig().minHeight),h=xv(this._overlayRef.getConfig().minWidth),y=t.fitsInViewportHorizontally||null!=h&&h<=o;return(t.fitsInViewportVertically||null!=u&&u<=r)&&y}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=kv(e),o=this._viewportRect,u=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),p=Math.max(o.top-i.top-t.y,0),y=Math.max(o.left-i.left-t.x,0);let C=0,I=0;return C=r.width<=o.width?y||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,I=r.height<=o.height?p||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:C,y:I},{x:t.x+C,y:t.y+I}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new iM(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,u,h,C,I,N;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const P=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;o=2*P,u=t.y-P,o>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)N=i.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)I=t.x,C=i.right-t.x;else{const P=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;C=2*P,I=t.x-P,C>U&&!this._isInitialRender&&!this._growAfterOpen&&(I=t.x-U/2)}return{top:u,left:I,bottom:h,right:N,width:C,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Oi(i.height),r.top=Oi(i.top),r.bottom=Oi(i.bottom),r.width=Oi(i.width),r.left=Oi(i.left),r.right=Oi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Oi(o)),u&&(r.maxWidth=Oi(u))}this._lastBoundingBoxSize=i,Ic(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ic(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ic(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();Ic(i,this._getExactOverlayY(e,t,C)),Ic(i,this._getExactOverlayX(e,t,C))}else i.position="static";let h="",p=this._getOffset(e,"x"),y=this._getOffset(e,"y");p&&(h+=`translateX(${p}px) `),y&&(h+=`translateY(${y}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=Oi(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Oi(u.maxWidth):o&&(i.maxWidth="")),Ic(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Oi(o.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Oi(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:um(t,i),isOriginOutsideView:cm(t,i),isOverlayClipped:um(e,i),isOverlayOutsideView:cm(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&j0(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Ic(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function xv(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(fD);return e&&"px"!==e?null:parseFloat(t)}return n||null}function kv(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Ov="cdk-global-overlay-wrapper";class sM{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Ov),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),y=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h);t.position=this._cssPosition,t.marginLeft=p?"0":this._leftOffset,t.marginTop=y?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,p?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Ov),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let pD=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new sM}flexibleConnectedTo(e){return new Av(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lu),s.LFG(ne),s.LFG(Vr),s.LFG(hD))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gD=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oM=(()=>{class n extends gD{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aM=(()=>{class n extends gD{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Dl(o)},this._clickListener=o=>{const u=Dl(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const C=p[y];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(u)||C.overlayElement.contains(h))break;const I=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(o)):I.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne),s.LFG(Vr),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lM=0,xl=(()=>{class n{constructor(e,i,r,o,u,h,p,y,C,I,N){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=p,this._document=y,this._directionality=C,this._location=I,this._outsideClickDispatcher=N}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new Mv(e);return u.direction=u.direction||this._directionality.value,new rM(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+lM++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new QI(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(dD),s.LFG(hD),s.LFG(s._Vd),s.LFG(pD),s.LFG(oM),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(ne),s.LFG(jd),s.LFG(Oe),s.LFG(aM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Zf={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[xl],useFactory:function dm(n){return()=>n.scrollStrategies.reposition()}};let mD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xl,Zf],imports:[[mf,Bu,rD],rD]}),n})();const cM=["mat-button",""],hm=["*"],dM=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],_D=Vf(iv(Bf(class{constructor(n){this._elementRef=n}})));let jr=(()=>{class n extends _D{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of dM)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(wf),s.Y36(Il,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(Xg,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:cM,ngContentSelectors:hm,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Xg],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Pv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Tc,Qn],Qn]}),n})();const hM=["mat-calendar-body",""];function fM(n,t){if(1&n&&(s.TgZ(0,"tr",2)(1,"td",3),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e.numCols),s.xp6(1),s.hij(" ",e.label," ")}}function HR(n,t){if(1&n&&(s.TgZ(0,"td",3),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e._firstRowOffset),s.xp6(1),s.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Fv(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",7)(1,"button",8),s.NdJ("click",function(r){const u=s.CHM(e).$implicit;return s.oxw(2)._cellClicked(u,r)}),s.TgZ(2,"div",9),s._uU(3),s.qZA(),s._UZ(4,"div",10),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw().index,o=s.oxw();s.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),s.uIk("data-mat-row",r)("data-mat-col",i),s.xp6(1),s.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),s.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),s.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null),s.xp6(1),s.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),s.xp6(1),s.hij(" ",e.displayValue," ")}}function Lv(n,t){if(1&n&&(s.TgZ(0,"tr",4),s.YNc(1,HR,2,6,"td",5),s.YNc(2,Fv,5,47,"td",6),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(1),s.Q6J("ngIf",0===i&&r._firstRowOffset),s.xp6(1),s.Q6J("ngForOf",e)}}function vD(n,t){if(1&n&&(s.TgZ(0,"th",5)(1,"span",6),s._uU(2),s.qZA(),s.TgZ(3,"span",7),s._uU(4),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.long),s.xp6(2),s.Oqu(e.narrow)}}const Vv=["*"];function Bv(n,t){}function pM(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-month-view",5),s.NdJ("activeDateChange",function(r){return s.CHM(e),s.oxw().activeDate=r})("_userSelection",function(r){return s.CHM(e),s.oxw()._dateSelected(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function gM(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-year-view",6),s.NdJ("activeDateChange",function(r){return s.CHM(e),s.oxw().activeDate=r})("monthSelected",function(r){return s.CHM(e),s.oxw()._monthSelectedInYearView(r)})("selectedChange",function(r){return s.CHM(e),s.oxw()._goToDateInView(r,"month")}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function mM(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-multi-year-view",7),s.NdJ("activeDateChange",function(r){return s.CHM(e),s.oxw().activeDate=r})("yearSelected",function(r){return s.CHM(e),s.oxw()._yearSelectedInMultiYearView(r)})("selectedChange",function(r){return s.CHM(e),s.oxw()._goToDateInView(r,"year")}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function _M(n,t){}const bD=["button"];function Uv(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",3),s._UZ(1,"path",4),s.qZA())}const wD=[[["","matDatepickerToggleIcon",""]]],CD=["[matDatepickerToggleIcon]"];class fm{constructor(t,e,i,r,o={},u=t,h){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=u,this.rawValue=h}}let uh=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new s.vpe,this.previewChange=new s.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ni.q)(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_isRangeStart(e){return pm(e,this.startValue,this.endValue)}_isRangeEnd(e){return Cr(e,this.startValue,this.endValue)}_isInRange(e){return Mc(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return pm(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){const u=this.rows[i-1];o=u&&u[u.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){const u=this.rows[i+1];o=u&&u[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return Cr(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Mc(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return pm(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Cr(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Mc(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(jv(e)?i=e:jv(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[s.TTD],attrs:hM,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(s.YNc(0,fM,3,6,"tr",0),s.YNc(1,Lv,3,2,"tr",1)),2&e&&(s.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),s.xp6(1),s.Q6J("ngForOf",i.rows))},directives:[An,In,Qr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),n})();function jv(n){return"TD"===n.nodeName}function pm(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function Cr(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function Mc(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class As{constructor(t,e){this.start=t,this.end=e}}let Ac=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Ot.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),$R=(()=>{class n extends Ac{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gm={provide:Ac,deps:[[new s.FiY,new s.tp0,Ac],wr],useFactory:function wM(n,t){return n||new $R(t)}},mm=new s.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Kf=(()=>{class n{constructor(e,i,r,o,u){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=u,this._rerenderSubscription=Br.w0.EMPTY,this.selectedChange=new s.vpe,this._userSelection=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof As?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(as(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._dateAdapter.getYear(this.activeDate),o=this._dateAdapter.getMonth(this.activeDate),u=this._dateAdapter.createDate(r,o,i);let h,p;this._selected instanceof As?(h=this._getDateInCurrentMonth(this._selected.start),p=this._getDateInCurrentMonth(this._selected.end)):h=p=this._getDateInCurrentMonth(this._selected),(h!==i||p!==i)&&this.selectedChange.emit(u),this._userSelection.emit({value:u,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Ks(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const o=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((u,h)=>({long:u,narrow:i[h]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),h=this._shouldEnableDate(u),p=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),y=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new fm(r+1,i[r],p,h,y,this._getCellCompareValue(u),u))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof As?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Nu,8),s.Y36(wr,8),s.Y36(jd,8),s.Y36(mm,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(uh,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[s.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s.YNc(3,vD,5,2,"th",2),s.qZA(),s.TgZ(4,"tr"),s._UZ(5,"th",3),s.qZA()(),s.TgZ(6,"tbody",4),s.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("previewChange",function(o){return i._previewChanged(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i._weekdays),s.xp6(3),s.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},directives:[uh,In],encapsulation:2,changeDetection:0}),n})(),Gv=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Br.w0.EMPTY,this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),ED(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof As?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(as(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-dh(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<24;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(u=>this._createCellForYear(u))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));let r=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,r,1));this.selectedChange.emit(this._dateAdapter.createDate(i,r,Math.min(this._dateAdapter.getDate(this.activeDate),o)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-dh(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-dh(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return dh(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new fm(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof As){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(wr,8),s.Y36(jd,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(uh,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},directives:[uh],encapsulation:2,changeDetection:0}),n})();function ED(n,t,e,i,r){const o=n.getYear(t),u=n.getYear(e),h=Jf(n,i,r);return Math.floor((o-h)/24)===Math.floor((u-h)/24)}function dh(n,t,e,i){return function TD(n,t){return(n%t+t)%t}(n.getYear(t)-Jf(n,e,i),24)}function Jf(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let SD=(()=>{class n{constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=Br.w0.EMPTY,this.selectedChange=new s.vpe,this.monthSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof As?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(as(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._dateAdapter.getNumDaysInMonth(r);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),o)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(r,"year"):void 0;return new fm(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),u)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof As?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Nu,8),s.Y36(wr,8),s.Y36(jd,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(uh,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},directives:[uh],encapsulation:2,changeDetection:0}),n})(),Uu=(()=>{class n{constructor(){this.changes=new Ot.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$v=0,zR=(()=>{class n{constructor(e,i,r,o,u){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._buttonDescriptionId="mat-calendar-button-"+$v++,this.calendar.stateChanges.subscribe(()=>u.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-dh(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),u=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(o,u)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):ED(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Uu),s.Y36((0,s.Gpc)(()=>zv)),s.Y36(wr,8),s.Y36(Nu,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Vv,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return i.currentPeriodClicked()}),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.O4$(),s.TgZ(5,"svg",3),s._UZ(6,"polygon",4),s.qZA()(),s.kcU(),s._UZ(7,"div",5),s.Hsn(8),s.TgZ(9,"button",6),s.NdJ("click",function(){return i.previousClicked()}),s.qZA(),s.TgZ(10,"button",7),s.NdJ("click",function(){return i.nextClicked()}),s.qZA()()()),2&e&&(s.xp6(2),s.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),s.xp6(1),s.uIk("id",i._buttonDescriptionId),s.xp6(1),s.Oqu(i.periodButtonText),s.xp6(1),s.ekj("mat-calendar-invert","month"!==i.calendar.currentView),s.xp6(4),s.Q6J("disabled",!i.previousEnabled()),s.uIk("aria-label",i.prevButtonLabel),s.xp6(1),s.Q6J("disabled",!i.nextEnabled()),s.uIk("aria-label",i.nextButtonLabel))},directives:[jr],encapsulation:2,changeDetection:0}),n})(),zv=(()=>{class n{constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this._userSelection=new s.vpe,this.stateChanges=new Ot.x,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof As?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new lm(this.headerComponent||zR),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate||e.maxDate||e.dateFilter;if(i&&!i.firstChange){const r=this._getCurrentViewComponent();r&&(this._changeDetectorRef.detectChanges(),r._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof As||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Uu),s.Y36(wr,8),s.Y36(Nu,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Kf,5),s.Gf(SD,5),s.Gf(Gv,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.monthView=r.first),s.iGM(r=s.CRH())&&(i.yearView=r.first),s.iGM(r=s.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[s._Bn([gm]),s.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(s.YNc(0,Bv,0,0,"ng-template",0),s.TgZ(1,"div",1),s.YNc(2,pM,1,8,"mat-month-view",2),s.YNc(3,gM,1,6,"mat-year-view",3),s.YNc(4,mM,1,6,"mat-multi-year-view",4),s.qZA()),2&e&&(s.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),s.xp6(1),s.Q6J("ngSwitch",i.currentView),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngSwitchCase","multi-year"))},directives:[Kf,SD,Gv,Vu,hS,$i,xr],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),n})();const ID={transformPanel:Wd("transformPanel",[wc("void => enter-dropdown",bc("120ms cubic-bezier(0, 0, 0.2, 1)",Tf([Ur({opacity:0,transform:"scale(1, 0.8)"}),Ur({opacity:1,transform:"scale(1, 1)"})]))),wc("void => enter-dialog",bc("150ms cubic-bezier(0, 0, 0.2, 1)",Tf([Ur({opacity:0,transform:"scale(0.7)"}),Ur({transform:"none",opacity:1})]))),wc("* => void",bc("100ms linear",Ur({opacity:0})))]),fadeInCalendar:Wd("fadeInCalendar",[Ms("void",Ur({opacity:0})),Ms("enter",Ur({opacity:1})),wc("void => *",bc("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let MD=0;const qv=new s.OlP("mat-datepicker-scroll-strategy"),AD={provide:qv,deps:[xl],useFactory:function SM(n){return()=>n.scrollStrategies.reposition()}},xD=Vf(class{constructor(n){this._elementRef=n}});let IM=(()=>{class n extends xD{constructor(e,i,r,o,u,h){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=u,this._subscriptions=new Br.w0,this._animationDone=new Ot.x,this._actionsPortal=null,this._closeButtonText=h.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,o=i instanceof As;if(o&&this._rangeSelectionStrategy){const u=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(u,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ac),s.Y36(wr),s.Y36(mm,8),s.Y36(Uu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&s.Gf(zv,5),2&e){let r;s.iGM(r=s.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&s.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(s.d8E("@transformPanel",i._animationState),s.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[s.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"mat-calendar",1),s.NdJ("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)}),s.qZA(),s.YNc(2,_M,0,0,"ng-template",2),s.TgZ(3,"button",3),s.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),s._uU(4),s.qZA()()),2&e){let r;s.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),s.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),s.xp6(1),s.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),s.xp6(1),s.Q6J("cdkPortalOutlet",i._actionsPortal),s.xp6(1),s.ekj("cdk-visually-hidden",!i._closeButtonFocused),s.Q6J("color",i.color||"primary"),s.xp6(1),s.Oqu(i._closeButtonText)}},directives:[zv,jr,oS,Qr,Vu],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[ID.transformPanel,ID.fadeInCalendar]},changeDetection:0}),n})(),kD=(()=>{class n{constructor(e,i,r,o,u,h,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=u,this._dir=h,this._model=p,this._inputStateChanges=Br.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this.openedStream=new s.vpe,this.closedStream=new s.vpe,this._opened=!1,this.id="mat-datepicker-"+MD++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Ot.x,this._scrollStrategy=o}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=nn(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=nn(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=nn(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function hT(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const o=`${r}`.trim();o&&e.push(o)}}return e}(e)}get opened(){return this._opened}set opened(e){nn(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof Av&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=Zo(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe((0,ni.q)(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){var e,i;null===(i=null===(e=this._componentRef)||void 0===e?void 0:e.instance)||void 0===i||i._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal,e._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new lm(IM,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Mv({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe((0,ni.q)(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",u="top"===o?"bottom":"top";return e.withPositions([{originX:i,originY:u,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:u},{originX:r,originY:u,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:u}])}_getCloseStream(e){return(0,jf.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Pi(i=>27===i.keyCode&&!Ks(i)||this.datepickerInput&&Ks(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xl),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(qv),s.Y36(wr,8),s.Y36(jd,8),s.Y36(Ac))},n.\u0275dir=s.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[s.TTD]}),n})(),OD=(()=>{class n extends kD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[s._Bn([gm,{provide:kD,useExisting:n}]),s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class ym{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let ND=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new s.vpe,this.dateInput=new s.vpe,this.stateChanges=new Ot.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Br.w0.EMPTY,this._localeSubscription=Br.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!u||this._matchesFilter(u)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),h=this._getMinDate();return!h||!u||this._dateAdapter.compareDate(h,u)<=0?null:{matDatepickerMin:{min:h,actual:u}}},this._maxValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),h=this._getMaxDate();return!h||!u||this._dateAdapter.compareDate(h,u)>=0?null:{matDatepickerMax:{max:h,actual:u}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=nn(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new ym(this,this._elementRef.nativeElement)),this.dateChange.emit(new ym(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function RD(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:o}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(o))return!0;if(!t.sameDate(r,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new ym(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new ym(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(wr,8),s.Y36(Nu,8))},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s.TTD]}),n})();const PD={provide:Hn,useExisting:(0,s.Gpc)(()=>Wv),multi:!0},FD={provide:oi,useExisting:(0,s.Gpc)(()=>Wv),multi:!0};let Wv=(()=>{class n extends ND{constructor(e,i,r,o){super(e,i,r),this._formField=o,this._closedSubscription=Br.w0.EMPTY,this._validator=vo.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(wr,8),s.Y36(Nu,8),s.Y36(Sc,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(o){return i._onKeydown(o)}),2&e&&(s.Ikx("disabled",i.disabled),s.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[s._Bn([PD,FD,{provide:_v,useExisting:n}]),s.qOj]}),n})(),MM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),qR=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Br.w0.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=nn(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:ht(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ht(),r=this.datepicker?(0,jf.T)(this.datepicker.openedStream,this.datepicker.closedStream):ht();this._stateChanges.unsubscribe(),this._stateChanges=(0,jf.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Uu),s.Y36(s.sBO),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,MM,5),2&e){let o;s.iGM(o=s.CRH())&&(i._customIcon=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(bD,5),2&e){let r;s.iGM(r=s.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._open(o)}),2&e&&(s.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),s.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[s.TTD],ngContentSelectors:CD,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(s.F$t(wD),s.TgZ(0,"button",0,1),s.YNc(2,Uv,2,0,"svg",2),s.Hsn(3),s.qZA()),2&e&&(s.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),s.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),s.xp6(2),s.Q6J("ngIf",!i._customIcon))},directives:[jr,An],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),LD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Uu,AD],imports:[[hi,Pv,mD,vy,Bu,Qn],om]}),n})();var wn=F(5813);function vm(){return(0,Yi.e)((n,t)=>{let e,i=!1;n.subscribe((0,pn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function VD(n,t,e,i,r){return(o,u)=>{let h=e,p=t,y=0;o.subscribe((0,pn.x)(u,C=>{const I=y++;p=h?n(p,C,I):(h=!0,C),i&&u.next(p)},r&&(()=>{h&&u.next(p),u.complete()})))}}function bm(n,t){return(0,Yi.e)(VD(n,t,arguments.length>=2,!0))}var ft,no=F(2011),BD=(F(5881),F(3942)),ge=F(5861),xs=F(9681),hh=F(4859),xc=F(1877),Ht=F(2090),kM="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},kc={},UD=UD||{},Gt=kM||self;function wm(){}function Yv(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Cm(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Qf="closure_uid_"+(1e9*Math.random()>>>0),NM=0;function na(n,t,e){return n.call.apply(n.bind,arguments)}function RM(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Ji(n,t,e){return(Ji=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?na:RM).apply(null,arguments)}function Dm(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Dr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function $a(){this.s=this.s,this.o=this.o}var HD={};$a.prototype.s=!1,$a.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function OM(n){return Object.prototype.hasOwnProperty.call(n,Qf)&&n[Qf]||(n[Qf]=++NM)}(this);delete HD[n]}},$a.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const GD=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},Kv=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function zD(n){return Array.prototype.concat.apply([],arguments)}function Jv(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function fh(n){return/^[\s\xa0]*$/.test(n)}var ds,Ao=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function us(n,t){return-1!=n.indexOf(t)}function qD(n,t){return n<t?-1:n>t?1:0}e:{var Qv=Gt.navigator;if(Qv){var WD=Qv.userAgent;if(WD){ds=WD;break e}}ds=""}function Xv(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function eb(n){const t={};for(const e in n)t[e]=n[e];return t}var ZD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PM(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<ZD.length;o++)e=ZD[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Em(n){return Em[" "](n),n}Em[" "]=wm;var ep,n,FM=us(ds,"Opera"),ph=us(ds,"Trident")||us(ds,"MSIE"),tb=us(ds,"Edge"),Xf=tb||ph,Tm=us(ds,"Gecko")&&!(us(ds.toLowerCase(),"webkit")&&!us(ds,"Edge"))&&!(us(ds,"Trident")||us(ds,"MSIE"))&&!us(ds,"Edge"),KD=us(ds.toLowerCase(),"webkit")&&!us(ds,"Edge");function JD(){var n=Gt.document;return n?n.documentMode:void 0}e:{var Sm="",nb=(n=ds,Tm?/rv:([^\);]+)(\)|;)/.exec(n):tb?/Edge\/([\d\.]+)/.exec(n):ph?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):KD?/WebKit\/(\S+)/.exec(n):FM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(nb&&(Sm=nb?nb[1]:""),ph){var ib=JD();if(null!=ib&&ib>parseFloat(Sm)){ep=String(ib);break e}}ep=Sm}var WR={};var LM=Gt.document&&ph&&(JD()||parseInt(ep,10))||void 0,VM=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",wm,t),Gt.removeEventListener("test",wm,t)}catch(e){}return n}();function hs(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Mm(n,t){if(hs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Tm){e:{try{Em(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:YR[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Mm.Z.h.call(this)}}hs.prototype.h=function(){this.defaultPrevented=!0},Dr(Mm,hs);var YR={2:"touch",3:"pen",4:"mouse"};Mm.prototype.h=function(){Mm.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Am="closure_listenable_"+(1e6*Math.random()|0),KR=0;function BM(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++KR,this.ca=this.fa=!1}function ju(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function xm(n){this.src=n,this.g={},this.h=0}function rb(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=GD(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(ju(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function km(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}xm.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=km(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new BM(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var Ol="closure_lm_"+(1e6*Math.random()|0),Om={};function Nm(n,t,e,i,r){if(i&&i.once)return Pm(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Nm(n,t[o],e,i,r);return null}return e=Lm(e),n&&n[Am]?n.N(t,e,Cm(i)?!!i.capture:!!i,r):Rm(n,t,e,!1,i,r)}function Rm(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=Cm(r)?!!r.capture:!!r,h=XD(n);if(h||(n[Ol]=h=new xm(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function UM(){var t=JR;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)VM||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(jM(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Pm(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Pm(n,t[o],e,i,r);return null}return e=Lm(e),n&&n[Am]?n.O(t,e,Cm(i)?!!i.capture:!!i,r):Rm(n,t,e,!0,i,r)}function Fm(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)Fm(n,t[o],e,i,r);else i=Cm(i)?!!i.capture:!!i,e=Lm(e),n&&n[Am]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=km(o=n.g[t],e,i,r))&&(ju(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=XD(n))&&(t=n.g[t.toString()],n=-1,t&&(n=km(t,e,i,r)),(e=-1<n?t[n]:null)&&gh(e))}function gh(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Am])rb(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(jM(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=XD(t))?(rb(e,n),0==e.h&&(e.src=null,t[Ol]=null)):ju(n)}}}function jM(n){return n in Om?Om[n]:Om[n]="on"+n}function JR(n,t){if(n.ca)n=!0;else{t=new Mm(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&gh(n),n=e.call(i,t)}return n}function XD(n){return(n=n[Ol])instanceof xm?n:null}var eE="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lm(n){return"function"==typeof n?n:(n[eE]||(n[eE]=function(t){return n.handleEvent(t)}),n[eE])}function ar(){$a.call(this),this.i=new xm(this),this.P=this,this.I=null}function Er(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new hs(t,n);else if(t instanceof hs)t.target=t.target||n;else{var r=t;PM(t=new hs(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=Vm(u,i,!0,t)&&r}if(r=Vm(u=t.g=n,i,!0,t)&&r,r=Vm(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Vm(u=t.g=e[o],i,!1,t)&&r}function Vm(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ca&&u.capture==e){var h=u.listener,p=u.ia||u.src;u.fa&&rb(n.i,u),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}Dr(ar,$a),ar.prototype[Am]=!0,ar.prototype.removeEventListener=function(n,t,e,i){Fm(this,n,t,e,i)},ar.prototype.M=function(){if(ar.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)ju(e[i]);delete n.g[t],n.h--}}this.I=null},ar.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ar.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var sb=Gt.JSON.stringify;function tE(){var n=jm;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var tp,ob=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new HM,n=>n.reset());class HM{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function GM(n){Gt.setTimeout(()=>{throw n},0)}function Bm(n,t){tp||function QR(){var n=Gt.Promise.resolve(void 0);tp=function(){n.then($M)}}(),Um||(tp(),Um=!0),jm.add(n,t)}var Um=!1,jm=new class nE{constructor(){this.h=this.g=null}add(t,e){const i=ob.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function $M(){for(var n;n=tE();){try{n.h.call(n.g)}catch(e){GM(e)}var t=ob;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Um=!1}function Hm(n,t){ar.call(this),this.h=n||1,this.g=t||Gt,this.j=Ji(this.kb,this),this.l=Date.now()}function iE(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function rE(n,t,e){if("function"==typeof n)e&&(n=Ji(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ji(n.handleEvent,n)}return 2147483647<Number(t)?-1:Gt.setTimeout(n,t||0)}function zM(n){n.g=rE(()=>{n.g=null,n.i&&(n.i=!1,zM(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Dr(Hm,ar),(ft=Hm.prototype).da=!1,ft.S=null,ft.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Er(this,"tick"),this.da&&(iE(this),this.start()))}},ft.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.M=function(){Hm.Z.M.call(this),iE(this),delete this.g};class qM extends $a{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:zM(this)}M(){super.M(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function np(n){$a.call(this),this.h=n,this.g={}}Dr(np,$a);var WM=[];function ZM(n,t,e,i){Array.isArray(e)||(e&&(WM[0]=e.toString()),e=WM);for(var r=0;r<e.length;r++){var o=Nm(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function YM(n){Xv(n.g,function(t,e){this.g.hasOwnProperty(e)&&gh(t)},n),n.g={}}function ab(){this.g=!0}function ip(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function tP(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return sb(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}np.prototype.M=function(){np.Z.M.call(this),YM(this)},np.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ab.prototype.Aa=function(){this.g=!1},ab.prototype.info=function(){};var mh={},a=null;function l(){return a=a||new ar}function c(n){hs.call(this,mh.Ma,n)}function d(n){const t=l();Er(t,new c(t,n))}function f(n,t){hs.call(this,mh.STAT_EVENT,n),this.stat=t}function g(n){const t=l();Er(t,new f(t,n))}function v(n,t){hs.call(this,mh.Na,n),this.size=t}function w(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},t)}mh.Ma="serverreachability",Dr(c,hs),mh.STAT_EVENT="statevent",Dr(f,hs),mh.Na="timingevent",Dr(v,hs);var E={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},M={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function k(){}function q(){}k.prototype.h=null;var Ye,ee={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ce(){hs.call(this,"d")}function Ue(){hs.call(this,"c")}function lt(){}function Me(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new np(this),this.P=sn,this.W=new Hm(n=Xf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}Dr(Ce,hs),Dr(Ue,hs),Dr(lt,k),lt.prototype.g=function(){return new XMLHttpRequest},lt.prototype.i=function(){return{}},Ye=new lt;var sn=45e3,Cn={},Hr={};function Nl(n,t,e){n.K=1,n.v=lE($u(t)),n.s=e,n.U=!0,Gm(n,null)}function Gm(n,t){n.F=Date.now(),Hu(n),n.A=$u(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),aP(e.h,"t",i),n.C=0,e=n.l.H,n.h=new St,n.g=xP(n.l,e?t:null,!n.s),0<n.O&&(n.L=new qM(Ji(n.Ia,n,n.g),n.O)),ZM(n.V,n.g,"readystatechange",n.gb),t=n.H?eb(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),d(1),function XR(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var C=y[0];y=y[1];var I=C.split("_");u=2<=I.length&&"type"==I[1]?u+(C+"=")+y+"&":u+(C+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function $m(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function zm(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=lb(n,e),r==Hr){4==t&&(n.o=4,g(14),i=!1),ip(n.j,n.m,null,"[Incomplete Response]");break}if(r==Cn){n.o=4,g(15),ip(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}ip(n.j,n.m,r,null),JM(n,r)}$m(n)&&r!=Hr&&r!=Cn&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,g(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),lA(t),t.L=!0,g(11))):(ip(n.j,n.m,e,"[Invalid Chunked Response]"),Rl(n),Gu(n))}function lb(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Hr:(e=Number(t.substring(e,i)),isNaN(e)?Cn:(i+=1)+e>t.length?Hr:(t=t.substr(i,e),n.C=i+e,t))}function Hu(n){n.Y=Date.now()+n.P,qm(n,n.P)}function qm(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=w(Ji(n.eb,n),t)}function _h(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function Gu(n){0==n.l.G||n.I||SP(n.l,n)}function Rl(n){_h(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,iE(n.W),YM(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function JM(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||eA(e.i,n)))if(e.I=n.N,!n.J&&eA(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(y){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=w(Ji(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;pE(e),hE(e)}aA(e),g(18)}if(1>=uP(e.i)&&e.ka){try{e.ka()}catch(y){}e.ka=void 0}}else op(e,11)}else if((n.J||e.g==n)&&pE(e),!fh(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.U=y[0],y=y[1],2==e.G)if("c"==y[0]){e.J=y[1],e.la=y[2];const C=y[3];null!=C&&(e.ma=C,e.h.info("VER="+e.ma));const I=y[4];null!=I&&(e.za=I,e.h.info("SVER="+e.za));const N=y[5];null!=N&&"number"==typeof N&&0<N&&(e.K=i=1.5*N,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const P=n.g;if(P){const U=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var o=i.i;!o.g&&(us(U,"spdy")||us(U,"quic")||us(U,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(tA(o,o.h),o.h=null))}if(i.D){const W=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;W&&(i.sa=W,gi(i.F,i.D,W))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=AP(i,i.H?i.la:null,i.W),u.J){dP(i.i,u);var h=u,p=i.K;p&&h.setTimeout(p),h.B&&(_h(h),Hu(h)),i.g=u}else EP(i);0<e.l.length&&fE(e)}else"stop"!=y[0]&&"close"!=y[0]||op(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?op(e,7):sA(e):"noop"!=y[0]&&e.j&&e.j.wa(y),e.A=0)}d(4)}catch(y){}}function QM(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Yv(n)||"string"==typeof n)Kv(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(Yv(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function a3(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Yv(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function Wm(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Wm)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function XM(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];rp(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)rp(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function rp(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(ft=Me.prototype).setTimeout=function(n){this.P=n},ft.gb=function(n){n=n.target;const t=this.L;t&&3==zu(n)?t.l():this.Ia(n)},ft.Ia=function(n){try{if(n==this.g)e:{const C=zu(this.g);var t=this.g.Da();const I=this.g.ba();if(!(3>C)&&(3!=C||Xf||this.g&&(this.h.h||this.g.ga()||vP(this.g)))){this.I||4!=C||7==t||d(8==t||0>=I?3:2),_h(this);var e=this.g.ba();this.N=e;t:if($m(this)){var i=vP(this.g);n="";var r=i.length,o=4==zu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Rl(this),Gu(this);var u="";break t}this.h.i=new Gt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function KM(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,C,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fh(h)){var y=h;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,g(12),Rl(this),Gu(this);break e}ip(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,JM(this,e)}this.U?(zm(this,C,u),Xf&&this.i&&3==C&&(ZM(this.V,this.W,"tick",this.fb),this.W.start())):(ip(this.j,this.m,u,null),JM(this,u)),4==C&&Rl(this),this.i&&!this.I&&(4==C?SP(this.l,this):(this.i=!1,Hu(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,g(12)):(this.o=0,g(13)),Rl(this),Gu(this)}}}catch(C){}},ft.fb=function(){if(this.g){var n=zu(this.g),t=this.g.ga();this.C<t.length&&(_h(this),zm(this,n,t),this.i&&4!=n&&Hu(this))}},ft.cancel=function(){this.I=!0,Rl(this)},ft.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function eP(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(d(3),g(17)),Rl(this),this.o=2,Gu(this)):qm(this,this.Y-n)},(ft=Wm.prototype).R=function(){XM(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},ft.T=function(){return XM(this),this.g.concat()},ft.get=function(n,t){return rp(this.h,n)?this.h[n]:t},ft.set=function(n,t){rp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},ft.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var nP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sp(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof sp){this.g=void 0!==t?t:n.g,sE(this,n.j),this.s=n.s,oE(this,n.i),aE(this,n.m),this.l=n.l,t=n.h;var e=new db;e.i=t.i,t.g&&(e.g=new Wm(t.g),e.h=t.h),iP(this,e),this.o=n.o}else n&&(e=String(n).match(nP))?(this.g=!!t,sE(this,e[1]||"",!0),this.s=cb(e[2]||""),oE(this,e[3]||"",!0),aE(this,e[4]),this.l=cb(e[5]||"",!0),iP(this,e[6]||"",!0),this.o=cb(e[7]||"")):(this.g=!!t,this.h=new db(null,this.g))}function $u(n){return new sp(n)}function sE(n,t,e){n.j=e?cb(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function oE(n,t,e){n.i=e?cb(t,!0):t}function aE(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function iP(n,t,e){t instanceof db?(n.h=t,function m3(n,t){t&&!n.j&&(yh(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(sP(this,i),aP(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=ub(t,p3)),n.h=new db(t,n.g))}function gi(n,t,e){n.h.set(t,e)}function lE(n){return gi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cb(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ub(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,d3),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function d3(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}sp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(ub(t,rP,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(ub(t,rP,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(ub(e,"/"==e.charAt(0)?f3:h3,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",ub(e,g3)),n.join("")};var rP=/[#\/\?@]/g,h3=/[#\?:]/g,f3=/[#\?]/g,p3=/[#\?@]/g,g3=/#/g;function db(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function yh(n){n.g||(n.g=new Wm,n.h=0,n.i&&function l3(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function sP(n,t){yh(n),t=Zm(n,t),rp(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,rp((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&XM(n)))}function oP(n,t){return yh(n),t=Zm(n,t),rp(n.g.h,t)}function aP(n,t,e){sP(n,t),0<e.length&&(n.i=null,n.g.set(Zm(n,t),Jv(e)),n.h+=e.length)}function Zm(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function lP(n){this.l=n||y3,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ea&&Gt.g.Ea()&&Gt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=db.prototype).add=function(n,t){yh(this),this.i=null,n=Zm(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ft.forEach=function(n,t){yh(this),this.g.forEach(function(e,i){Kv(e,function(r){n.call(t,r,i,this)},this)},this)},ft.T=function(){yh(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},ft.R=function(n){yh(this);var t=[];if("string"==typeof n)oP(this,n)&&(t=zD(t,this.g.get(Zm(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=zD(t,n[e])}return t},ft.set=function(n,t){return yh(this),this.i=null,oP(this,n=Zm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ft.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var u=r;""!==i[o]&&(u+="="+encodeURIComponent(String(i[o]))),n.push(u)}}return this.i=n.join("&")};var y3=10;function cP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uP(n){return n.h?1:n.g?n.g.size:0}function eA(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function tA(n,t){n.g?n.g.add(t):n.h=t}function dP(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function hP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Jv(n.i)}function nA(){}function v3(){this.g=new nA}function b3(n,t,e){const i=e||"";try{QM(n,function(r,o){let u=r;Cm(r)&&(u=sb(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function cE(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(o){}}function hb(n){this.l=n.$b||null,this.j=n.ib||!1}function uE(n,t){ar.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=iA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lP.prototype.cancel=function(){if(this.i=hP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},nA.prototype.stringify=function(n){return Gt.JSON.stringify(n,void 0)},nA.prototype.parse=function(n){return Gt.JSON.parse(n,void 0)},Dr(hb,k),hb.prototype.g=function(){return new uE(this.l,this.j)},hb.prototype.i=function(n){return function(){return n}}({}),Dr(uE,ar);var iA=0;function fP(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function fb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,pb(n)}function pb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=uE.prototype).open=function(n,t){if(this.readyState!=iA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,pb(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Gt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fb(this)),this.readyState=iA},ft.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,pb(this)),this.g&&(this.readyState=3,pb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Gt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fP(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ft.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?fb(this):pb(this),3==this.readyState&&fP(this)}},ft.Ua=function(n){this.g&&(this.response=this.responseText=n,fb(this))},ft.Ta=function(n){this.g&&(this.response=n,fb(this))},ft.ha=function(){this.g&&fb(this)},ft.setRequestHeader=function(n,t){this.v.append(n,t)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(uE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var C3=Gt.JSON.parse;function lr(n){ar.call(this),this.headers=new Wm,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pP,this.K=this.L=!1}Dr(lr,ar);var pP="",D3=/^https?$/i,E3=["POST","PUT"];function S3(n){return"content-type"==n.toLowerCase()}function gP(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,mP(n),dE(n)}function mP(n){n.D||(n.D=!0,Er(n,"complete"),Er(n,"error"))}function _P(n){if(n.h&&void 0!==UD&&(!n.C[1]||4!=zu(n)||2!=n.ba()))if(n.v&&4==zu(n))rE(n.Fa,0,n);else if(Er(n,"readystatechange"),4==zu(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(nP)[1]||null;if(!r&&Gt.self&&Gt.self.location){var o=Gt.self.location.protocol;r=o.substr(0,o.length-1)}i=!D3.test(r?r.toLowerCase():"")}e=i}if(e)Er(n,"complete"),Er(n,"success");else{n.m=6;try{var u=2<zu(n)?n.g.statusText:""}catch(p){u=""}n.j=u+" ["+n.ba()+"]",mP(n)}}finally{dE(n)}}}function dE(n,t){if(n.g){yP(n);const e=n.g,i=n.C[0]?wm:null;n.g=null,n.C=null,t||Er(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function yP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function zu(n){return n.g?n.g.readyState:0}function vP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case pP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rA(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function I3(n){let t="";return Xv(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):gi(n,t,e))}function gb(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function bP(n){this.za=0,this.l=[],this.h=new ab,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gb("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gb("baseRetryDelayMs",5e3,n),this.$a=gb("retryDelaySeedMs",1e4,n),this.Ya=gb("forwardChannelMaxRetries",2,n),this.ra=gb("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new lP(n&&n.concurrentRequestLimit),this.Ca=new v3,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function sA(n){if(wP(n),3==n.G){var t=n.V++,e=$u(n.F);gi(e,"SID",n.J),gi(e,"RID",t),gi(e,"TYPE","terminate"),mb(n,e),(t=new Me(n,n.h,t,void 0)).K=2,t.v=lE($u(e)),e=!1,Gt.navigator&&Gt.navigator.sendBeacon&&(e=Gt.navigator.sendBeacon(t.v.toString(),"")),!e&&Gt.Image&&((new Image).src=t.v,e=!0),e||(t.g=xP(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Hu(t)}MP(n)}function hE(n){n.g&&(lA(n),n.g.cancel(),n.g=null)}function wP(n){hE(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),pE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function oA(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&fE(n)}function fE(n){cP(n.i)||n.m||(n.m=!0,Bm(n.Ha,n),n.C=0)}function CP(n,t){var e;e=t?t.m:n.V++;const i=$u(n.F);gi(i,"SID",n.J),gi(i,"RID",e),gi(i,"AID",n.U),mb(n,i),n.o&&n.s&&rA(i,n.o,n.s),e=new Me(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=DP(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),tA(n.i,e),Nl(e,i,t)}function mb(n,t){n.j&&QM({},function(e,i){gi(t,i,e)})}function DP(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Ji(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let p=0;p<e;p++){let y=r[p].h;const C=r[p].g;if(y-=o,0>y)o=Math.max(0,r[p].h-100),h=!1;else try{b3(C,u,"req"+y+"_")}catch(I){i&&i(C)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function EP(n){n.g||n.u||(n.Y=1,Bm(n.Ga,n),n.A=0)}function aA(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=w(Ji(n.Ga,n),IP(n,n.A)),n.A++,0))}function lA(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function TP(n){n.g=new Me(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=$u(n.oa);gi(t,"RID","rpc"),gi(t,"SID",n.J),gi(t,"CI",n.N?"0":"1"),gi(t,"AID",n.U),mb(n,t),gi(t,"TYPE","xmlhttp"),n.o&&n.s&&rA(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=lE($u(t)),e.s=null,e.U=!0,Gm(e,n)}function pE(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function SP(n,t){var e=null;if(n.g==t){pE(n),lA(n),n.g=null;var i=2}else{if(!eA(n.i,t))return;e=t.D,dP(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Er(i=l(),new v(i,e,t,r)),fE(n)}else EP(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function M3(n,t){return!(uP(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=w(Ji(n.Ha,n,t),IP(n,n.C)),n.C++,0)))}(n,t)||2==i&&aA(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:op(n,5);break;case 4:op(n,10);break;case 3:op(n,6);break;default:op(n,2)}}function IP(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function op(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Ji(n.jb,n);e||(e=new sp("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||sE(e,"https"),lE(e)),function w3(n,t){const e=new ab;if(Gt.Image){const i=new Image;i.onload=Dm(cE,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Dm(cE,e,i,"TestLoadImage: error",!1,t),i.onabort=Dm(cE,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Dm(cE,e,i,"TestLoadImage: timeout",!1,t),Gt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else g(2);n.G=0,n.j&&n.j.va(t),MP(n),wP(n)}function MP(n){n.G=0,n.I=-1,n.j&&((0!=hP(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Jv(n.l),n.l.length=0),n.j.ua())}function AP(n,t,e){let i=function c3(n){return n instanceof sp?$u(n):new sp(n,void 0)}(e);if(""!=i.i)t&&oE(i,t+"."+i.i),aE(i,i.m);else{const r=Gt.location;i=function u3(n,t,e,i){var r=new sp(null,void 0);return n&&sE(r,n),t&&oE(r,t),e&&aE(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&Xv(n.aa,function(r,o){gi(i,o,r)}),e=n.sa,(t=n.D)&&e&&gi(i,t,e),gi(i,"VER",n.ma),mb(n,i),i}function xP(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new lr(e&&n.Ba&&!n.qa?new hb({ib:!0}):n.qa)).L=n.H,t}function kP(){}function gE(){if(ph&&!(10<=Number(LM)))throw Error("Environmental error: no available transport.")}function ia(n,t){ar.call(this),this.g=new bP(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!fh(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fh(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Ym(this)}function OP(n){Ce.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function NP(){Ue.call(this),this.status=1}function Ym(n){this.g=n}(ft=lr.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ye.g(),this.C=function B(n){return n.h||(n.h=n.i())}(this.u?this.u:Ye),this.g.onreadystatechange=Ji(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void gP(this,o)}n=e||"";const r=new Wm(this.headers);i&&QM(i,function(o,u){r.set(u,o)}),i=function $D(n){e:{var t=S3;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Gt.FormData&&n instanceof Gt.FormData,!(0<=GD(E3,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yP(this),0<this.B&&((this.K=function T3(n){return ph&&function ZR(){return function YD(n){var t=WR;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=Ao(String(ep)).split("."),e=Ao("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=qD(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||qD(0==r[2].length,0==o[2].length)||qD(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ji(this.pa,this)):this.A=rE(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){gP(this,o)}},ft.pa=function(){void 0!==UD&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Er(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Er(this,"complete"),Er(this,"abort"),dE(this))},ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dE(this,!0)),lr.Z.M.call(this)},ft.Fa=function(){this.s||(this.F||this.v||this.l?_P(this):this.cb())},ft.cb=function(){_P(this)},ft.ba=function(){try{return 2<zu(this)?this.g.status:-1}catch(n){return-1}},ft.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ft.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),C3(t)}},ft.Da=function(){return this.m},ft.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=bP.prototype).ma=8,ft.G=1,ft.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},ft.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Me(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=eb(o),PM(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=DP(this,r,t),gi(e=$u(this.F),"RID",n),gi(e,"CVER",22),this.D&&gi(e,"X-HTTP-Session-Id",this.D),mb(this,e),this.o&&o&&rA(e,this.o,o),tA(this.i,r),this.Ra&&gi(e,"TYPE","init"),this.ja?(gi(e,"$req",t),gi(e,"SID","null"),r.$=!0,Nl(r,e,null)):Nl(r,e,t),this.G=2}}else 3==this.G&&(n?CP(this,n):0==this.l.length||cP(this.i)||CP(this))},ft.Ga=function(){if(this.u=null,TP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=w(Ji(this.bb,this),n)}},ft.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,g(10),hE(this),TP(this))},ft.ab=function(){null!=this.v&&(this.v=null,hE(this),aA(this),g(19))},ft.jb=function(n){n?(this.h.info("Successfully pinged google.com"),g(2)):(this.h.info("Failed to ping google.com"),g(1))},(ft=kP.prototype).xa=function(){},ft.wa=function(){},ft.va=function(){},ft.ua=function(){},ft.Oa=function(){},gE.prototype.g=function(n,t){return new ia(n,t)},Dr(ia,ar),ia.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Bm(Ji(n.hb,n,t))),g(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=AP(n,null,n.W),fE(n)},ia.prototype.close=function(){sA(this.g)},ia.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,oA(this.g,t)}else this.v?((t={}).__data__=sb(n),oA(this.g,t)):oA(this.g,n)},ia.prototype.M=function(){this.g.j=null,delete this.j,sA(this.g),delete this.g,ia.Z.M.call(this)},Dr(OP,Ce),Dr(NP,Ue),Dr(Ym,kP),Ym.prototype.xa=function(){Er(this.g,"a")},Ym.prototype.wa=function(n){Er(this.g,new OP(n))},Ym.prototype.va=function(n){Er(this.g,new NP(n))},Ym.prototype.ua=function(){Er(this.g,"b")},gE.prototype.createWebChannel=gE.prototype.g,ia.prototype.send=ia.prototype.u,ia.prototype.open=ia.prototype.m,ia.prototype.close=ia.prototype.close,E.NO_ERROR=0,E.TIMEOUT=8,E.HTTP_ERROR=6,M.COMPLETE="complete",q.EventType=ee,ee.OPEN="a",ee.CLOSE="b",ee.ERROR="c",ee.MESSAGE="d",ar.prototype.listen=ar.prototype.N,lr.prototype.listenOnce=lr.prototype.O,lr.prototype.getLastError=lr.prototype.La,lr.prototype.getLastErrorCode=lr.prototype.Da,lr.prototype.getStatus=lr.prototype.ba,lr.prototype.getResponseJson=lr.prototype.Qa,lr.prototype.getResponseText=lr.prototype.ga,lr.prototype.send=lr.prototype.ea;var A3=kc.createWebChannelTransport=function(){return new gE},x3=kc.getStatEventTarget=function(){return l()},cA=kc.ErrorCode=E,k3=kc.EventType=M,O3=kc.Event=mh,RP=kc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},N3=kc.FetchXmlHttpFactory=hb,mE=kc.WebChannel=q,R3=kc.XhrIo=lr;const PP="@firebase/firestore";class fs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fs.UNAUTHENTICATED=new fs(null),fs.GOOGLE_CREDENTIALS=new fs("google-credentials-uid"),fs.FIRST_PARTY=new fs("first-party-uid"),fs.MOCK_USER=new fs("mock-user");let Km="9.6.9";const vh=new xc.Yd("@firebase/firestore");function uA(){return vh.logLevel}function $e(n,...t){if(vh.logLevel<=xc.in.DEBUG){const e=t.map(dA);vh.debug(`Firestore (${Km}): ${n}`,...e)}}function cr(n,...t){if(vh.logLevel<=xc.in.ERROR){const e=t.map(dA);vh.error(`Firestore (${Km}): ${n}`,...e)}}function _b(n,...t){if(vh.logLevel<=xc.in.WARN){const e=t.map(dA);vh.warn(`Firestore (${Km}): ${n}`,...e)}}function dA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function wt(n="Unexpected state"){const t=`FIRESTORE (${Km}) INTERNAL ASSERTION FAILED: `+n;throw cr(t),new Error(t)}function $t(n,t){n||wt()}function nt(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Ht.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class FP{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class L3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(fs.UNAUTHENTICATED))}shutdown(){}}class V3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class B3{constructor(t){this.t=t,this.currentUser=fs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let u=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=u;t.enqueueRetryable((0,ge.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},p=y=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($t("string"==typeof i.accessToken),new FP(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return $t(null===t||"string"==typeof t),new fs(t)}}class U3{constructor(t,e,i){this.type="FirstParty",this.user=fs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class j3{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new U3(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(fs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LP{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H3{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.p;return this.p=o.token,$e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?($t("string"==typeof e.token),this.p=e.token,new LP(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ra{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function G3(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}ra.A=-1;class VP{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=G3(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function dn(n,t){return n<t?-1:n>t?1:0}function Jm(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function BP(n){return n+"\0"}class $r{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return $r.fromMillis(Date.now())}static fromDate(t){return $r.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new $r(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?dn(this.nanoseconds,t.nanoseconds):dn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new $r(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function UP(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ap(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function jP(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class yb{constructor(t,e,i){void 0===e?e=0:e>t.length&&wt(),void 0===i?i=t.length-e:i>t.length-e&&wt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===yb.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof yb?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Nn extends yb{construct(t,e,i){return new Nn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Nn(e)}static emptyPath(){return new Nn([])}}const $3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends yb{construct(t,e,i){return new zr(t,e,i)}static isValidIdentifier(t){return $3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Fe(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Fe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Fe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Fe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new zr(e)}static emptyPath(){return new zr([])}}class Qm{constructor(t){this.fields=t,t.sort(zr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Jm(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Tr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Tr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Tr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return dn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const q3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bh(n){if($t(!!n),"string"==typeof n){let t=0;const e=q3.exec(n);if($t(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Li(n.seconds),nanos:Li(n.nanos)}}function Li(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function lp(n){return"string"==typeof n?Tr.fromBase64String(n):Tr.fromUint8Array(n)}function hA(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function HP(n){const t=n.mapValue.fields.__previous_value__;return hA(t)?HP(t):t}function vb(n){const t=bh(n.mapValue.fields.__local_write_time__.timestampValue);return new $r(t.seconds,t.nanos)}class W3{constructor(t,e,i,r,o,u,h,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class qu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new qu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof qu&&t.projectId===this.projectId&&t.database===this.database}}function cp(n){return null==n}function bb(n){return 0===n&&1/n==-1/0}function GP(n){return"number"==typeof n&&Number.isInteger(n)&&!bb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ot{constructor(t){this.path=t}static fromPath(t){return new ot(Nn.fromString(t))}static fromName(t){return new ot(Nn.fromString(t).popFirst(5))}static empty(){return new ot(Nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Nn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Nn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ot(new Nn(t.slice()))}}const $P={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zP={nullValue:"NULL_VALUE"};function up(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hA(n)?4:YP(n)?9:10:wt()}function Oc(n,t){if(n===t)return!0;const e=up(n);if(e!==up(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return vb(n).isEqual(vb(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=bh(i.timestampValue),u=bh(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,lp(n.bytesValue).isEqual(lp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Li(i.geoPointValue.latitude)===Li(r.geoPointValue.latitude)&&Li(i.geoPointValue.longitude)===Li(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Li(i.integerValue)===Li(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Li(i.doubleValue),u=Li(r.doubleValue);return o===u?bb(o)===bb(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return Jm(n.arrayValue.values||[],t.arrayValue.values||[],Oc);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(UP(o)!==UP(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!Oc(o[h],u[h])))return!1;return!0}(n,t);default:return wt()}var r}function wb(n,t){return void 0!==(n.values||[]).find(e=>Oc(e,t))}function wh(n,t){if(n===t)return 0;const e=up(n),i=up(t);if(e!==i)return dn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return dn(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=Li(r.integerValue||r.doubleValue),h=Li(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return qP(n.timestampValue,t.timestampValue);case 4:return qP(vb(n),vb(t));case 5:return dn(n.stringValue,t.stringValue);case 6:return function(r,o){const u=lp(r),h=lp(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let p=0;p<u.length&&p<h.length;p++){const y=dn(u[p],h[p]);if(0!==y)return y}return dn(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=dn(Li(r.latitude),Li(o.latitude));return 0!==u?u:dn(Li(r.longitude),Li(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let p=0;p<u.length&&p<h.length;++p){const y=wh(u[p],h[p]);if(y)return y}return dn(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){const u=r.fields||{},h=Object.keys(u),p=o.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let C=0;C<h.length&&C<y.length;++C){const I=dn(h[C],y[C]);if(0!==I)return I;const N=wh(u[h[C]],p[y[C]]);if(0!==N)return N}return dn(h.length,y.length)}(n.mapValue,t.mapValue);default:throw wt()}}function qP(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return dn(n,t);const e=bh(n),i=bh(t),r=dn(e.seconds,i.seconds);return 0!==r?r:dn(e.nanos,i.nanos)}function Xm(n){return fA(n)}function fA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=bh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?lp(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=fA(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${fA(i.fields[h])}`;return o+"}"}(n.mapValue):wt();var t}function e_(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function pA(n){return!!n&&"integerValue"in n}function Cb(n){return!!n&&"arrayValue"in n}function WP(n){return!!n&&"nullValue"in n}function ZP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _E(n){return!!n&&"mapValue"in n}function Db(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return ap(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Db(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Db(n.arrayValue.values[e]);return t}return Object.assign({},n)}function YP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function KP(n,t){return void 0===n?t:void 0===t||wh(n,t)>0?n:t}function JP(n,t){return void 0===n?t:void 0===t||wh(n,t)<0?n:t}class ks{constructor(t){this.value=t}static empty(){return new ks({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!_E(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Db(e)}setAll(t){let e=zr.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Db(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());_E(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Oc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];_E(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ap(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new ks(Db(this.value))}}function QP(n){const t=[];return ap(n.fields,(e,i)=>{const r=new zr([e]);if(_E(i)){const o=QP(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new Qm(t)}class Ti{constructor(t,e,i,r,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=u}static newInvalidDocument(t){return new Ti(t,0,Lt.min(),Lt.min(),ks.empty(),0)}static newFoundDocument(t,e,i){return new Ti(t,1,e,Lt.min(),i,0)}static newNoDocument(t,e){return new Ti(t,2,e,Lt.min(),ks.empty(),0)}static newUnknownDocument(t,e){return new Ti(t,3,e,Lt.min(),ks.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ks.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ks.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ti&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ti(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yE{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function gA(n){return n.fields.find(t=>2===t.kind)}function t_(n){return n.fields.filter(t=>2!==t.kind)}yE.UNKNOWN_ID=-1;class vE{constructor(t,e){this.fieldPath=t,this.kind=e}}class Eb{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Eb(0,bE.min())}}class bE{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new bE(Lt.min(),ot.empty(),-1)}}class Z3{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.P=null}}function XP(n,t=null,e=[],i=[],r=null,o=null,u=null){return new Z3(n,t,e,i,r,o,u)}function dp(n){const t=nt(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Xm(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),cp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Xm(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Xm(i)).join(",")),t.P=e}return t.P}function Tb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!iG(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Oc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!nF(n.startAt,t.startAt)&&nF(n.endAt,t.endAt)}function wE(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function CE(n,t){return n.filters.filter(e=>e instanceof ps&&e.field.isEqual(t))}class ps extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new K3(t,e,i):"array-contains"===e?new X3(t,i):"in"===e?new eG(t,i):"not-in"===e?new tG(t,i):"array-contains-any"===e?new nG(t,i):new ps(t,e,i)}static V(t,e,i){return"in"===e?new J3(t,i):new Q3(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(wh(e,this.value)):null!==e&&up(this.value)===up(e)&&this.v(wh(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return wt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class K3 extends ps{constructor(t,e,i){super(t,e,i),this.key=ot.fromName(i.referenceValue)}matches(t){const e=ot.comparator(t.key,this.key);return this.v(e)}}class J3 extends ps{constructor(t,e){super(t,"in",e),this.keys=eF(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Q3 extends ps{constructor(t,e){super(t,"not-in",e),this.keys=eF(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function eF(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>ot.fromName(i.referenceValue))}class X3 extends ps{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Cb(e)&&wb(e.arrayValue,this.value)}}class eG extends ps{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&wb(this.value.arrayValue,e)}}class tG extends ps{constructor(t,e){super(t,"not-in",e)}matches(t){if(wb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!wb(this.value.arrayValue,e)}}class nG extends ps{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Cb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>wb(this.value.arrayValue,i))}}class Ch{constructor(t,e){this.position=t,this.inclusive=e}}class n_{constructor(t,e="asc"){this.field=t,this.dir=e}}function iG(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function tF(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?ot.comparator(ot.fromName(u.referenceValue),e.key):wh(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function nF(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Oc(n.position[e],t.position[e]))return!1;return!0}class Wu{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=p,this.D=null,this.C=null}}function iF(n,t,e,i,r,o,u,h){return new Wu(n,t,e,i,r,o,u,h)}function i_(n){return new Wu(n)}function DE(n){return!cp(n.limit)&&"F"===n.limitType}function EE(n){return!cp(n.limit)&&"L"===n.limitType}function mA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _A(n){for(const t of n.filters)if(t.S())return t.field;return null}function yA(n){return null!==n.collectionGroup}function r_(n){const t=nt(n);if(null===t.D){t.D=[];const e=_A(t),i=mA(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new n_(e)),t.D.push(new n_(zr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.D.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new n_(zr.keyField(),o))}}}return t.D}function za(n){const t=nt(n);if(!t.C)if("F"===t.limitType)t.C=XP(t.path,t.collectionGroup,r_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of r_(t))e.push(new n_(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Ch(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new Ch(t.startAt.position,!t.startAt.inclusive):null;t.C=XP(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function rF(n,t,e){return new Wu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Sb(n,t){return Tb(za(n),za(t))&&n.limitType===t.limitType}function sF(n){return`${dp(za(n))}|lt:${n.limitType}`}function vA(n){return`Query(target=${function Y3(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Xm(i.value)}`;var i}).join(", ")}]`),cp(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Xm(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Xm(e)).join(",")),`Target(${t})`}(za(n))}; limitType=${n.limitType})`}function bA(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):ot.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=tF(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,r_(e),i)||e.endAt&&!function(r,o,u){const h=tF(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,r_(e),i)));var e,i}function oF(n){return(t,e)=>{let i=!1;for(const r of r_(n)){const o=rG(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function rG(n,t,e){const i=n.field.isKeyField()?ot.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),p=u.data.field(r);return null!==h&&null!==p?wh(h,p):wt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return wt()}}function aF(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bb(t)?"-0":t}}function lF(n){return{integerValue:""+n}}function cF(n,t){return GP(t)?lF(t):aF(n,t)}class TE{constructor(){this._=void 0}}function sG(n,t,e){return n instanceof s_?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof hp?dF(n,t):n instanceof fp?hF(n,t):function(i,r){const o=uF(i,r),u=fF(o)+fF(i.k);return pA(o)&&pA(i.k)?lF(u):aF(i.M,u)}(n,t)}function oG(n,t,e){return n instanceof hp?dF(n,t):n instanceof fp?hF(n,t):e}function uF(n,t){return n instanceof o_?pA(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class s_ extends TE{}class hp extends TE{constructor(t){super(),this.elements=t}}function dF(n,t){const e=pF(t);for(const i of n.elements)e.some(r=>Oc(r,i))||e.push(i);return{arrayValue:{values:e}}}class fp extends TE{constructor(t){super(),this.elements=t}}function hF(n,t){let e=pF(t);for(const i of n.elements)e=e.filter(r=>!Oc(r,i));return{arrayValue:{values:e}}}class o_ extends TE{constructor(t,e){super(),this.M=t,this.k=e}}function fF(n){return Li(n.integerValue||n.doubleValue)}function pF(n){return Cb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ib{constructor(t,e){this.field=t,this.transform=e}}class lG{constructor(t,e){this.version=t,this.transformResults=e}}class ur{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ur}static exists(t){return new ur(void 0,t)}static updateTime(t){return new ur(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function SE(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class IE{}function cG(n,t,e){n instanceof Mb?function(i,r,o){const u=i.value.clone(),h=yF(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof pp?function(i,r,o){if(!SE(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=yF(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(_F(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function wA(n,t,e){var r;n instanceof Mb?function(i,r,o){if(!SE(i.precondition,r))return;const u=i.value.clone(),h=vF(i.fieldTransforms,o,r);u.setAll(h),r.convertToFoundDocument(mF(r),u).setHasLocalMutations()}(n,t,e):n instanceof pp?function(i,r,o){if(!SE(i.precondition,r))return;const u=vF(i.fieldTransforms,o,r),h=r.data;h.setAll(_F(i)),h.setAll(u),r.convertToFoundDocument(mF(r),h).setHasLocalMutations()}(n,t,e):SE(n.precondition,r=t)&&r.convertToNoDocument(Lt.min())}function uG(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=uF(i.transform,r||null);null!=o&&(null==e&&(e=ks.empty()),e.set(i.field,o))}return e||null}function gF(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Jm(e,i,(r,o)=>function aG(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof hp&&i instanceof hp||e instanceof fp&&i instanceof fp?Jm(e.elements,i.elements,Oc):e instanceof o_&&i instanceof o_?Oc(e.k,i.k):e instanceof s_&&i instanceof s_);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function mF(n){return n.isFoundDocument()?n.version:Lt.min()}class Mb extends IE{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class pp extends IE{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}}function _F(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function yF(n,t,e){const i=new Map;$t(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,oG(u,h,e[r]))}return i}function vF(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,sG(o,u,t))}return i}class Ab extends IE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class CA extends IE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class dG{constructor(t){this.count=t}}var dr,Dn;function bF(n){switch(n){default:return wt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function wF(n){if(void 0===n)return cr("GRPC error has no .code"),me.UNKNOWN;switch(n){case dr.OK:return me.OK;case dr.CANCELLED:return me.CANCELLED;case dr.UNKNOWN:return me.UNKNOWN;case dr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case dr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case dr.INTERNAL:return me.INTERNAL;case dr.UNAVAILABLE:return me.UNAVAILABLE;case dr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case dr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case dr.NOT_FOUND:return me.NOT_FOUND;case dr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case dr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case dr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case dr.ABORTED:return me.ABORTED;case dr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case dr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case dr.DATA_LOSS:return me.DATA_LOSS;default:return wt()}}(Dn=dr||(dr={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";class Dh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ap(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return jP(this.inner)}size(){return this.innerSize}}class Qi{constructor(t,e){this.comparator=t,this.root=e||gs.EMPTY}insert(t,e){return new Qi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,gs.BLACK,null,null))}remove(t){return new Qi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ME(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ME(this.root,t,this.comparator,!1)}getReverseIterator(){return new ME(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ME(this.root,t,this.comparator,!0)}}class ME{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gs{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=null!=i?i:gs.RED,this.left=null!=r?r:gs.EMPTY,this.right=null!=o?o:gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new gs(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return gs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new gs(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mi{constructor(t){this.comparator=t,this.data=new Qi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new CF(this.data.getIterator())}getIteratorFrom(t){return new CF(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof mi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new mi(this.comparator);return e.data=t,e}}class CF{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function a_(n){return n.hasNext()?n.getNext():void 0}const hG=new Qi(ot.comparator);function qa(){return hG}const fG=new Qi(ot.comparator);function DA(){return fG}function xb(){return new Dh(n=>n.toString(),(n,t)=>n.isEqual(t))}const pG=new Qi(ot.comparator),gG=new mi(ot.comparator);function Ln(...n){let t=gG;for(const e of n)t=t.add(e);return t}const mG=new mi(dn);function AE(){return mG}class kb{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Ob.createSynthesizedTargetChangeForCurrentChange(t,e)),new kb(Lt.min(),i,AE(),qa(),Ln())}}class Ob{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Ob(Tr.EMPTY_BYTE_STRING,e,Ln(),Ln(),Ln())}}class xE{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.$=r}}class DF{constructor(t,e){this.targetId=t,this.F=e}}class EF{constructor(t,e,i=Tr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class TF{constructor(){this.B=0,this.L=IF(),this.q=Tr.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}get current(){return this.U}get resumeToken(){return this.q}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.q=t)}H(){let t=Ln(),e=Ln(),i=Ln();return this.L.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:wt()}}),new Ob(this.q,this.U,t,e,i)}J(){this.K=!1,this.L=IF()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.U=!0}}class _G{constructor(t){this.nt=t,this.st=new Map,this.it=qa(),this.rt=SF(),this.ot=new mi(dn)}at(t){for(const e of t.O)t.$&&t.$.isFoundDocument()?this.ut(e,t.$):this.ct(e,t.key,t.$);for(const e of t.removedTargetIds)this.ct(e,t.key,t.$)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:wt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.F.count,r=this.wt(e);if(r){const o=r.target;if(wE(o))if(0===i){const u=new ot(o.path);this.ct(e,u,Ti.newNoDocument(u,Lt.min()))}else $t(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((o,u)=>{const h=this.wt(u);if(h){if(o.current&&wE(h.target)){const p=new ot(h.target.path);null!==this.it.get(p)||this.It(u,p)||this.ct(u,p,Ti.newNoDocument(p,t))}o.j&&(e.set(u,o.H()),o.J())}});let i=Ln();this.rt.forEach((o,u)=>{let h=!0;u.forEachWhile(p=>{const y=this.wt(p);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.it.forEach((o,u)=>u.setReadTime(t));const r=new kb(t,e,this.ot,this.it,i);return this.it=qa(),this.rt=SF(),this.ot=new mi(dn),r}ut(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new TF,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new mi(dn),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||$e("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new TF),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function SF(){return new Qi(ot.comparator)}function IF(){return new Qi(ot.comparator)}const yG={asc:"ASCENDING",desc:"DESCENDING"},vG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class bG{constructor(t,e){this.databaseId=t,this.N=e}}function Nb(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function MF(n,t){return n.N?t.toBase64():t.toUint8Array()}function wG(n,t){return Nb(n,t.toTimestamp())}function qr(n){return $t(!!n),Lt.fromTimestamp(function(t){const e=bh(t);return new $r(e.seconds,e.nanos)}(n))}function EA(n,t){return(e=n,new Nn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function AF(n){const t=Nn.fromString(n);return $t(VF(t)),t}function Rb(n,t){return EA(n.databaseId,t.path)}function Nc(n,t){const e=AF(t);if(e.get(1)!==n.databaseId.projectId)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ot(kF(e))}function TA(n,t){return EA(n.databaseId,t)}function xF(n){const t=AF(n);return 4===t.length?Nn.emptyPath():kF(t)}function Pb(n){return new Nn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kF(n){return $t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function OF(n,t,e){return{name:Rb(n,t),fields:e.value.mapValue.fields}}function NF(n,t,e){const i=Nc(n,t.name),r=qr(t.updateTime),o=new ks({mapValue:{fields:t.fields}}),u=Ti.newFoundDocument(i,r,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Fb(n,t){let e;if(t instanceof Mb)e={update:OF(n,t.key,t.value)};else if(t instanceof Ab)e={delete:Rb(n,t.key)};else if(t instanceof pp)e={update:OF(n,t.key,t.data),updateMask:xG(t.fieldMask)};else{if(!(t instanceof CA))return wt();e={verify:Rb(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof s_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof hp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof fp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof o_)return{fieldPath:o.field.canonicalString(),increment:u.k};throw wt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:wG(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:wt()),e;var r}function SA(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?ur.updateTime(qr(r.updateTime)):void 0!==r.exists?ur.exists(r.exists):ur.none():ur.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?($t("REQUEST_TIME"===u.setToServerValue),h=new s_):"appendMissingElements"in u?h=new hp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new fp(u.removeAllFromArray.values||[]):"increment"in u?h=new o_(o,u.increment):wt();const p=zr.fromServerFormat(u.fieldPath);return new Ib(p,h)}(n,r)):[];var r;if(t.update){const r=Nc(n,t.update.name),o=new ks({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Qm((t.updateMask.fieldPaths||[]).map(y=>zr.fromServerFormat(y)));return new pp(r,o,u,e,i)}return new Mb(r,o,e,i)}if(t.delete){const r=Nc(n,t.delete);return new Ab(r,e)}if(t.verify){const r=Nc(n,t.verify);return new CA(r,e)}return wt()}function RF(n,t){return{documents:[TA(n,t.path)]}}function PF(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=TA(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=TA(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const y=p.map(C=>function(I){if("=="===I.op){if(ZP(I.value))return{unaryFilter:{field:l_(I.field),op:"IS_NAN"}};if(WP(I.value))return{unaryFilter:{field:l_(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(ZP(I.value))return{unaryFilter:{field:l_(I.field),op:"IS_NOT_NAN"}};if(WP(I.value))return{unaryFilter:{field:l_(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:l_(I.field),op:IG(I.op),value:I.value}}}(C));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(p){if(0!==p.length)return p.map(y=>{return{field:l_((C=y).field),direction:SG(C.dir)};var C})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(y=t.limit,n.N||cp(y)?y:{value:y});var y,h,p;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function FF(n){let t=xF(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){$t(1===i);const C=e.from[0];C.allDescendants?r=C.collectionId:t=t.child(C.collectionId)}let o=[];e.where&&(o=LF(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(C=>{return new n_(c_((I=C).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;e.limit&&(h=function(C){let I;return I="object"==typeof C?C.value:C,cp(I)?null:I}(e.limit));let p=null;var C;e.startAt&&(p=new Ch((C=e.startAt).values||[],!!C.before));let y=null;return e.endAt&&(y=function(C){return new Ch(C.values||[],!C.before)}(e.endAt)),iF(t,r,u,o,h,"F",p,y)}function LF(n){return n?void 0!==n.unaryFilter?[AG(n)]:void 0!==n.fieldFilter?[MG(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>LF(t)).reduce((t,e)=>t.concat(e)):wt():[]}function SG(n){return yG[n]}function IG(n){return vG[n]}function l_(n){return{fieldPath:n.canonicalString()}}function c_(n){return zr.fromServerFormat(n.fieldPath)}function MG(n){return ps.create(c_(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}function AG(n){switch(n.unaryFilter.op){case"IS_NAN":const t=c_(n.unaryFilter.field);return ps.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=c_(n.unaryFilter.field);return ps.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=c_(n.unaryFilter.field);return ps.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=c_(n.unaryFilter.field);return ps.create(r,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}function xG(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function VF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Wr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=BF(t)),t=kG(n.get(e),t);return BF(t)}function kG(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function BF(n){return n+"\x01\x01"}function Pl(n){const t=n.length;if($t(t>=2),2===t)return $t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Nn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&wt(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:wt()}o=u+2}return new Nn(i)}const UF=["userId","batchId"];function kE(n,t){return[n,Wr(t)]}function jF(n,t,e){return[n,Wr(t),e]}const OG={},NG=["parentPath","readTime"],RG=["canonicalId","targetId"],PG=["targetId","path"],FG=["path","targetId"],LG=["collectionId","parent"],VG=["indexId","uid"],BG=["uid","sequenceNumber"],UG=["indexId","uid","arrayValue","directionalValue","documentKey"],jG=["indexId","uid","documentKey"],HG=["userId","collectionPath","documentId"],GG=["userId","collectionPath","largestBatchId"],$G=["userId","collectionGroup","largestBatchId"],HF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],GF=[...HF,"documentOverlays"],zG=[...GF,"indexConfiguration","indexState","indexEntries"],$F="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class we{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new we((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof we?e:we.resolve(e)}catch(e){return we.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):we.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):we.reject(e)}static resolve(t){return new we((e,i)=>{e(t)})}static reject(t){return new we((e,i)=>{i(t)})}static waitFor(t){return new we((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},p=>i(p))}),u=!0,o===r&&e()})}static or(t){let e=we.resolve(!1);for(const i of t)e=e.next(r=>r?we.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}}class OE{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new Gr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new Lb(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=IA(i.target.error);this.At.reject(new Lb(t,r))}}static open(t,e,i,r){try{return new OE(e,t.transaction(r,i))}catch(o){throw new Lb(e,o)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||($e("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new WG(e)}}class Fl{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===Fl.Vt((0,Ht.z$)())&&cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return $e("SimpleDb","Removing database:",t),mp(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,Ht.hl)())return!1;if(Fl.St())return!0;const t=(0,Ht.z$)(),e=Fl.Vt(t),i=0<e&&e<10,r=Fl.Dt(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,ge.Z)(function*(){return e.db||($e("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new Lb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Fe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Fe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Lb(t,h))},o.onupgradeneeded=u=>{$e("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.Pt.kt(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{$e("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,ge.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.Nt(t);const p=OE.open(o.db,t,u?"readonly":"readwrite",i),y=r(p).next(C=>(p.bt(),C)).catch(C=>(p.abort(C),we.reject(C))).toPromise();return y.catch(()=>{}),yield p.Rt,y}catch(p){const y="FirebaseError"!==p.name&&h<3;if($e("SimpleDb","Transaction failed with error:",p.message,"Retrying:",y),o.close(),!y)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qG{constructor(t){this.$t=t,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(t){this.$t=t}done(){this.Ft=!0}qt(t){this.Bt=t}delete(){return mp(this.$t.delete())}}class Lb extends Fe{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function gp(n){return"IndexedDbTransactionError"===n.name}class WG{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?($e("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),mp(i)}add(t){return $e("SimpleDb","ADD",this.store.name,t,t),mp(this.store.add(t))}get(t){return mp(this.store.get(t)).next(e=>(void 0===e&&(e=null),$e("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return $e("SimpleDb","DELETE",this.store.name,t),mp(this.store.delete(t))}count(){return $e("SimpleDb","COUNT",this.store.name),mp(this.store.count())}Ut(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.Kt(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new we((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}Gt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new we((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(t,e){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(o,u,h)=>h.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Kt(r,e)}zt(t){const e=this.cursor({});return new we((i,r)=>{e.onerror=o=>{const u=IA(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}Kt(t,e){const i=[];return new we((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const p=new qG(h),y=e(h.primaryKey,h.value,p);if(y instanceof we){const C=y.catch(I=>(p.done(),we.reject(I)));i.push(C)}p.isDone?r():null===p.Lt?h.continue():h.continue(p.Lt)}}).next(()=>we.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function mp(n){return new we((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=IA(i.target.error);e(r)}})}let qF=!1;function IA(n){const t=Fl.Vt((0,Ht.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qF||(qF=!0,setTimeout(()=>{throw i},0)),i}}return n}class WF extends zF{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function Zr(n,t){const e=nt(n);return Fl.xt(e.Ht,t)}class MA{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&cG(o,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&wA(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&wA(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Lt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ln())}isEqual(t){return this.batchId===t.batchId&&Jm(this.mutations,t.mutations,(e,i)=>gF(e,i))&&Jm(this.baseMutations,t.baseMutations,(e,i)=>gF(e,i))}}class AA{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){$t(t.mutations.length===i.length);let r=pG;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new AA(t,e,i,r)}}class xA{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Eh{constructor(t,e,i,r,o=Lt.min(),u=Lt.min(),h=Tr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new Eh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Eh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Eh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class ZF{constructor(t){this.Jt=t}}function YF(n,t){let e;if(t.document)e=NF(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ot.fromSegments(t.noDocument.path),r=yp(t.noDocument.readTime);e=Ti.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return wt();{const i=ot.fromSegments(t.unknownDocument.path),r=yp(t.unknownDocument.version);e=Ti.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(OA(t.readTime)),e}function KF(n,t){const e=t.key.path.popLast().toArray(),i=kA(t.readTime);if(t.isFoundDocument())return{document:(o=n.Jt,u=t,{name:Rb(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Nb(o,u.version.toTimestamp())}),hasCommittedMutations:t.hasCommittedMutations,readTime:i,parentPath:e};var o,u;if(t.isNoDocument()){const r=t.key.path.toArray(),o=t.hasCommittedMutations;return{noDocument:{path:r,readTime:_p(t.version)},hasCommittedMutations:o,readTime:i,parentPath:e}}return t.isUnknownDocument()?{unknownDocument:{path:t.key.path.toArray(),version:_p(t.version)},hasCommittedMutations:!0,readTime:i,parentPath:e}:wt()}function kA(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function OA(n){const t=new $r(n[0],n[1]);return Lt.fromTimestamp(t)}function _p(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function yp(n){const t=new $r(n.seconds,n.nanoseconds);return Lt.fromTimestamp(t)}function u_(n,t){const e=(t.baseMutations||[]).map(o=>SA(n.Jt,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>SA(n.Jt,o)),r=$r.fromMillis(t.localWriteTimeMs);return new MA(t.batchId,r,e,i)}function Vb(n){const t=yp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?yp(n.lastLimboFreeSnapshotVersion):Lt.min();let i;var r;return void 0!==n.query.documents?($t(1===(r=n.query).documents.length),i=za(i_(xF(r.documents[0])))):i=za(FF(n.query)),new Eh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Tr.fromBase64String(n.resumeToken))}function JF(n,t){const e=_p(t.snapshotVersion),i=_p(t.lastLimboFreeSnapshotVersion);let r;r=wE(t.target)?RF(n.Jt,t.target):PF(n.Jt,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:dp(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function NA(n){const t=FF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rF(t,t.limit,"L"):t}function RA(n,t){return new xA(t.largestBatchId,SA(n.Jt,t.overlayMutation))}function QF(n,t){const e=t.path.lastSegment();return[n,Wr(t.path.popLast()),e]}class ZG{getBundleMetadata(t,e){return XF(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:yp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return XF(t).put({bundleId:(i=e).id,createTime:_p(qr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return eL(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:NA(r.bundledQuery),readTime:yp(r.readTime)};var r})}saveNamedQuery(t,e){return eL(t).put({name:(i=e).name,readTime:_p(qr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function XF(n){return Zr(n,"bundles")}function eL(n){return Zr(n,"namedQueries")}class PA{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new PA(t,e.uid||"")}getOverlay(t,e){return Bb(t).get(QF(this.userId,e)).next(i=>i?RA(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new xA(e,u);r.push(this.Xt(t,h))}),we.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Wr(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(Bb(t).Qt("collectionPathOverlayIndex",h))}),we.waitFor(o)}getOverlaysForCollection(t,e,i){const r=xb(),o=Wr(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Bb(t).Ut("collectionPathOverlayIndex",u).next(h=>{for(const p of h){const y=RA(this.M,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=xb();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Bb(t).Wt({index:"collectionGroupOverlayIndex",range:h},(p,y,C)=>{const I=RA(this.M,y);o.size()<r||I.largestBatchId===u?(o.set(I.getKey(),I),u=I.largestBatchId):C.done()}).next(()=>o)}Xt(t,e){return Bb(t).put(function(i,r,o){const[u,h,p]=QF(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Fb(i.Jt,o.mutation)}}(this.M,this.userId,e))}}function Bb(n){return Zr(n,"documentOverlays")}class d_{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(Li(t.integerValue));else if("doubleValue"in t){const i=Li(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),bb(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ae(lp(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ue(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?YP(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):wt()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ue(t,e){this.ne(e,37),ot.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function YG(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function tL(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=YG(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}d_.fe=new d_;class KG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=tL(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=tL(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class JG{constructor(t){this.De=t}ae(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class QG{constructor(t){this.De=t}ae(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class NE{constructor(){this.De=new KG,this.Ce=new JG(this.De),this.xe=new QG(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Th{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Th(this.indexId,this.documentKey,this.arrayValue,i)}}function vp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=nL(n.arrayValue,t.arrayValue),0!==e?e:(e=nL(n.directionalValue,t.directionalValue),0!==e?e:ot.comparator(n.documentKey,t.documentKey)))}function nL(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class XG{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.$e=i:this.Oe.push(i)}}Fe(t){const e=gA(t);if(void 0!==e&&!this.Be(e))return!1;const i=t_(t);let r=0,o=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.$e){const u=i[r];if(!this.Le(this.$e,u)||!this.qe(this.Me[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Me.length||!this.qe(this.Me[o++],u))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}qe(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class e6{constructor(){this.Ue=new FA}addToCollectionParentIndex(t,e){return this.Ue.add(e),we.resolve()}getCollectionParents(t,e){return we.resolve(this.Ue.getEntries(e))}addFieldIndex(t,e){return we.resolve()}deleteFieldIndex(t,e){return we.resolve()}getDocumentsMatchingTarget(t,e){return we.resolve(null)}getFieldIndex(t,e){return we.resolve(null)}getFieldIndexes(t,e){return we.resolve([])}getNextCollectionGroupToUpdate(t){return we.resolve(null)}updateCollectionGroup(t,e,i){return we.resolve()}updateIndexEntries(t,e){return we.resolve()}}class FA{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new mi(Nn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new mi(Nn.comparator)).toArray()}}const RE=new Uint8Array(0);class t6{constructor(t){this.user=t,this.Ke=new FA,this.Ge=new Dh(e=>dp(e),(e,i)=>Tb(e,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ke.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ke.add(e)});const o={collectionId:i,parent:Wr(r)};return iL(t).put(o)}return we.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[BP(e),""],!1,!0);return iL(t).Ut(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(Pl(u.parent))}return i})}addFieldIndex(t,e){const i=PE(t),r={indexId:(o=e).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var o;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=PE(t),r=FE(t),o=Ub(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Ub(t);let r=!0;const o=new Map;return we.forEach(this.Qe(e),u=>this.getFieldIndex(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=Ln();return we.forEach(o,(h,p)=>{var y;$e("IndexedDbIndexManager",`Using index ${y=h,`id=${y.indexId}|cg=${y.collectionGroup}|f=${y.fields.map(De=>`${De.fieldPath}:${De.kind}`).join(",")}`} to execute ${dp(e)}`);const C=function(De,je){const Se=gA(je);if(void 0===Se)return null;for(const Ze of CE(De,Se.fieldPath))switch(Ze.op){case"array-contains-any":return Ze.value.arrayValue.values||[];case"array-contains":return[Ze.value]}return null}(p,h),I=function(De,je){const Se=new Map;for(const Ze of t_(je))for(const ze of CE(De,Ze.fieldPath))switch(ze.op){case"==":case"in":Se.set(Ze.fieldPath.canonicalString(),ze.value);break;case"not-in":case"!=":return Se.set(Ze.fieldPath.canonicalString(),ze.value),Array.from(Se.values())}return null}(p,h),N=function(De,je){const Se=[];let Ze=!0;for(const Dt of t_(je)){let Et,on=!0;for(const zt of CE(De,Dt.fieldPath)){let Vt,bi=!0;switch(zt.op){case"<":case"<=":Vt="nullValue"in(ze=zt.value)?zP:"booleanValue"in ze?{booleanValue:!1}:"integerValue"in ze||"doubleValue"in ze?{doubleValue:NaN}:"timestampValue"in ze?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in ze?{stringValue:""}:"bytesValue"in ze?{bytesValue:""}:"referenceValue"in ze?e_(qu.empty(),ot.empty()):"geoPointValue"in ze?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in ze?{arrayValue:{}}:"mapValue"in ze?{mapValue:{}}:wt();break;case"==":case"in":case">=":Vt=zt.value;break;case">":Vt=zt.value,bi=!1;break;case"!=":case"not-in":Vt=zP}KP(Et,Vt)===Vt&&(Et=Vt,on=bi)}if(null!==De.startAt)for(let zt=0;zt<De.orderBy.length;++zt)if(De.orderBy[zt].field.isEqual(Dt.fieldPath)){const Vt=De.startAt.position[zt];KP(Et,Vt)===Vt&&(Et=Vt,on=De.startAt.inclusive);break}if(void 0===Et)return null;Se.push(Et),Ze&&(Ze=on)}var ze;return new Ch(Se,Ze)}(p,h),P=function(De,je){const Se=[];let Ze=!0;for(const Dt of t_(je)){let Et,on=!0;for(const zt of CE(De,Dt.fieldPath)){let Vt,bi=!0;switch(zt.op){case">=":case">":Vt="nullValue"in(ze=zt.value)?{booleanValue:!1}:"booleanValue"in ze?{doubleValue:NaN}:"integerValue"in ze||"doubleValue"in ze?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in ze?{stringValue:""}:"stringValue"in ze?{bytesValue:""}:"bytesValue"in ze?e_(qu.empty(),ot.empty()):"referenceValue"in ze?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in ze?{arrayValue:{}}:"arrayValue"in ze?{mapValue:{}}:"mapValue"in ze?$P:wt(),bi=!1;break;case"==":case"in":case"<=":Vt=zt.value;break;case"<":Vt=zt.value,bi=!1;break;case"!=":case"not-in":Vt=$P}JP(Et,Vt)===Vt&&(Et=Vt,on=bi)}if(null!==De.endAt)for(let zt=0;zt<De.orderBy.length;++zt)if(De.orderBy[zt].field.isEqual(Dt.fieldPath)){const Vt=De.endAt.position[zt];JP(Et,Vt)===Vt&&(Et=Vt,on=De.endAt.inclusive);break}if(void 0===Et)return null;Se.push(Et),Ze&&(Ze=on)}var ze;return new Ch(Se,Ze)}(p,h),U=this.je(h,p,N),W=this.je(h,p,P),oe=this.We(h,p,I),xe=this.ze(h.indexId,C,U,!!N&&N.inclusive,W,!!P&&P.inclusive,oe);return we.forEach(xe,De=>i.Gt(De,e.limit).next(je=>{je.forEach(Se=>{u=u.add(new ot(Pl(Se.documentKey)))})}))}).next(()=>u)}return we.resolve(null)})}Qe(t){let e=this.Ge.get(t);return e||(e=[t],this.Ge.set(t,e),e)}ze(t,e,i,r,o,u,h){const p=(null!=e?e.length:1)*Math.max(null!=i?i.length:1,null!=o?o.length:1),y=p/(null!=e?e.length:1),C=[];for(let I=0;I<p;++I){const N=e?this.He(e[I/y]):RE,P=i?this.Je(t,N,i[I%y],r):this.Ye(t),U=o?this.Xe(t,N,o[I%y],u):this.Ye(t+1);C.push(...this.createRange(P,U,h.map(W=>this.Je(t,N,W,!0))))}return C}Je(t,e,i,r){const o=new Th(t,ot.empty(),e,i);return r?o:o.ke()}Xe(t,e,i,r){const o=new Th(t,ot.empty(),e,i);return r?o.ke():o}Ye(t){return new Th(t,ot.empty(),RE,RE)}getFieldIndex(t,e){const i=new XG(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{const u=o.filter(h=>i.Fe(h));return u.sort((h,p)=>p.fields.length-h.fields.length),u.length>0?u[0]:null})}Ze(t,e){const i=new NE;for(const r of t_(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.Ne(r.kind);d_.fe.Zt(o,u)}return i.Se()}He(t){const e=new NE;return d_.fe.Zt(t,e.Ne(0)),e.Se()}We(t,e,i){if(null===i)return[];let r=[];r.push(new NE);let o=0;for(const u of t_(t)){const h=i[o++];for(const p of r)if(this.tn(e,u.fieldPath)&&Cb(h))r=this.en(r,u,h);else{const y=p.Ne(u.kind);d_.fe.Zt(h,y)}}return this.nn(r)}je(t,e,i){return null==i?null:this.We(t,e,i.position)}nn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}en(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const p=new NE;p.seed(h.Se()),d_.fe.Zt(u,p.Ne(e.kind)),o.push(p)}return o}tn(t,e){return!!t.filters.find(i=>i instanceof ps&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=PE(t),r=FE(t);return(e?i.Ut("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.Ut()).next(o=>{const u=[];return we.forEach(o,h=>r.get([h.indexId,this.uid]).next(p=>{u.push(function(y,C){const I=C?new Eb(C.sequenceNumber,new bE(yp(C.readTime),new ot(Pl(C.documentKey)),C.largestBatchId)):Eb.empty(),N=y.fields.map(([P,U])=>new vE(zr.fromServerFormat(P),U));return new yE(y.indexId,y.collectionGroup,N,I)}(h,p))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:dn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=PE(t),o=FE(t);return this.sn(t).next(u=>r.Ut("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>we.forEach(h,p=>{return o.put({indexId:p.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:_p((N=i).readTime),documentKey:Wr(N.documentKey.path),largestBatchId:N.largestBatchId});var N})))}updateIndexEntries(t,e){const i=new Map;return we.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?we.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),we.forEach(h,p=>this.rn(t,r,p).next(y=>{const C=this.on(o,p);return y.isEqual(C)?we.resolve():this.an(t,o,y,C)}))))})}un(t,e,i){return Ub(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,documentKey:Wr(e.key.path)})}cn(t,e,i){return Ub(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,Wr(e.key.path)])}rn(t,e,i){const r=Ub(t);let o=new mi(vp);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,Wr(e.path)])},(u,h)=>{o=o.add(new Th(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}on(t,e){let i=new mi(vp);const r=this.Ze(e,t);if(null==r)return i;const o=gA(e);if(null!=o){const u=t.data.field(o.fieldPath);if(Cb(u))for(const h of u.arrayValue.values||[])i=i.add(new Th(e.indexId,t.key,this.He(h),r))}else i=i.add(new Th(e.indexId,t.key,RE,r));return i}an(t,e,i,r){$e("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(u,h,p,y,C){const I=u.getIterator(),N=h.getIterator();let P=a_(I),U=a_(N);for(;P||U;){let W=!1,oe=!1;if(P&&U){const xe=p(P,U);xe<0?oe=!0:xe>0&&(W=!0)}else null!=P?oe=!0:W=!0;W?(y(U),U=a_(N)):oe?(C(P),P=a_(I)):(P=a_(I),U=a_(N))}}(i,r,vp,u=>{o.push(this.un(t,e,u))},u=>{o.push(this.cn(t,e,u))}),we.waitFor(o)}sn(t){let e=1;return FE(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>vp(u,h)).filter((u,h,p)=>!h||0!==vp(u,p[h-1]));const r=[];r.push(t);for(const u of i){const h=vp(u,t),p=vp(u,e);if(0===h)r[0]=t.ke();else if(h>0&&p<0)r.push(u),r.push(u.ke());else if(p>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2)o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,""],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,""]));return o}}function iL(n){return Zr(n,"collectionParents")}function Ub(n){return Zr(n,"indexEntries")}function PE(n){return Zr(n,"indexConfiguration")}function FE(n){return Zr(n,"indexState")}const rL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new xo(t,xo.DEFAULT_COLLECTION_PERCENTILE,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sL(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const p=i.Wt({range:u},(C,I,N)=>(h++,N.delete()));o.push(p.next(()=>{$t(1===h)}));const y=[];for(const C of e.mutations){const I=jF(t,C.key.path,e.batchId);o.push(r.delete(I)),y.push(C.key)}return we.waitFor(o).next(()=>y)}function LE(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw wt();t=n.noDocument}return JSON.stringify(t).length}xo.DEFAULT_COLLECTION_PERCENTILE=10,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xo.DEFAULT=new xo(41943040,xo.DEFAULT_COLLECTION_PERCENTILE,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xo.DISABLED=new xo(-1,0,0);class LA{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.hn={}}static Yt(t,e,i,r){$t(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new LA(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sh(t).Wt({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=h_(t),u=Sh(t);return u.add({}).next(h=>{$t("number"==typeof h);const p=new MA(h,e,i,r),y=function(N,P,U){const W=U.baseMutations.map(xe=>Fb(N.Jt,xe)),oe=U.mutations.map(xe=>Fb(N.Jt,xe));return{userId:P,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:W,mutations:oe}}(this.M,this.userId,p),C=[];let I=new mi((N,P)=>dn(N.canonicalString(),P.canonicalString()));for(const N of r){const P=jF(this.userId,N.key.path,h);I=I.add(N.key.path.popLast()),C.push(u.put(y)),C.push(o.put(P,OG))}return I.forEach(N=>{C.push(this.indexManager.addToCollectionParentIndex(t,N))}),t.addOnCommittedListener(()=>{this.hn[h]=p.keys()}),we.waitFor(C).next(()=>p)})}lookupMutationBatch(t,e){return Sh(t).get(e).next(i=>i?($t(i.userId===this.userId),u_(this.M,i)):null)}ln(t,e){return this.hn[e]?we.resolve(this.hn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.hn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Sh(t).Wt({index:"userMutationsIndex",range:r},(u,h,p)=>{h.userId===this.userId&&($t(h.batchId>=i),o=u_(this.M,h)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Sh(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sh(t).Ut("userMutationsIndex",e).next(i=>i.map(r=>u_(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=kE(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return h_(t).Wt({range:r},(u,h,p)=>{const[y,C,I]=u,N=Pl(C);if(y===this.userId&&e.path.isEqual(N))return Sh(t).get(I).next(P=>{if(!P)throw wt();$t(P.userId===this.userId),o.push(u_(this.M,P))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new mi(dn);const r=[];return e.forEach(o=>{const u=kE(this.userId,o.path),h=IDBKeyRange.lowerBound(u),p=h_(t).Wt({range:h},(y,C,I)=>{const[N,P,U]=y,W=Pl(P);N===this.userId&&o.path.isEqual(W)?i=i.add(U):I.done()});r.push(p)}),we.waitFor(r).next(()=>this.fn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=kE(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new mi(dn);return h_(t).Wt({range:u},(p,y,C)=>{const[I,N,P]=p,U=Pl(N);I===this.userId&&i.isPrefixOf(U)?U.length===r&&(h=h.add(P)):C.done()}).next(()=>this.fn(t,h))}fn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Sh(t).get(o).next(u=>{if(null===u)throw wt();$t(u.userId===this.userId),i.push(u_(this.M,u))}))}),we.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return sL(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.dn(e.batchId)}),we.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}dn(t){delete this.hn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return we.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return h_(t).Wt({range:i},(o,u,h)=>{if(o[0]===this.userId){const p=Pl(o[1]);r.push(p)}else h.done()}).next(()=>{$t(0===r.length)})})}containsKey(t,e){return oL(t,this.userId,e)}_n(t){return aL(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oL(n,t,e){const i=kE(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return h_(n).Wt({range:o,jt:!0},(h,p,y)=>{const[C,I,N]=h;C===t&&I===r&&(u=!0),y.done()}).next(()=>u)}function Sh(n){return Zr(n,"mutations")}function h_(n){return Zr(n,"documentMutations")}function aL(n){return Zr(n,"mutationQueues")}class bp{constructor(t){this.wn=t}next(){return this.wn+=2,this.wn}static mn(){return new bp(0)}static gn(){return new bp(-1)}}class n6{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.yn(t).next(e=>{const i=new bp(e.highestTargetId);return e.highestTargetId=i.next(),this.pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.yn(t).next(e=>Lt.fromTimestamp(new $r(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.yn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.yn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.pn(t,r)))}addTargetData(t,e){return this.In(t,e).next(()=>this.yn(t).next(i=>(i.targetCount+=1,this.Tn(e,i),this.pn(t,i))))}updateTargetData(t,e){return this.In(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>f_(t).delete(e.targetId)).next(()=>this.yn(t)).next(i=>($t(i.targetCount>0),i.targetCount-=1,this.pn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return f_(t).Wt((u,h)=>{const p=Vb(h);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,o.push(this.removeTargetData(t,p)))}).next(()=>we.waitFor(o)).next(()=>r)}forEachTarget(t,e){return f_(t).Wt((i,r)=>{const o=Vb(r);e(o)})}yn(t){return lL(t).get("targetGlobalKey").next(e=>($t(null!==e),e))}pn(t,e){return lL(t).put("targetGlobalKey",e)}In(t,e){return f_(t).put(JF(this.M,e))}Tn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.yn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=dp(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return f_(t).Wt({range:r,index:"queryTargetsIndex"},(u,h,p)=>{const y=Vb(h);Tb(e,y.target)&&(o=y,p.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Ih(t);return e.forEach(u=>{const h=Wr(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),we.waitFor(r)}removeMatchingKeys(t,e,i){const r=Ih(t);return we.forEach(e,o=>{const u=Wr(o.path);return we.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Ih(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ih(t);let o=Ln();return r.Wt({range:i,jt:!0},(u,h,p)=>{const y=Pl(u[1]),C=new ot(y);o=o.add(C)}).next(()=>o)}containsKey(t,e){const i=Wr(e.path),r=IDBKeyRange.bound([i],[BP(i)],!1,!0);let o=0;return Ih(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,h],p,y)=>{0!==u&&(o++,y.done())}).next(()=>o>0)}Et(t,e){return f_(t).get(e).next(i=>i?Vb(i):null)}}function f_(n){return Zr(n,"targets")}function lL(n){return Zr(n,"targetGlobal")}function Ih(n){return Zr(n,"targetDocuments")}function wp(n){return VA.apply(this,arguments)}function VA(){return VA=(0,ge.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==$F)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),VA.apply(this,arguments)}function cL([n,t],[e,i]){const r=dn(n,e);return 0===r?dn(t,i):r}class i6{constructor(t){this.En=t,this.buffer=new mi(cL),this.An=0}Rn(){return++this.An}bn(t){const e=[t,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();cL(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class r6{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Pn=!1,this.Vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(t)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(t){var e=this;const i=this.Pn?3e5:6e4;$e("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,ge.Z)(function*(){e.Vn=null,e.Pn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){gp(r)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield wp(r)}yield e.vn(t)}))}}class s6{constructor(t,e){this.Sn=t,this.params=e}calculateTargetCount(t,e){return this.Sn.Dn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return we.resolve(ra.A);const i=new i6(e);return this.Sn.forEachTarget(t,r=>i.bn(r.sequenceNumber)).next(()=>this.Sn.Cn(t,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Sn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Sn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(rL)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rL):this.xn(t,e))}getCacheSize(t){return this.Sn.getCacheSize(t)}xn(t,e){let i,r,o,u,h,p,y;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,u=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(t,i,e))).next(I=>(o=I,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(y=Date.now(),uA()<=xc.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(p-h)+`ms\n\tRemoved ${I} documents in `+(y-p)+`ms\nTotal Duration: ${y-C}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:I})))}}class o6{constructor(t,e){this.db=t,this.garbageCollector=new s6(this,e)}Dn(t){const e=this.Nn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Nn(t){let e=0;return this.Cn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Cn(t,e){return this.kn(t,(i,r)=>e(r))}addReference(t,e,i){return VE(t,i)}removeReference(t,e,i){return VE(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return VE(t,e)}Mn(t,e){return function(i,r){let o=!1;return aL(i).zt(u=>oL(i,u,r).next(h=>(h&&(o=!0),we.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.kn(t,(u,h)=>{if(h<=e){const p=this.Mn(t,u).next(y=>{if(!y)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Lt.min()),Ih(t).delete([0,Wr(u.path)])))});r.push(p)}}).next(()=>we.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return VE(t,e)}kn(t,e){const i=Ih(t);let r,o=ra.A;return i.Wt({index:"documentTargetsIndex"},([u,h],{path:p,sequenceNumber:y})=>{0===u?(o!==ra.A&&e(new ot(Pl(r)),o),o=y,r=p):o=ra.A}).next(()=>{o!==ra.A&&e(new ot(Pl(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function VE(n,t){return Ih(n).put((i=n.currentSequenceNumber,{targetId:0,path:Wr(t.path),sequenceNumber:i}));var i}class uL{constructor(){this.changes=new Dh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ti.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?we.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class a6{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Mh(t).put(BE(e),i)}removeEntry(t,e){const i=Mh(t),r=BE(e);return i.delete(r)}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.On(t,i)))}getEntry(t,e){return Mh(t).get(BE(e)).next(i=>this.$n(e,i))}Fn(t,e){return Mh(t).get(BE(e)).next(i=>({document:this.$n(e,i),size:LE(i)}))}getEntries(t,e){let i=qa();return this.Bn(t,e,(r,o)=>{const u=this.$n(r,o);i=i.insert(r,u)}).next(()=>i)}Ln(t,e){let i=qa(),r=new Qi(ot.comparator);return this.Bn(t,e,(o,u)=>{const h=this.$n(o,u);i=i.insert(o,h),r=r.insert(o,LE(u))}).next(()=>({documents:i,qn:r}))}Bn(t,e,i){if(e.isEmpty())return we.resolve();const r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),o=e.getIterator();let u=o.getNext();return Mh(t).Wt({range:r},(h,p,y)=>{const C=ot.fromSegments(h);for(;u&&ot.comparator(u,C)<0;)i(u,null),u=o.getNext();u&&u.isEqual(C)&&(i(u,p),u=o.hasNext()?o.getNext():null),u?y.qt(u.path.toArray()):y.done()}).next(()=>{for(;u;)i(u,null),u=o.hasNext()?o.getNext():null})}getAll(t,e,i){let r=qa();const o=e.length+1,u={};if(i.isEqual(Lt.min())){const h=e.toArray();u.range=IDBKeyRange.lowerBound(h)}else{const h=e.toArray(),p=kA(i);u.range=IDBKeyRange.lowerBound([h,p],!0),u.index="collectionReadTimeIndex"}return Mh(t).Wt(u,(h,p,y)=>{if(h.length!==o)return;const C=this.$n(ot.fromSegments(h),p);e.isPrefixOf(C.key.path)?r=r.insert(C.key,C):y.done()}).next(()=>r)}newChangeBuffer(t){return new l6(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return dL(t).get("remoteDocumentGlobalKey").next(e=>($t(!!e),e))}On(t,e){return dL(t).put("remoteDocumentGlobalKey",e)}$n(t,e){if(e){const i=YF(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(Lt.min()))return i}return Ti.newInvalidDocument(t)}}class l6 extends uL{constructor(t,e){super(),this.Un=t,this.trackRemovals=e,this.Kn=new Dh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new mi((o,u)=>dn(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Kn.get(o);if(u.isValidDocument()){const p=KF(this.Un.M,u);r=r.add(o.path.popLast()),i+=LE(p)-h,e.push(this.Un.addEntry(t,o,p))}else if(i-=h,this.trackRemovals){const p=KF(this.Un.M,u.convertToNoDocument(Lt.min()));e.push(this.Un.addEntry(t,o,p))}else e.push(this.Un.removeEntry(t,o))}),r.forEach(o=>{e.push(this.Un.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Un.updateMetadata(t,i)),we.waitFor(e)}getFromCache(t,e){return this.Un.Fn(t,e).next(i=>(this.Kn.set(e,i.size),i.document))}getAllFromCache(t,e){return this.Un.Ln(t,e).next(({documents:i,qn:r})=>(r.forEach((o,u)=>{this.Kn.set(o,u)}),i))}}function dL(n){return Zr(n,"remoteDocumentGlobal")}function Mh(n){return Zr(n,"remoteDocuments")}function BE(n){return n.path.toArray()}class c6{constructor(t){this.M=t}kt(t,e,i,r){const o=new OE("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UF,{unique:!0}),h.createObjectStore("documentMutations"),hL(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=we.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),hL(t)),u=u.next(()=>function(h){const p=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,p){return p.store("mutations").Ut().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UF,{unique:!0});const C=p.store("mutations"),I=y.map(N=>C.put(N));return we.waitFor(I)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Gn(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Qn(o)))),i<7&&r>=7&&(u=u.next(()=>this.jn(o))),i<8&&r>=8&&(u=u.next(()=>this.Wn(t,o))),i<9&&r>=9&&(u=u.next(()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(t),function(h){const p=h.objectStore("remoteDocuments");p.createIndex("readTimeIndex","readTime",{unique:!1}),p.createIndex("collectionReadTimeIndex",NG,{unique:!1})}(e)})),i<10&&r>=10&&(u=u.next(()=>this.zn(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:HG});p.createIndex("collectionPathOverlayIndex",GG,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",$G,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:VG}).createIndex("sequenceNumberIndex",BG,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:UG}).createIndex("documentKeyIndex",jG,{unique:!1})}(t)})),u}Qn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=LE(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Gn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.Ut().next(r=>we.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.Ut("userMutationsIndex",u).next(h=>we.forEach(h,p=>{$t(p.userId===o.userId);const y=u_(this.M,p);return sL(t,o.userId,y).next(()=>{})}))}))}jn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Wt((u,h)=>{const p=new Nn(u),y=[0,Wr(p)];o.push(e.get(y).next(C=>C?we.resolve():e.put({targetId:0,path:Wr(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>we.waitFor(o))})}Wn(t,e){t.createObjectStore("collectionParents",{keyPath:LG});const i=e.store("collectionParents"),r=new FA,o=u=>{if(r.add(u)){const h=u.lastSegment(),p=u.popLast();return i.put({collectionId:h,parent:Wr(p)})}};return e.store("remoteDocuments").Wt({jt:!0},(u,h)=>{const p=new Nn(u);return o(p.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([u,h,p],y)=>{const C=Pl(h);return o(C.popLast())}))}zn(t){const e=t.store("targets");return e.Wt((i,r)=>{const o=Vb(r),u=JF(this.M,o);return e.put(u)})}}function hL(n){n.createObjectStore("targetDocuments",{keyPath:PG}).createIndex("documentTargetsIndex",FG,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",RG,{unique:!0}),n.createObjectStore("targetGlobal")}const BA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class UA{constructor(t,e,i,r,o,u,h,p,y,C,I=12){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hn=o,this.window=u,this.document=h,this.Jn=y,this.Yn=C,this.Xn=I,this.Zn=null,this.ts=!1,this.isPrimary=!1,this.networkEnabled=!0,this.es=null,this.inForeground=!1,this.ns=null,this.ss=null,this.rs=Number.NEGATIVE_INFINITY,this.os=N=>Promise.resolve(),!UA.vt())throw new Fe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new o6(this,r),this.us=e+"main",this.M=new ZF(p),this.cs=new Fl(this.us,this.Xn,new c6(this.M)),this.hs=new n6(this.referenceDelegate,this.M),this.ls=new a6(this.M),this.fs=new ZG,this.window&&this.window.localStorage?this.ds=this.window.localStorage:(this.ds=null,!1===C&&cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this._s().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(me.FAILED_PRECONDITION,BA);return this.ws(),this.gs(),this.ys(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.hs.getHighestSequenceNumber(t))}).then(t=>{this.Zn=new ra(t,this.Jn)}).then(()=>{this.ts=!0}).catch(t=>(this.cs&&this.cs.close(),Promise.reject(t)))}ps(t){var e=this;return this.os=function(){var i=(0,ge.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.cs.Ot(function(){var e=(0,ge.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hn.enqueueAndForget((0,ge.Z)(function*(){e.started&&(yield e._s())})))}_s(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>UE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Is(t).next(e=>{e||(this.isPrimary=!1,this.Hn.enqueueRetryable(()=>this.os(!1)))})}).next(()=>this.Ts(t)).next(e=>this.isPrimary&&!e?this.Es(t).next(()=>!1):!!e&&this.As(t).next(()=>!0))).catch(t=>{if(gp(t))return $e("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hn.enqueueRetryable(()=>this.os(t)),this.isPrimary=t})}Is(t){return jb(t).get("owner").next(e=>we.resolve(this.Rs(e)))}bs(t){return UE(t).delete(this.clientId)}Ps(){var t=this;return(0,ge.Z)(function*(){if(t.isPrimary&&!t.Vs(t.rs,18e5)){t.rs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Zr(i,"clientMetadata");return r.Ut().next(o=>{const u=t.vs(o,18e5),h=o.filter(p=>-1===u.indexOf(p));return we.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(t.ds)for(const i of e)t.ds.removeItem(t.Ss(i.clientId))}})()}ys(){this.ss=this.Hn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this._s().then(()=>this.Ps()).then(()=>this.ys()))}Rs(t){return!!t&&t.ownerId===this.clientId}Ts(t){return this.Yn?we.resolve(!0):jb(t).get("owner").next(e=>{if(null!==e&&this.Vs(e.leaseTimestampMs,5e3)&&!this.Ds(e.ownerId)){if(this.Rs(e)&&this.networkEnabled)return!0;if(!this.Rs(e)){if(!e.allowTabSynchronization)throw new Fe(me.FAILED_PRECONDITION,BA);return!1}}return!(!this.networkEnabled||!this.inForeground)||UE(t).Ut().next(i=>void 0===this.vs(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&$e("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ge.Z)(function*(){t.ts=!1,t.Cs(),t.ss&&(t.ss.cancel(),t.ss=null),t.xs(),t.Ns(),yield t.cs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new WF(e,ra.A);return t.Es(i).next(()=>t.bs(i))}),t.cs.close(),t.ks()})()}vs(t,e){return t.filter(i=>this.Vs(i.updateTimeMs,e)&&!this.Ds(i.clientId))}Ms(){return this.runTransaction("getActiveClients","readonly",t=>UE(t).Ut().next(e=>this.vs(e,18e5).map(i=>i.clientId)))}get started(){return this.ts}getMutationQueue(t,e){return LA.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getIndexManager(t){return new t6(t)}getDocumentOverlayCache(t){return PA.Yt(this.M,t)}getBundleCache(){return this.fs}runTransaction(t,e,i){$e("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=13===(u=this.Xn)?zG:12===u?GF:11===u?HF:void wt();var u;let h;return this.cs.runTransaction(t,r,o,p=>(h=new WF(p,this.Zn?this.Zn.next():ra.A),"readwrite-primary"===e?this.Is(h).next(y=>!!y||this.Ts(h)).next(y=>{if(!y)throw cr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hn.enqueueRetryable(()=>this.os(!1)),new Fe(me.FAILED_PRECONDITION,$F);return i(h)}).next(y=>this.As(h).next(()=>y)):this.Os(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Os(t){return jb(t).get("owner").next(e=>{if(null!==e&&this.Vs(e.leaseTimestampMs,5e3)&&!this.Ds(e.ownerId)&&!this.Rs(e)&&!(this.Yn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Fe(me.FAILED_PRECONDITION,BA)})}As(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jb(t).put("owner",e)}static vt(){return Fl.vt()}Es(t){const e=jb(t);return e.get("owner").next(i=>this.Rs(i)?($e("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):we.resolve())}Vs(t,e){const i=Date.now();return!(t<i-e||t>i&&(cr(`Detected an update time that is in the future: ${t} > ${i}`),1))}ws(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ns=()=>{this.Hn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this._s()))},this.document.addEventListener("visibilitychange",this.ns),this.inForeground="visible"===this.document.visibilityState)}xs(){this.ns&&(this.document.removeEventListener("visibilitychange",this.ns),this.ns=null)}gs(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.es=()=>{this.Cs(),(0,Ht.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hn.enterRestrictedMode(!0),this.Hn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.es))}Ns(){this.es&&(this.window.removeEventListener("pagehide",this.es),this.es=null)}Ds(t){var e;try{const i=null!==(null===(e=this.ds)||void 0===e?void 0:e.getItem(this.Ss(t)));return $e("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return cr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Cs(){if(this.ds)try{this.ds.setItem(this.Ss(this.clientId),String(Date.now()))}catch(t){cr("Failed to set zombie client id.",t)}}ks(){if(this.ds)try{this.ds.removeItem(this.Ss(this.clientId))}catch(t){}}Ss(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function jb(n){return Zr(n,"owner")}function UE(n){return Zr(n,"clientMetadata")}function jA(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class u6{constructor(t,e){this.progress=t,this.$s=e}}class d6{constructor(t,e,i){this.ls=t,this.Fs=e,this.indexManager=i}Bs(t,e){return this.Fs.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Ls(t,e,i))}Ls(t,e,i){return this.ls.getEntry(t,e).next(r=>{for(const o of i)o.applyToLocalView(r);return r})}qs(t,e){t.forEach((i,r)=>{for(const o of e)o.applyToLocalView(r)})}Us(t,e){return this.ls.getEntries(t,e).next(i=>this.Ks(t,i).next(()=>i))}Ks(t,e){return this.Fs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.qs(e,i))}Gs(t,e,i){return ot.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Qs(t,e.path):yA(e)?this.js(t,e,i):this.Ws(t,e,i);var r}Qs(t,e){return this.Bs(t,new ot(e)).next(i=>{let r=DA();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}js(t,e,i){const r=e.collectionGroup;let o=DA();return this.indexManager.getCollectionParents(t,r).next(u=>we.forEach(u,h=>{const p=(y=e,C=h.child(r),new Wu(C,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,C;return this.Ws(t,p,i).next(y=>{y.forEach((C,I)=>{o=o.insert(C,I)})})}).next(()=>o))}Ws(t,e,i){let r;return this.ls.getAll(t,e.path,i).next(o=>(r=o,this.Fs.getAllMutationBatchesAffectingQuery(t,e))).next(o=>{for(const u of o)for(const h of u.mutations){const p=h.key;let y=r.get(p);null==y&&(y=Ti.newInvalidDocument(p),r=r.insert(p,y)),wA(h,y,u.localWriteTime),y.isFoundDocument()||(r=r.remove(p))}}).next(()=>(r.forEach((o,u)=>{bA(e,u)||(r=r.remove(o))}),r))}}class HA{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.zs=i,this.Hs=r}static Js(t,e){let i=Ln(),r=Ln();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new HA(t,e.fromCache,i,r)}}class fL{Ys(t){this.Xs=t}Gs(t,e,i,r){return 0===(o=e).filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())||i.isEqual(Lt.min())?this.Zs(t,e):this.Xs.Us(t,r).next(o=>{const u=this.ti(e,o);return(DE(e)||EE(e))&&this.ei(e.limitType,u,r,i)?this.Zs(t,e):(uA()<=xc.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vA(e)),this.Xs.Gs(t,e,i).next(h=>(u.forEach(p=>{h=h.insert(p.key,p)}),h)))});var o}ti(t,e){let i=new mi(oF(t));return e.forEach((r,o)=>{bA(t,o)&&(i=i.add(o))}),i}ei(t,e,i,r){if(i.size!==e.size)return!0;const o="F"===t?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Zs(t,e){return uA()<=xc.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",vA(e)),this.Xs.Gs(t,e,Lt.min())}}class h6{constructor(t,e,i,r){this.persistence=t,this.ni=e,this.M=r,this.si=new Qi(dn),this.ii=new Dh(o=>dp(o),Tb),this.ri=Lt.min(),this.oi=t.getRemoteDocumentCache(),this.hs=t.getTargetCache(),this.fs=t.getBundleCache(),this.ai(i)}ai(t){this.indexManager=this.persistence.getIndexManager(t),this.Fs=this.persistence.getMutationQueue(t,this.indexManager),this.ui=new d6(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.si))}}function pL(n,t,e,i){return new h6(n,t,e,i)}function gL(n,t){return GA.apply(this,arguments)}function GA(){return GA=(0,ge.Z)(function*(n,t){const e=nt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.Fs.getAllMutationBatches(i).next(o=>(r=o,e.ai(t),e.Fs.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let p=Ln();for(const y of r){u.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}for(const y of o){h.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}return e.ui.Us(i,p).next(y=>({ci:y,removedBatchIds:u,addedBatchIds:h}))})})}),GA.apply(this,arguments)}function f6(n,t){const e=nt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.oi.newChangeBuffer({trackRemovals:!0});return function(u,h,p,y){const C=p.batch,I=C.keys();let N=we.resolve();return I.forEach(P=>{N=N.next(()=>y.getEntry(h,P)).next(U=>{const W=p.docVersions.get(P);$t(null!==W),U.version.compareTo(W)<0&&(C.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),y.addEntry(U)))})}),N.next(()=>u.Fs.removeMutationBatch(h,C))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.Fs.performConsistencyCheck(i)).next(()=>e.ui.Us(i,r))})}function mL(n){const t=nt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hs.getLastRemoteSnapshotVersion(e))}function p6(n,t){const e=nt(n),i=t.snapshotVersion;let r=e.si;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.oi.newChangeBuffer({trackRemovals:!0});r=e.si;const h=[];t.targetChanges.forEach((y,C)=>{const I=r.get(C);if(!I)return;h.push(e.hs.removeMatchingKeys(o,y.removedDocuments,C).next(()=>e.hs.addMatchingKeys(o,y.addedDocuments,C)));let N=I.withSequenceNumber(o.currentSequenceNumber);var P,U,W;t.targetMismatches.has(C)?N=N.withResumeToken(Tr.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):y.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(y.resumeToken,i)),r=r.insert(C,N),U=N,W=y,(0===(P=I).resumeToken.approximateByteSize()||U.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8||W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0)&&h.push(e.hs.updateTargetData(o,N))});let p=qa();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(_L(o,u,t.documentUpdates).next(y=>{p=y})),!i.isEqual(Lt.min())){const y=e.hs.getLastRemoteSnapshotVersion(o).next(C=>e.hs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return we.waitFor(h).next(()=>u.apply(o)).next(()=>e.ui.Ks(o,p)).next(()=>p)}).then(o=>(e.si=r,o))}function _L(n,t,e){let i=Ln();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let o=qa();return e.forEach((u,h)=>{const p=r.get(u);h.isNoDocument()&&h.version.isEqual(Lt.min())?(t.removeEntry(u,h.readTime),o=o.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(t.addEntry(h),o=o.insert(u,h)):$e("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),o})}function g6(n,t){const e=nt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.Fs.getNextMutationBatchAfterBatchId(i,t)))}function p_(n,t){const e=nt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.hs.getTargetData(i,t).next(o=>o?(r=o,we.resolve(r)):e.hs.allocateTargetId(i).next(u=>(r=new Eh(t,u,0,i.currentSequenceNumber),e.hs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.si.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.si=e.si.insert(i.targetId,i),e.ii.set(t,i.targetId)),i})}function g_(n,t,e){return $A.apply(this,arguments)}function $A(){return $A=(0,ge.Z)(function*(n,t,e){const i=nt(n),r=i.si.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!gp(u))throw u;$e("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.si=i.si.remove(t),i.ii.delete(r.target)}),$A.apply(this,arguments)}function jE(n,t,e){const i=nt(n);let r=Lt.min(),o=Ln();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,p,y){const C=nt(h),I=C.ii.get(y);return void 0!==I?we.resolve(C.si.get(I)):C.hs.getTargetData(p,y)}(i,u,za(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.hs.getMatchingKeysForTargetId(u,h.targetId).next(p=>{o=p})}).next(()=>i.ni.Gs(u,t,e?r:Lt.min(),e?o:Ln())).next(h=>({documents:h,hi:o})))}function yL(n,t){const e=nt(n),i=nt(e.hs),r=e.si.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.Et(o,t).next(u=>u?u.target:null))}function vL(n){const t=nt(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(i,r,o){const u=nt(i);let h=qa(),p=kA(o);const y=Mh(r),C=IDBKeyRange.lowerBound(p,!0);return y.Wt({index:"readTimeIndex",range:C},(I,N)=>{const P=YF(u.M,N);h=h.insert(P.key,P),p=N.readTime}).next(()=>({$s:h,readTime:OA(p)}))}(t.oi,e,t.ri)).then(({$s:e,readTime:i})=>(t.ri=i,e))}function zA(){return zA=(0,ge.Z)(function*(n){const t=nt(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(i){const r=Mh(i);let o=Lt.min();return r.Wt({index:"readTimeIndex",reverse:!0},(u,h,p)=>{h.readTime&&(o=OA(h.readTime)),p.done()}).next(()=>o)}(e)).then(e=>{t.ri=e})}),zA.apply(this,arguments)}function qA(){return qA=(0,ge.Z)(function*(n,t,e,i){const r=nt(n);let o=Ln(),u=qa();for(const y of e){const C=t.li(y.metadata.name);y.document&&(o=o.add(C));const I=t.fi(y);I.setReadTime(t.di(y.metadata.readTime)),u=u.insert(C,I)}const h=r.oi.newChangeBuffer({trackRemovals:!0}),p=yield p_(r,(y=i,za(i_(Nn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>_L(y,h,u).next(C=>(h.apply(y),C)).next(C=>r.hs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.hs.addMatchingKeys(y,o,p.targetId)).next(()=>r.ui.Ks(y,C)).next(()=>C)))}),qA.apply(this,arguments)}function y6(n,t){return WA.apply(this,arguments)}function WA(){return WA=(0,ge.Z)(function*(n,t,e=Ln()){const i=yield p_(n,za(NA(t.bundledQuery))),r=nt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=qr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.fs.saveNamedQuery(o,t);const h=i.withResumeToken(Tr.EMPTY_BYTE_STRING,u);return r.si=r.si.insert(h.targetId,h),r.hs.updateTargetData(o,h).next(()=>r.hs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.hs.addMatchingKeys(o,e,i.targetId)).next(()=>r.fs.saveNamedQuery(o,t))})}),WA.apply(this,arguments)}class v6{constructor(t){this.M=t,this._i=new Map,this.wi=new Map}getBundleMetadata(t,e){return we.resolve(this._i.get(e))}saveBundleMetadata(t,e){var i;return this._i.set(e.id,{id:(i=e).id,version:i.version,createTime:qr(i.createTime)}),we.resolve()}getNamedQuery(t,e){return we.resolve(this.wi.get(e))}saveNamedQuery(t,e){return this.wi.set(e.name,{name:(i=e).name,query:NA(i.bundledQuery),readTime:qr(i.readTime)}),we.resolve();var i}}class b6{constructor(){this.overlays=new Qi(ot.comparator),this.mi=new Map}getOverlay(t,e){return we.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.Xt(t,e,o)}),we.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.mi.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.mi.delete(i)),we.resolve()}getOverlaysForCollection(t,e,i){const r=xb(),o=e.length+1,u=new ot(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===o&&p.largestBatchId>i&&r.set(p.getKey(),p)}return we.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Qi((y,C)=>y-C);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let C=o.get(y.largestBatchId);null===C&&(C=xb(),o=o.insert(y.largestBatchId,C)),C.set(y.getKey(),y)}}const h=xb(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,C)=>h.set(y,C)),!(h.size()>=r)););return we.resolve(h)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.mi.get(r.largestBatchId).delete(i.key);this.mi.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new xA(e,i));let o=this.mi.get(e);void 0===o&&(o=Ln(),this.mi.set(e,o)),this.mi.set(e,o.add(i.key))}}class ZA{constructor(){this.gi=new mi(Yr.yi),this.pi=new mi(Yr.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(t,e){const i=new Yr(t,e);this.gi=this.gi.add(i),this.pi=this.pi.add(i)}Ti(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ei(new Yr(t,e))}Ai(t,e){t.forEach(i=>this.removeReference(i,e))}Ri(t){const e=new ot(new Nn([])),i=new Yr(e,t),r=new Yr(e,t+1),o=[];return this.pi.forEachInRange([i,r],u=>{this.Ei(u),o.push(u.key)}),o}bi(){this.gi.forEach(t=>this.Ei(t))}Ei(t){this.gi=this.gi.delete(t),this.pi=this.pi.delete(t)}Pi(t){const e=new ot(new Nn([])),i=new Yr(e,t),r=new Yr(e,t+1);let o=Ln();return this.pi.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Yr(t,0),i=this.gi.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Yr{constructor(t,e){this.key=t,this.Vi=e}static yi(t,e){return ot.comparator(t.key,e.key)||dn(t.Vi,e.Vi)}static Ii(t,e){return dn(t.Vi,e.Vi)||ot.comparator(t.key,e.key)}}class w6{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.Fs=[],this.vi=1,this.Si=new mi(Yr.yi)}checkEmpty(t){return we.resolve(0===this.Fs.length)}addMutationBatch(t,e,i,r){const o=this.vi;this.vi++;const u=new MA(o,e,i,r);this.Fs.push(u);for(const h of r)this.Si=this.Si.add(new Yr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return we.resolve(u)}lookupMutationBatch(t,e){return we.resolve(this.Di(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ci(e+1),o=r<0?0:r;return we.resolve(this.Fs.length>o?this.Fs[o]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(0===this.Fs.length?-1:this.vi-1)}getAllMutationBatches(t){return we.resolve(this.Fs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Yr(e,0),r=new Yr(e,Number.POSITIVE_INFINITY),o=[];return this.Si.forEachInRange([i,r],u=>{const h=this.Di(u.Vi);o.push(h)}),we.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new mi(dn);return e.forEach(r=>{const o=new Yr(r,0),u=new Yr(r,Number.POSITIVE_INFINITY);this.Si.forEachInRange([o,u],h=>{i=i.add(h.Vi)})}),we.resolve(this.xi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;ot.isDocumentKey(o)||(o=o.child(""));const u=new Yr(new ot(o),0);let h=new mi(dn);return this.Si.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(p.Vi)),!0)},u),we.resolve(this.xi(h))}xi(t){const e=[];return t.forEach(i=>{const r=this.Di(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){$t(0===this.Ni(e.batchId,"removed")),this.Fs.shift();let i=this.Si;return we.forEach(e.mutations,r=>{const o=new Yr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Si=i})}dn(t){}containsKey(t,e){const i=new Yr(e,0),r=this.Si.firstAfterOrEqual(i);return we.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return we.resolve()}Ni(t,e){return this.Ci(t)}Ci(t){return 0===this.Fs.length?0:t-this.Fs[0].batchId}Di(t){const e=this.Ci(t);return e<0||e>=this.Fs.length?null:this.Fs[e]}}class C6{constructor(t){this.ki=t,this.docs=new Qi(ot.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.ki(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return we.resolve(i?i.document.mutableCopy():Ti.newInvalidDocument(e))}getEntries(t,e){let i=qa();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Ti.newInvalidDocument(r))}),we.resolve(i)}getAll(t,e,i){let r=qa();const o=new ot(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||p.readTime.compareTo(i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return we.resolve(r)}Mi(t,e){return we.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new D6(this)}getSize(t){return we.resolve(this.size)}}class D6 extends uL{constructor(t){super(),this.Un=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Un.addEntry(t,r)):this.Un.removeEntry(i)}),we.waitFor(e)}getFromCache(t,e){return this.Un.getEntry(t,e)}getAllFromCache(t,e){return this.Un.getEntries(t,e)}}class E6{constructor(t){this.persistence=t,this.Oi=new Dh(e=>dp(e),Tb),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.$i=0,this.Fi=new ZA,this.targetCount=0,this.Bi=bp.mn()}forEachTarget(t,e){return this.Oi.forEach((i,r)=>e(r)),we.resolve()}getLastRemoteSnapshotVersion(t){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return we.resolve(this.$i)}allocateTargetId(t){return this.highestTargetId=this.Bi.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.$i&&(this.$i=e),we.resolve()}In(t){this.Oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Bi=new bp(e),this.highestTargetId=e),t.sequenceNumber>this.$i&&(this.$i=t.sequenceNumber)}addTargetData(t,e){return this.In(e),this.targetCount+=1,we.resolve()}updateTargetData(t,e){return this.In(e),we.resolve()}removeTargetData(t,e){return this.Oi.delete(e.target),this.Fi.Ri(e.targetId),this.targetCount-=1,we.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Oi.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Oi.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),we.waitFor(o).next(()=>r)}getTargetCount(t){return we.resolve(this.targetCount)}getTargetData(t,e){const i=this.Oi.get(e)||null;return we.resolve(i)}addMatchingKeys(t,e,i){return this.Fi.Ti(e,i),we.resolve()}removeMatchingKeys(t,e,i){this.Fi.Ai(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),we.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Fi.Ri(e),we.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Fi.Pi(e);return we.resolve(i)}containsKey(t,e){return we.resolve(this.Fi.containsKey(e))}}class T6{constructor(t,e){this.Li={},this.overlays={},this.Zn=new ra(0),this.ts=!1,this.ts=!0,this.referenceDelegate=t(this),this.hs=new E6(this),this.indexManager=new e6,this.ls=new C6(i=>this.referenceDelegate.qi(i)),this.M=new ZF(e),this.fs=new v6(this.M)}start(){return Promise.resolve()}shutdown(){return this.ts=!1,Promise.resolve()}get started(){return this.ts}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new b6,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Li[t.toKey()];return i||(i=new w6(e,this.referenceDelegate),this.Li[t.toKey()]=i),i}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getBundleCache(){return this.fs}runTransaction(t,e,i){$e("MemoryPersistence","Starting transaction:",t);const r=new S6(this.Zn.next());return this.referenceDelegate.Ui(),i(r).next(o=>this.referenceDelegate.Ki(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gi(t,e){return we.or(Object.values(this.Li).map(i=>()=>i.containsKey(t,e)))}}class S6 extends zF{constructor(t){super(),this.currentSequenceNumber=t}}class YA{constructor(t){this.persistence=t,this.Qi=new ZA,this.ji=null}static Wi(t){return new YA(t)}get zi(){if(this.ji)return this.ji;throw wt()}addReference(t,e,i){return this.Qi.addReference(i,e),this.zi.delete(i.toString()),we.resolve()}removeReference(t,e,i){return this.Qi.removeReference(i,e),this.zi.add(i.toString()),we.resolve()}markPotentiallyOrphaned(t,e){return this.zi.add(e.toString()),we.resolve()}removeTarget(t,e){this.Qi.Ri(e.targetId).forEach(r=>this.zi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.zi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ui(){this.ji=new Set}Ki(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.zi,i=>{const r=ot.fromPath(i);return this.Hi(t,r).next(o=>{o||e.removeEntry(r,Lt.min())})}).next(()=>(this.ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hi(t,e).next(i=>{i?this.zi.delete(e.toString()):this.zi.add(e.toString())})}qi(t){return 0}Hi(t,e){return we.or([()=>we.resolve(this.Qi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gi(t,e)])}}function bL(n,t){return`firestore_clients_${n}_${t}`}function wL(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function KA(n,t){return`firestore_targets_${n}_${t}`}class HE{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Fe(r.error.code,r.error.message))),u?new HE(t,e,r.state,o):(cr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Hb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Fe(i.error.code,i.error.message))),o?new Hb(t,i.state,r):(cr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class GE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=AE();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=GP(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new GE(t,o):(cr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class JA{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new JA(e.clientId,e.onlineState):(cr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class QA{constructor(){this.activeTargetIds=AE()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XA{constructor(t,e,i,r,o){this.window=t,this.Hn=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Qi(dn),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=bL(this.persistenceKey,this.tr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new QA),this.ur=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ge.Z)(function*(){const e=yield t.syncEngine.Ms();for(const r of e){if(r===t.tr)continue;const o=t.getItem(bL(t.persistenceKey,r));if(o){const u=GE.Ji(r,o);u&&(t.sr=t.sr.insert(u.clientId,u))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ar,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(KA(this.persistenceKey,t));if(i){const r=Hb.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(KA(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(){this.Ar()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return $e("SharedClientState","READ",t,e),e}setItem(t,e){$e("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){$e("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hn.enqueueRetryable((0,ge.Z)(function*(){if(e.started){if(null!==i.key)if(e.ur.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.cr.test(i.key)){if(null!==i.newValue){const r=e.Vr(i.key,i.newValue);if(r)return e.vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ar){const r=function(o){let u=ra.A;if(null!=o)try{const h=JSON.parse(o);$t("number"==typeof h),u=h}catch(h){cr("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==ra.A&&e.sequenceNumberHandler(r)}else if(i.key===e.dr)return e.syncEngine.Cr()}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new HE(this.currentUser,t,e,i),o=wL(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Yi())}pr(t){const e=wL(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=KA(this.persistenceKey,t),o=new Hb(t,e,i);this.setItem(r,o.Yi())}Ar(){this.setItem(this.dr,"value-not-used")}Rr(t){const e=this.ur.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return GE.Ji(i,e)}Vr(t,e){const i=this.cr.exec(t),r=Number(i[1]);return HE.Ji(new fs(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return Hb.Ji(r,e)}wr(t){return JA.Ji(t)}vr(t){var e=this;return(0,ge.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Nr(t.batchId,t.state,t.error);$e("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.kr(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),o=this.gr(i),u=[],h=[];return o.forEach(p=>{r.has(p)||u.push(p)}),r.forEach(p=>{o.has(p)||h.push(p)}),this.syncEngine.Mr(u,h).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=AE();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class CL{constructor(){this.Or=new QA,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Or.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Or.Zi(t)}isLocalQueryTarget(t){return this.Or.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Or.activeTargetIds}isActiveQueryTarget(t){return this.Or.activeTargetIds.has(t)}start(){return this.Or=new QA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class I6{Fr(t){}shutdown(){}}class DL{constructor(){this.Br=()=>this.Lr(),this.qr=()=>this.Ur(),this.Kr=[],this.Gr()}Fr(t){this.Kr.push(t)}shutdown(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}Gr(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}Lr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Kr)t(0)}Ur(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Kr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const M6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class A6{constructor(t){this.Qr=t.Qr,this.jr=t.jr}Wr(t){this.zr=t}Hr(t){this.Jr=t}onMessage(t){this.Yr=t}close(){this.jr()}send(t){this.Qr(t)}Xr(){this.zr()}Zr(t){this.Jr(t)}eo(t){this.Yr(t)}}class x6 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.no=(t.ssl?"https":"http")+"://"+t.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}io(t,e,i,r,o){const u=this.ro(t,e);$e("RestConnection","Sending: ",u,i);const h={};return this.oo(h,r,o),this.ao(t,u,h,i).then(p=>($e("RestConnection","Received: ",p),p),p=>{throw _b("RestConnection",`${t} failed with error: `,p,"url: ",u,"request:",i),p})}uo(t,e,i,r,o){return this.io(t,e,i,r,o)}oo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Km,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ro(t,e){return`${this.no}/v1/${e}:${M6[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}ao(t,e,i,r){return new Promise((o,u)=>{const h=new R3;h.listenOnce(k3.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case cA.NO_ERROR:const y=h.getResponseJson();$e("Connection","XHR received:",JSON.stringify(y)),o(y);break;case cA.TIMEOUT:$e("Connection",'RPC "'+t+'" timed out'),u(new Fe(me.DEADLINE_EXCEEDED,"Request time out"));break;case cA.HTTP_ERROR:const C=h.getStatus();if($e("Connection",'RPC "'+t+'" failed with status:',C,"response text:",h.getResponseText()),C>0){const I=h.getResponseJson().error;if(I&&I.status&&I.message){const N=function(P){const U=P.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(U)>=0?U:me.UNKNOWN}(I.status);u(new Fe(N,I.message))}else u(new Fe(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Fe(me.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{$e("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);h.send(e,"POST",p,i,15)})}co(t,e,i){const r=[this.no,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=A3(),u=x3(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new N3({})),this.oo(h.initMessageHeaders,e,i),(0,Ht.uI)()||(0,Ht.b$)()||(0,Ht.d)()||(0,Ht.w1)()||(0,Ht.Mn)()||(0,Ht.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");$e("Connection","Creating WebChannel: "+p,h);const y=o.createWebChannel(p,h);let C=!1,I=!1;const N=new A6({Qr:U=>{I?$e("Connection","Not sending because WebChannel is closed:",U):(C||($e("Connection","Opening WebChannel transport."),y.open(),C=!0),$e("Connection","WebChannel sending:",U),y.send(U))},jr:()=>y.close()}),P=(U,W,oe)=>{U.listen(W,xe=>{try{oe(xe)}catch(De){setTimeout(()=>{throw De},0)}})};return P(y,mE.EventType.OPEN,()=>{I||$e("Connection","WebChannel transport opened.")}),P(y,mE.EventType.CLOSE,()=>{I||(I=!0,$e("Connection","WebChannel transport closed"),N.Zr())}),P(y,mE.EventType.ERROR,U=>{I||(I=!0,_b("Connection","WebChannel transport errored:",U),N.Zr(new Fe(me.UNAVAILABLE,"The operation could not be completed")))}),P(y,mE.EventType.MESSAGE,U=>{var W;if(!I){const oe=U.data[0];$t(!!oe);const xe=oe,De=xe.error||(null===(W=xe[0])||void 0===W?void 0:W.error);if(De){$e("Connection","WebChannel received error:",De);const je=De.status;let Se=function(ze){const Dt=dr[ze];if(void 0!==Dt)return wF(Dt)}(je),Ze=De.message;void 0===Se&&(Se=me.INTERNAL,Ze="Unknown error status: "+je+" with message "+De.message),I=!0,N.Zr(new Fe(Se,Ze)),y.close()}else $e("Connection","WebChannel received:",oe),N.eo(oe)}}),P(u,O3.STAT_EVENT,U=>{U.stat===RP.PROXY?$e("Connection","Detected buffering proxy"):U.stat===RP.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.Xr()},0),N}}function EL(){return"undefined"!=typeof window?window:null}function $E(){return"undefined"!=typeof document?document:null}function Gb(n){return new bG(n,!0)}class ex{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Hn=t,this.timerId=e,this.ho=i,this.lo=r,this.fo=o,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}reset(){this._o=0}yo(){this._o=this.fo}po(t){this.cancel();const e=Math.floor(this._o+this.Io()),i=Math.max(0,Date.now()-this.mo),r=Math.max(0,e-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this._o} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.wo=this.Hn.enqueueAfterDelay(this.timerId,r,()=>(this.mo=Date.now(),t())),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}To(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}cancel(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}Io(){return(Math.random()-.5)*this._o}}class TL{constructor(t,e,i,r,o,u,h,p){this.Hn=t,this.Eo=i,this.Ao=r,this.Ro=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new ex(t,e)}So(){return 1===this.state||5===this.state||this.Do()}Do(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Co()}stop(){var t=this;return(0,ge.Z)(function*(){t.So()&&(yield t.close(0))})()}xo(){this.state=0,this.vo.reset()}No(){this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,()=>this.ko()))}Mo(t){this.Oo(),this.stream.send(t)}ko(){var t=this;return(0,ge.Z)(function*(){if(t.Do())return t.close(0)})()}Oo(){this.Po&&(this.Po.cancel(),this.Po=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,ge.Z)(function*(){i.Oo(),i.$o(),i.vo.cancel(),i.bo++,4!==t?i.vo.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(cr(e.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),i.vo.yo()):e&&e.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Fo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Hr(e)})()}Fo(){}auth(){this.state=1;const t=this.Bo(this.bo),e=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.bo===e&&this.Lo(i,r)},i=>{t(()=>{const r=new Fe(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Lo(t,e){const i=this.Bo(this.bo);this.stream=this.Uo(t,e),this.stream.Wr(()=>{i(()=>(this.state=2,this.Vo=this.Hn.enqueueAfterDelay(this.Ao,1e4,()=>(this.Do()&&(this.state=3),Promise.resolve())),this.listener.Wr()))}),this.stream.Hr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Co(){var t=this;this.state=5,this.vo.po((0,ge.Z)(function*(){t.state=0,t.start()}))}qo(t){return $e("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Bo(t){return e=>{this.Hn.enqueueAndForget(()=>this.bo===t?e():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class k6 extends TL{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.M=o}Uo(t,e){return this.Ro.co("Listen",t,e)}onMessage(t){this.vo.reset();const e=function DG(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:wt(),r=t.targetChange.targetIds||[],o=function(p,y){return p.N?($t(void 0===y||"string"==typeof y),Tr.fromBase64String(y||"")):($t(void 0===y||y instanceof Uint8Array),Tr.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(p){const y=void 0===p.code?me.UNKNOWN:wF(p.code);return new Fe(y,p.message||"")}(u);e=new EF(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Nc(n,i.document.name),o=qr(i.document.updateTime),u=new ks({mapValue:{fields:i.document.fields}}),h=Ti.newFoundDocument(r,o,u);e=new xE(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Nc(n,i.document),o=i.readTime?qr(i.readTime):Lt.min(),u=Ti.newNoDocument(r,o);e=new xE([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Nc(n,i.document);e=new xE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return wt();{const i=t.filter,o=new dG(i.count||0);e=new DF(i.targetId,o)}}var p;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return Lt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Lt.min():o.readTime?qr(o.readTime):Lt.min()}(t);return this.listener.Ko(e,i)}Go(t){const e={};e.database=Pb(this.M),e.addTarget=function(r,o){let u;const h=o.target;return u=wE(h)?{documents:RF(r,h)}:{query:PF(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=MF(r,o.resumeToken):o.snapshotVersion.compareTo(Lt.min())>0&&(u.readTime=Nb(r,o.snapshotVersion.toTimestamp())),u}(this.M,t);const i=function TG(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Mo(e)}Qo(t){const e={};e.database=Pb(this.M),e.removeTarget=t,this.Mo(e)}}class O6 extends TL{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.M=o,this.jo=!1}get Wo(){return this.jo}start(){this.jo=!1,this.lastStreamToken=void 0,super.start()}Fo(){this.jo&&this.zo([])}Uo(t,e){return this.Ro.co("Write",t,e)}onMessage(t){if($t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.jo){this.vo.reset();const e=function EG(n,t){return n&&n.length>0?($t(void 0!==t),n.map(e=>function(i,r){let o=qr(i.updateTime?i.updateTime:r);return o.isEqual(Lt.min())&&(o=qr(r)),new lG(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=qr(t.commitTime);return this.listener.Ho(i,e)}return $t(!t.writeResults||0===t.writeResults.length),this.jo=!0,this.listener.Jo()}Yo(){const t={};t.database=Pb(this.M),this.Mo(t)}zo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Fb(this.M,i))};this.Mo(e)}}class N6 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Ro=i,this.M=r,this.Xo=!1}Zo(){if(this.Xo)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}io(t,e,i){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.Ro.io(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Fe(me.UNKNOWN,r.toString())})}uo(t,e,i){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.Ro.uo(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Fe(me.UNKNOWN,r.toString())})}terminate(){this.Xo=!0}}class R6{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}sa(){0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ea=null,this.ra("Backend didn't respond within 10 seconds."),this.ia("Offline"),Promise.resolve())))}oa(t){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ia("Offline")))}set(t){this.aa(),this.ta=0,"Online"===t&&(this.na=!1),this.ia(t)}ia(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.na?(cr(e),this.na=!1):$e("OnlineStateTracker",e)}aa(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}class P6{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=o,this.fa.Fr(h=>{i.enqueueAndForget((0,ge.Z)(function*(){var p;Ah(u)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,ge.Z)(function*(y){const C=nt(y);C.ha.add(4),yield m_(C),C.da.set("Unknown"),C.ha.delete(4),yield $b(C)}),function(y){return p.apply(this,arguments)})(u))}))}),this.da=new R6(i,r)}}function $b(n){return tx.apply(this,arguments)}function tx(){return tx=(0,ge.Z)(function*(n){if(Ah(n))for(const t of n.la)yield t(!0)}),tx.apply(this,arguments)}function m_(n){return nx.apply(this,arguments)}function nx(){return nx=(0,ge.Z)(function*(n){for(const t of n.la)yield t(!1)}),nx.apply(this,arguments)}function zE(n,t){const e=nt(n);e.ca.has(t.targetId)||(e.ca.set(t.targetId,t),sx(e)?rx(e):y_(e).Do()&&ix(e,t))}function zb(n,t){const e=nt(n),i=y_(e);e.ca.delete(t),i.Do()&&SL(e,t),0===e.ca.size&&(i.Do()?i.No():Ah(e)&&e.da.set("Unknown"))}function ix(n,t){n._a.Z(t.targetId),y_(n).Go(t)}function SL(n,t){n._a.Z(t),y_(n).Qo(t)}function rx(n){n._a=new _G({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.ca.get(t)||null}),y_(n).start(),n.da.sa()}function sx(n){return Ah(n)&&!y_(n).So()&&n.ca.size>0}function Ah(n){return 0===nt(n).ha.size}function IL(n){n._a=void 0}function F6(n){return ox.apply(this,arguments)}function ox(){return ox=(0,ge.Z)(function*(n){n.ca.forEach((t,e)=>{ix(n,t)})}),ox.apply(this,arguments)}function L6(n,t){return ax.apply(this,arguments)}function ax(){return ax=(0,ge.Z)(function*(n,t){IL(n),sx(n)?(n.da.oa(t),rx(n)):n.da.set("Unknown")}),ax.apply(this,arguments)}function V6(n,t,e){return lx.apply(this,arguments)}function lx(){return lx=(0,ge.Z)(function*(n,t,e){if(n.da.set("Online"),t instanceof EF&&2===t.state&&t.cause)try{yield(i=(0,ge.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.ca.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.ca.delete(h),r._a.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield qE(n,i)}else if(t instanceof xE?n._a.at(t):t instanceof DF?n._a._t(t):n._a.ht(t),!e.isEqual(Lt.min()))try{const i=yield mL(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r._a.yt(o);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.ca.get(p);y&&r.ca.set(p,y.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const p=r.ca.get(h);if(!p)return;r.ca.set(h,p.withResumeToken(Tr.EMPTY_BYTE_STRING,p.snapshotVersion)),SL(r,h);const y=new Eh(p.target,h,1,p.sequenceNumber);ix(r,y)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield qE(n,i)}var i}),lx.apply(this,arguments)}function qE(n,t,e){return cx.apply(this,arguments)}function cx(){return cx=(0,ge.Z)(function*(n,t,e){if(!gp(t))throw t;n.ha.add(1),yield m_(n),n.da.set("Offline"),e||(e=()=>mL(n.localStore)),n.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield e(),n.ha.delete(1),yield $b(n)}))}),cx.apply(this,arguments)}function ML(n,t){return t().catch(e=>qE(n,e,t))}function __(n){return ux.apply(this,arguments)}function ux(){return ux=(0,ge.Z)(function*(n){const t=nt(n),e=xh(t);let i=t.ua.length>0?t.ua[t.ua.length-1].batchId:-1;for(;B6(t);)try{const r=yield g6(t.localStore,i);if(null===r){0===t.ua.length&&e.No();break}i=r.batchId,U6(t,r)}catch(r){yield qE(t,r)}AL(t)&&xL(t)}),ux.apply(this,arguments)}function B6(n){return Ah(n)&&n.ua.length<10}function U6(n,t){n.ua.push(t);const e=xh(n);e.Do()&&e.Wo&&e.zo(t.mutations)}function AL(n){return Ah(n)&&!xh(n).So()&&n.ua.length>0}function xL(n){xh(n).start()}function j6(n){return dx.apply(this,arguments)}function dx(){return dx=(0,ge.Z)(function*(n){xh(n).Yo()}),dx.apply(this,arguments)}function H6(n){return hx.apply(this,arguments)}function hx(){return hx=(0,ge.Z)(function*(n){const t=xh(n);for(const e of n.ua)t.zo(e.mutations)}),hx.apply(this,arguments)}function G6(n,t,e){return fx.apply(this,arguments)}function fx(){return fx=(0,ge.Z)(function*(n,t,e){const i=n.ua.shift(),r=AA.from(i,t,e);yield ML(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield __(n)}),fx.apply(this,arguments)}function $6(n,t){return px.apply(this,arguments)}function px(){return px=(0,ge.Z)(function*(n,t){var e;t&&xh(n).Wo&&(yield(e=(0,ge.Z)(function*(i,r){if(bF(o=r.code)&&o!==me.ABORTED){const u=i.ua.shift();xh(i).xo(),yield ML(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield __(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),AL(n)&&xL(n)}),px.apply(this,arguments)}function kL(n,t){return gx.apply(this,arguments)}function gx(){return gx=(0,ge.Z)(function*(n,t){const e=nt(n);e.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=Ah(e);e.ha.add(3),yield m_(e),i&&e.da.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.ha.delete(3),yield $b(e)}),gx.apply(this,arguments)}function mx(n,t){return _x.apply(this,arguments)}function _x(){return _x=(0,ge.Z)(function*(n,t){const e=nt(n);t?(e.ha.delete(2),yield $b(e)):t||(e.ha.add(2),yield m_(e),e.da.set("Unknown"))}),_x.apply(this,arguments)}function y_(n){return n.wa||(n.wa=function(t,e,i){const r=nt(t);return r.Zo(),new k6(e,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Wr:F6.bind(null,n),Hr:L6.bind(null,n),Ko:V6.bind(null,n)}),n.la.push(function(){var t=(0,ge.Z)(function*(e){e?(n.wa.xo(),sx(n)?rx(n):n.da.set("Unknown")):(yield n.wa.stop(),IL(n))});return function(e){return t.apply(this,arguments)}}())),n.wa}function xh(n){return n.ma||(n.ma=function(t,e,i){const r=nt(t);return r.Zo(),new O6(e,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Wr:j6.bind(null,n),Hr:$6.bind(null,n),Jo:H6.bind(null,n),Ho:G6.bind(null,n)}),n.la.push(function(){var t=(0,ge.Z)(function*(e){e?(n.ma.xo(),yield __(n)):(yield n.ma.stop(),n.ua.length>0&&($e("RemoteStore",`Stopping write stream with ${n.ua.length} pending writes`),n.ua=[]))});return function(e){return t.apply(this,arguments)}}())),n.ma}class yx{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new yx(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v_(n,t){if(cr("AsyncQueue",`${t}: ${n}`),gp(n))return new Fe(me.UNAVAILABLE,`${t}: ${n}`);throw n}class b_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||ot.comparator(e.key,i.key):(e,i)=>ot.comparator(e.key,i.key),this.keyedMap=DA(),this.sortedSet=new Qi(this.comparator)}static emptySet(t){return new b_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof b_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new b_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class OL{constructor(){this.ga=new Qi(ot.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?0!==t.type&&3===i.type?this.ga=this.ga.insert(e,t):3===t.type&&1!==i.type?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.ga=this.ga.remove(e):1===t.type&&2===i.type?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):wt():this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,i)=>{t.push(i)}),t}}class w_{constructor(t,e,i,r,o,u,h,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new w_(t,e,b_.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class z6{constructor(){this.pa=void 0,this.listeners=[]}}class q6{constructor(){this.queries=new Dh(t=>sF(t),Sb),this.onlineState="Unknown",this.Ia=new Set}}function vx(n,t){return bx.apply(this,arguments)}function bx(){return bx=(0,ge.Z)(function*(n,t){const e=nt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new z6),r)try{o.pa=yield e.onListen(i)}catch(u){const h=v_(u,`Initialization of query '${vA(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Ta(e.onlineState),o.pa&&t.Ea(o.pa)&&Dx(e)}),bx.apply(this,arguments)}function wx(n,t){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,ge.Z)(function*(n,t){const e=nt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),Cx.apply(this,arguments)}function W6(n,t){const e=nt(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Ea(r)&&(i=!0);u.pa=r}}i&&Dx(e)}function Z6(n,t,e){const i=nt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function Dx(n){n.Ia.forEach(t=>{t.next()})}class Ex{constructor(t,e,i){this.query=t,this.Aa=e,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=i||{}}Ea(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new w_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Ra?this.Pa(t)&&(this.Aa.next(t),e=!0):this.Va(t,this.onlineState)&&(this.va(t),e=!0),this.ba=t,e}onError(t){this.Aa.error(t)}Ta(t){this.onlineState=t;let e=!1;return this.ba&&!this.Ra&&this.Va(this.ba,t)&&(this.va(this.ba),e=!0),e}Va(t,e){return!t.fromCache||!(this.options.Sa&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Pa(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ba&&this.ba.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}va(t){t=w_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Ra=!0,this.Aa.next(t)}}class Y6{constructor(t,e){this.payload=t,this.byteLength=e}Da(){return"metadata"in this.payload}}class NL{constructor(t){this.M=t}li(t){return Nc(this.M,t)}fi(t){return t.metadata.exists?NF(this.M,t.document,!1):Ti.newNoDocument(this.li(t.metadata.name),this.di(t.metadata.readTime))}di(t){return qr(t)}}class K6{constructor(t,e,i){this.Ca=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.progress=RL(t)}xa(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Na(t){const e=new Map,i=new NL(this.M);for(const r of t)if(r.metadata.queries){const o=i.li(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Ln()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,ge.Z)(function*(){const e=yield function _6(n,t,e,i){return qA.apply(this,arguments)}(t.localStore,new NL(t.M),t.documents,t.Ca.id),i=t.Na(t.documents);for(const r of t.queries)yield y6(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",new u6(Object.assign({},t.progress),e)})()}}function RL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class PL{constructor(t){this.key=t}}class FL{constructor(t){this.key=t}}class LL{constructor(t,e){this.query=t,this.ka=e,this.Ma=null,this.current=!1,this.Oa=Ln(),this.mutatedKeys=Ln(),this.$a=oF(t),this.Fa=new b_(this.$a)}get Ba(){return this.ka}La(t,e){const i=e?e.qa:new OL,r=e?e.Fa:this.Fa;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const p=DE(this.query)&&r.size===this.query.limit?r.last():null,y=EE(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((C,I)=>{const N=r.get(C),P=bA(this.query,I)?I:null,U=!!N&&this.mutatedKeys.has(N.key),W=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let oe=!1;N&&P?N.data.isEqual(P.data)?U!==W&&(i.track({type:3,doc:P}),oe=!0):this.Ua(N,P)||(i.track({type:2,doc:P}),oe=!0,(p&&this.$a(P,p)>0||y&&this.$a(P,y)<0)&&(h=!0)):!N&&P?(i.track({type:0,doc:P}),oe=!0):N&&!P&&(i.track({type:1,doc:N}),oe=!0,(p||y)&&(h=!0)),oe&&(P?(u=u.add(P),o=W?o.add(C):o.delete(C)):(u=u.delete(C),o=o.delete(C)))}),DE(this.query)||EE(this.query))for(;u.size>this.query.limit;){const C=DE(this.query)?u.last():u.first();u=u.delete(C.key),o=o.delete(C.key),i.track({type:1,doc:C})}return{Fa:u,qa:i,ei:h,mutatedKeys:o}}Ua(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Fa;this.Fa=t.Fa,this.mutatedKeys=t.mutatedKeys;const o=t.qa.ya();o.sort((y,C)=>function(I,N){const P=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return P(I)-P(N)}(y.type,C.type)||this.$a(y.doc,C.doc)),this.Ka(i);const u=e?this.Ga():[],h=0===this.Oa.size&&this.current?1:0,p=h!==this.Ma;return this.Ma=h,0!==o.length||p?{snapshot:new w_(this.query,t.Fa,r,o,t.mutatedKeys,0===h,p,!1),Qa:u}:{Qa:u}}Ta(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new OL,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}ja(t){return!this.ka.has(t)&&!!this.Fa.has(t)&&!this.Fa.get(t).hasLocalMutations}Ka(t){t&&(t.addedDocuments.forEach(e=>this.ka=this.ka.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ka=this.ka.delete(e)),this.current=t.current)}Ga(){if(!this.current)return[];const t=this.Oa;this.Oa=Ln(),this.Fa.forEach(i=>{this.ja(i.key)&&(this.Oa=this.Oa.add(i.key))});const e=[];return t.forEach(i=>{this.Oa.has(i)||e.push(new FL(i))}),this.Oa.forEach(i=>{t.has(i)||e.push(new PL(i))}),e}Wa(t){this.ka=t.hi,this.Oa=Ln();const e=this.La(t.documents);return this.applyChanges(e,!0)}za(){return w_.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}class J6{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Q6{constructor(t){this.key=t,this.Ha=!1}}class X6{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Ja={},this.Ya=new Dh(h=>sF(h),Sb),this.Xa=new Map,this.Za=new Set,this.tu=new Qi(ot.comparator),this.eu=new Map,this.nu=new ZA,this.su={},this.iu=new Map,this.ru=bp.gn(),this.onlineState="Unknown",this.ou=void 0}get isPrimaryClient(){return!0===this.ou}}function e$(n,t){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,ge.Z)(function*(n,t){const e=Zx(n);let i,r;const o=e.Ya.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.za();else{const u=yield p_(e.localStore,za(t));e.isPrimaryClient&&zE(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield Sx(e,t,i,"current"===h)}return r}),Tx.apply(this,arguments)}function Sx(n,t,e,i){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,ge.Z)(function*(n,t,e,i){n.au=(C,I,N)=>{return(P=(0,ge.Z)(function*(U,W,oe,xe){let De=W.view.La(oe);De.ei&&(De=yield jE(U.localStore,W.query,!1).then(({documents:Ze})=>W.view.La(Ze,De)));const je=xe&&xe.targetChanges.get(W.targetId),Se=W.view.applyChanges(De,U.isPrimaryClient,je);return Lx(U,W.targetId,Se.Qa),Se.snapshot}),function(U,W,oe,xe){return P.apply(this,arguments)})(n,C,I,N);var P};const r=yield jE(n.localStore,t,!0),o=new LL(t,r.hi),u=o.La(r.documents),h=Ob.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),p=o.applyChanges(u,n.isPrimaryClient,h);Lx(n,e,p.Qa);const y=new J6(t,e,o);return n.Ya.set(t,y),n.Xa.has(e)?n.Xa.get(e).push(t):n.Xa.set(e,[t]),p.snapshot}),Ix.apply(this,arguments)}function t$(n,t){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,ge.Z)(function*(n,t){const e=nt(n),i=e.Ya.get(t),r=e.Xa.get(i.targetId);if(r.length>1)return e.Xa.set(i.targetId,r.filter(o=>!Sb(o,t))),void e.Ya.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield g_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),zb(e.remoteStore,i.targetId),C_(e,i.targetId)}).catch(wp))):(C_(e,i.targetId),yield g_(e.localStore,i.targetId,!0))}),Mx.apply(this,arguments)}function Ax(){return Ax=(0,ge.Z)(function*(n,t,e){const i=Yx(n);try{const r=yield function(o,u){const h=nt(o),p=$r.now(),y=u.reduce((I,N)=>I.add(N.key),Ln());let C;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>h.ui.Us(I,y).next(N=>{C=N;const P=[];for(const U of u){const W=uG(U,C.get(U.key));null!=W&&P.push(new pp(U.key,W,QP(W.value.mapValue),ur.exists(!0)))}return h.Fs.addMutationBatch(I,p,P,u)})).then(I=>(I.applyToLocalDocumentSet(C),{batchId:I.batchId,changes:C}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let p=o.su[o.currentUser.toKey()];p||(p=new Qi(dn)),p=p.insert(u,h),o.su[o.currentUser.toKey()]=p}(i,r.batchId,e),yield Zu(i,r.changes),yield __(i.remoteStore)}catch(r){const o=v_(r,"Failed to persist write");e.reject(o)}}),Ax.apply(this,arguments)}function VL(n,t){return xx.apply(this,arguments)}function xx(){return xx=(0,ge.Z)(function*(n,t){const e=nt(n);try{const i=yield p6(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.eu.get(o);u&&($t(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Ha=!0:r.modifiedDocuments.size>0?$t(u.Ha):r.removedDocuments.size>0&&($t(u.Ha),u.Ha=!1))}),yield Zu(e,i,t)}catch(i){yield wp(i)}}),xx.apply(this,arguments)}function BL(n,t,e){const i=nt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Ya.forEach((o,u)=>{const h=u.view.Ta(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=nt(o);h.onlineState=u;let p=!1;h.queries.forEach((y,C)=>{for(const I of C.listeners)I.Ta(u)&&(p=!0)}),p&&Dx(h)}(i.eventManager,t),r.length&&i.Ja.Ko(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function i$(n,t,e){return kx.apply(this,arguments)}function kx(){return kx=(0,ge.Z)(function*(n,t,e){const i=nt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.eu.get(t),o=r&&r.key;if(o){let u=new Qi(ot.comparator);u=u.insert(o,Ti.newNoDocument(o,Lt.min()));const h=Ln().add(o),p=new kb(Lt.min(),new Map,new mi(dn),u,h);yield VL(i,p),i.tu=i.tu.remove(o),i.eu.delete(t),Vx(i)}else yield g_(i.localStore,t,!1).then(()=>C_(i,t,e)).catch(wp)}),kx.apply(this,arguments)}function r$(n,t){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,ge.Z)(function*(n,t){const e=nt(n),i=t.batch.batchId;try{const r=yield f6(e.localStore,t);Fx(e,i,null),Px(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Zu(e,r)}catch(r){yield wp(r)}}),Ox.apply(this,arguments)}function s$(n,t,e){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,ge.Z)(function*(n,t,e){const i=nt(n);try{const r=yield function(o,u){const h=nt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.Fs.lookupMutationBatch(p,u).next(C=>($t(null!==C),y=C.keys(),h.Fs.removeMutationBatch(p,C))).next(()=>h.Fs.performConsistencyCheck(p)).next(()=>h.ui.Us(p,y))})}(i.localStore,t);Fx(i,t,e),Px(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Zu(i,r)}catch(r){yield wp(r)}}),Nx.apply(this,arguments)}function Rx(){return Rx=(0,ge.Z)(function*(n,t){const e=nt(n);Ah(e.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=nt(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.Fs.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.iu.get(i)||[];r.push(t),e.iu.set(i,r)}catch(i){const r=v_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),Rx.apply(this,arguments)}function Px(n,t){(n.iu.get(t)||[]).forEach(e=>{e.resolve()}),n.iu.delete(t)}function Fx(n,t,e){const i=nt(n);let r=i.su[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.su[i.currentUser.toKey()]=r}}function C_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Xa.get(t))n.Ya.delete(i),e&&n.Ja.uu(i,e);n.Xa.delete(t),n.isPrimaryClient&&n.nu.Ri(t).forEach(i=>{n.nu.containsKey(i)||UL(n,i)})}function UL(n,t){n.Za.delete(t.path.canonicalString());const e=n.tu.get(t);null!==e&&(zb(n.remoteStore,e),n.tu=n.tu.remove(t),n.eu.delete(e),Vx(n))}function Lx(n,t,e){for(const i of e)i instanceof PL?(n.nu.addReference(i.key,t),a$(n,i)):i instanceof FL?($e("SyncEngine","Document no longer in limbo: "+i.key),n.nu.removeReference(i.key,t),n.nu.containsKey(i.key)||UL(n,i.key)):wt()}function a$(n,t){const e=t.key,i=e.path.canonicalString();n.tu.get(e)||n.Za.has(i)||($e("SyncEngine","New document in limbo: "+e),n.Za.add(i),Vx(n))}function Vx(n){for(;n.Za.size>0&&n.tu.size<n.maxConcurrentLimboResolutions;){const t=n.Za.values().next().value;n.Za.delete(t);const e=new ot(Nn.fromString(t)),i=n.ru.next();n.eu.set(i,new Q6(e)),n.tu=n.tu.insert(e,i),zE(n.remoteStore,new Eh(za(i_(e.path)),i,2,ra.A))}}function Zu(n,t,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,ge.Z)(function*(n,t,e){const i=nt(n),r=[],o=[],u=[];var h;i.Ya.isEmpty()||(i.Ya.forEach((h,p)=>{u.push(i.au(p,t,e).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),r.push(y);const C=HA.Js(p.targetId,y);o.push(C)}}))}),yield Promise.all(u),i.Ja.Ko(r),yield(h=(0,ge.Z)(function*(p,y){const C=nt(p);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>we.forEach(y,N=>we.forEach(N.zs,P=>C.persistence.referenceDelegate.addReference(I,N.targetId,P)).next(()=>we.forEach(N.Hs,P=>C.persistence.referenceDelegate.removeReference(I,N.targetId,P)))))}catch(I){if(!gp(I))throw I;$e("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const N=I.targetId;if(!I.fromCache){const P=C.si.get(N),W=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);C.si=C.si.insert(N,W)}}}),function(p,y){return h.apply(this,arguments)})(i.localStore,o))}),Bx.apply(this,arguments)}function l$(n,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,ge.Z)(function*(n,t){const e=nt(n);if(!e.currentUser.isEqual(t)){$e("SyncEngine","User change. New user:",t.toKey());const i=yield gL(e.localStore,t);e.currentUser=t,(r=e).iu.forEach(u=>{u.forEach(h=>{h.reject(new Fe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.iu.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Zu(e,i.ci)}var r}),Ux.apply(this,arguments)}function c$(n,t){const e=nt(n),i=e.eu.get(t);if(i&&i.Ha)return Ln().add(i.key);{let r=Ln();const o=e.Xa.get(t);if(!o)return r;for(const u of o){const h=e.Ya.get(u);r=r.unionWith(h.view.Ba)}return r}}function u$(n,t){return jx.apply(this,arguments)}function jx(){return jx=(0,ge.Z)(function*(n,t){const e=nt(n),i=yield jE(e.localStore,t.query,!0),r=t.view.Wa(i);return e.isPrimaryClient&&Lx(e,t.targetId,r.Qa),r}),jx.apply(this,arguments)}function d$(n){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,ge.Z)(function*(n){const t=nt(n);return vL(t.localStore).then(e=>Zu(t,e))}),Hx.apply(this,arguments)}function h$(n,t,e,i){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,ge.Z)(function*(n,t,e,i){const r=nt(n),o=yield function(u,h){const p=nt(u),y=nt(p.Fs);return p.persistence.runTransaction("Lookup mutation documents","readonly",C=>y.ln(C,h).next(I=>I?p.ui.Us(C,I):we.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield __(r.remoteStore):"acknowledged"===e||"rejected"===e?(Fx(r,t,i||null),Px(r,t),h=t,nt(nt(r.localStore).Fs).dn(h)):wt(),yield Zu(r,o)):$e("SyncEngine","Cannot apply mutation batch with id: "+t)}),Gx.apply(this,arguments)}function $x(){return $x=(0,ge.Z)(function*(n,t){const e=nt(n);if(Zx(e),Yx(e),!0===t&&!0!==e.ou){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield jL(e,i.toArray());e.ou=!0,yield mx(e.remoteStore,!0);for(const o of r)zE(e.remoteStore,o)}else if(!1===t&&!1!==e.ou){const i=[];let r=Promise.resolve();e.Xa.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(C_(e,u),g_(e.localStore,u,!0))),zb(e.remoteStore,u)}),yield r,yield jL(e,i),function(o){const u=nt(o);u.eu.forEach((h,p)=>{zb(u.remoteStore,p)}),u.nu.bi(),u.eu=new Map,u.tu=new Qi(ot.comparator)}(e),e.ou=!1,yield mx(e.remoteStore,!1)}}),$x.apply(this,arguments)}function jL(n,t,e){return zx.apply(this,arguments)}function zx(){return zx=(0,ge.Z)(function*(n,t,e){const i=nt(n),r=[],o=[];for(const u of t){let h;const p=i.Xa.get(u);if(p&&0!==p.length){h=yield p_(i.localStore,za(p[0]));for(const y of p){const C=i.Ya.get(y),I=yield u$(i,C);I.snapshot&&o.push(I.snapshot)}}else{const y=yield yL(i.localStore,u);h=yield p_(i.localStore,y),yield Sx(i,HL(y),u,!1)}r.push(h)}return i.Ja.Ko(o),r}),zx.apply(this,arguments)}function HL(n){return iF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function p$(n){const t=nt(n);return nt(nt(t.localStore).persistence).Ms()}function g$(n,t,e,i){return qx.apply(this,arguments)}function qx(){return qx=(0,ge.Z)(function*(n,t,e,i){const r=nt(n);if(r.ou)$e("SyncEngine","Ignoring unexpected query state notification.");else if(r.Xa.has(t))switch(e){case"current":case"not-current":{const o=yield vL(r.localStore),u=kb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Zu(r,o,u);break}case"rejected":yield g_(r.localStore,t,!0),C_(r,t,i);break;default:wt()}}),qx.apply(this,arguments)}function m$(n,t,e){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,ge.Z)(function*(n,t,e){const i=Zx(n);if(i.ou){for(const r of t){if(i.Xa.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const o=yield yL(i.localStore,r),u=yield p_(i.localStore,o);yield Sx(i,HL(o),u.targetId,!1),zE(i.remoteStore,u)}for(const r of e)i.Xa.has(r)&&(yield g_(i.localStore,r,!1).then(()=>{zb(i.remoteStore,r),C_(i,r)}).catch(wp))}}),Wx.apply(this,arguments)}function Zx(n){const t=nt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=VL.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=c$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=i$.bind(null,t),t.Ja.Ko=W6.bind(null,t.eventManager),t.Ja.uu=Z6.bind(null,t.eventManager),t}function Yx(n){const t=nt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=r$.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=s$.bind(null,t),t}class GL{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ge.Z)(function*(){e.M=Gb(t.databaseInfo.databaseId),e.sharedClientState=e.hu(t),e.persistence=e.lu(t),yield e.persistence.start(),e.gcScheduler=e.fu(t),e.localStore=e.du(t)})()}fu(t){return null}du(t){return pL(this.persistence,new fL,t.initialUser,this.M)}lu(t){return new T6(YA.Wi,this.M)}hu(t){return new CL}terminate(){var t=this;return(0,ge.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class $L extends GL{constructor(t,e,i){super(),this._u=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ge.Z)(function*(){yield e().call(i,t),yield function m6(n){return zA.apply(this,arguments)}(i.localStore),yield i._u.initialize(i,t),yield Yx(i._u.syncEngine),yield __(i._u.remoteStore),yield i.persistence.ps(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}du(t){return pL(this.persistence,new fL,t.initialUser,this.M)}fu(t){return new r6(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}lu(t){const e=jA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?xo.withCacheSize(this.cacheSizeBytes):xo.DEFAULT;return new UA(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,EL(),$E(),this.M,this.sharedClientState,!!this.forceOwnership)}hu(t){return new CL}}class y$ extends $L{constructor(t,e){super(t,e,!1),this._u=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ge.Z)(function*(){yield e().call(i,t);const r=i._u.syncEngine;i.sharedClientState instanceof XA&&(i.sharedClientState.syncEngine={Nr:h$.bind(null,r),kr:g$.bind(null,r),Mr:m$.bind(null,r),Ms:p$.bind(null,r),Cr:d$.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ps(function(){var o=(0,ge.Z)(function*(u){yield function f$(n,t){return $x.apply(this,arguments)}(i._u.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}hu(t){const e=EL();if(!XA.vt(e))throw new Fe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=jA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new XA(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Kx{initialize(t,e){var i=this;return(0,ge.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>BL(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=l$.bind(null,i.syncEngine),yield mx(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new q6}createDatastore(t){const e=Gb(t.databaseInfo.databaseId),i=new x6(t.databaseInfo);return new N6(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>BL(this.syncEngine,h,0),u=DL.vt()?new DL:new I6,new P6(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,p,y){const C=new X6(i,r,o,u,h,p);return y&&(C.ou=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ge.Z)(function*(e){const i=nt(e);$e("RemoteStore","RemoteStore shutting down."),i.ha.add(5),yield m_(i),i.fa.shutdown(),i.da.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function zL(n,t=10240){let e=0;return{read:()=>(0,ge.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class WE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.wu(this.observer.next,t)}error(t){this.observer.error?this.wu(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}mu(){this.muted=!0}wu(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class v${constructor(t,e){this.gu=t,this.M=e,this.metadata=new Gr,this.buffer=new Uint8Array,this.yu=new TextDecoder("utf-8"),this.pu().then(i=>{i&&i.Da()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.gu.cancel()}getMetadata(){var t=this;return(0,ge.Z)(function*(){return t.metadata.promise})()}cu(){var t=this;return(0,ge.Z)(function*(){return yield t.getMetadata(),t.pu()})()}pu(){var t=this;return(0,ge.Z)(function*(){const e=yield t.Iu();if(null===e)return null;const i=t.yu.decode(e),r=Number(i);isNaN(r)&&t.Tu(`length string (${i}) is not valid number`);const o=yield t.Eu(r);return new Y6(JSON.parse(o),e.length+r)})()}Au(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Iu(){var t=this;return(0,ge.Z)(function*(){for(;t.Au()<0&&!(yield t.Ru()););if(0===t.buffer.length)return null;const e=t.Au();e<0&&t.Tu("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Eu(t){var e=this;return(0,ge.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ru())&&e.Tu("Reached the end of bundle when more is expected.");const i=e.yu.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Tu(t){throw this.gu.cancel(),new Error(`Invalid bundle format: ${t}`)}Ru(){var t=this;return(0,ge.Z)(function*(){const e=yield t.gu.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class b${constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Fe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ge.Z)(function*(o,u){const h=nt(o),p=Pb(h.M)+"/documents",y={documents:u.map(P=>Rb(h.M,P))},C=yield h.uo("BatchGetDocuments",p,y),I=new Map;C.forEach(P=>{const U=function CG(n,t){return"found"in t?function(e,i){$t(!!i.found);const r=Nc(e,i.found.name),o=qr(i.found.updateTime),u=new ks({mapValue:{fields:i.found.fields}});return Ti.newFoundDocument(r,o,u)}(n,t):"missing"in t?function(e,i){$t(!!i.missing),$t(!!i.readTime);const r=Nc(e,i.missing),o=qr(i.readTime);return Ti.newNoDocument(r,o)}(n,t):wt()}(h.M,P);I.set(U.key.toString(),U)});const N=[];return u.forEach(P=>{const U=I.get(P.toString());$t(!!U),N.push(U)}),N}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ab(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=ot.fromPath(r);t.mutations.push(new CA(o,t.precondition(o)))}),yield(i=(0,ge.Z)(function*(r,o){const u=nt(r),h=Pb(u.M)+"/documents",p={writes:o.map(y=>Fb(u.M,y))};yield u.io("Commit",h,p)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw wt();e=Lt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Fe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ur.updateTime(e):ur.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Lt.min()))throw new Fe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ur.updateTime(e)}return ur.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class w${constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.bu=5,this.vo=new ex(this.asyncQueue,"transaction_retry")}run(){this.bu-=1,this.Pu()}Pu(){var t=this;this.vo.po((0,ge.Z)(function*(){const e=new b$(t.datastore),i=t.Vu(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.vu(o)}))}).catch(r=>{t.vu(r)})}))}Vu(t){try{const e=this.updateFunction(t);return!cp(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}vu(t){this.bu>0&&this.Su(t)?(this.bu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Pu(),Promise.resolve()))):this.deferred.reject(t)}Su(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!bF(e)}return!1}}class C${constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=fs.UNAUTHENTICATED,this.clientId=VP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ge.Z)(function*(h){$e("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>($e("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ge.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=v_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function qL(n,t){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,ge.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ge.Z)(function*(o){i.isEqual(o)||(yield gL(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),Jx.apply(this,arguments)}function WL(n,t){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,ge.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Xx(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>kL(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>kL(t.remoteStore,o)),n.onlineComponents=t}),Qx.apply(this,arguments)}function Xx(n){return ek.apply(this,arguments)}function ek(){return ek=(0,ge.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield qL(n,new GL)),n.offlineComponents}),ek.apply(this,arguments)}function ZE(n){return tk.apply(this,arguments)}function tk(){return tk=(0,ge.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield WL(n,new Kx)),n.onlineComponents}),tk.apply(this,arguments)}function ZL(n){return Xx(n).then(t=>t.persistence)}function nk(n){return Xx(n).then(t=>t.localStore)}function YL(n){return ZE(n).then(t=>t.remoteStore)}function ik(n){return ZE(n).then(t=>t.syncEngine)}function D_(n){return rk.apply(this,arguments)}function rk(){return rk=(0,ge.Z)(function*(n){const t=yield ZE(n),e=t.eventManager;return e.onListen=e$.bind(null,t.syncEngine),e.onUnlisten=t$.bind(null,t.syncEngine),e}),rk.apply(this,arguments)}function KL(n,t,e={}){const i=new Gr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(r,o,u,h,p){const y=new WE({next:I=>{o.enqueueAndForget(()=>wx(r,C));const N=I.docs.has(u);!N&&I.fromCache?p.reject(new Fe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&I.fromCache&&h&&"server"===h.source?p.reject(new Fe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),C=new Ex(i_(u.path),y,{includeMetadataChanges:!0,Sa:!0});return vx(r,C)}(yield D_(n),n.asyncQueue,t,e,i)})),i.promise}function JL(n,t,e={}){const i=new Gr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(r,o,u,h,p){const y=new WE({next:I=>{o.enqueueAndForget(()=>wx(r,C)),I.fromCache&&"server"===h.source?p.reject(new Fe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),C=new Ex(u,y,{includeMetadataChanges:!0,Sa:!0});return vx(r,C)}(yield D_(n),n.asyncQueue,t,e,i)})),i.promise}const QL=new Map;function sk(n,t,e){if(!e)throw new Fe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function XL(n,t,e,i){if(!0===t&&!0===i)throw new Fe(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function e2(n){if(!ot.isDocumentKey(n))throw new Fe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function t2(n){if(ot.isDocumentKey(n))throw new Fe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function YE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":wt()}function vn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Fe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=YE(n);throw new Fe(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function n2(n,t){if(t<=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class r2{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Fe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,XL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qb{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r2({}),this._settingsFrozen=!1,t instanceof qu?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Fe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(r.options.projectId)}(t))}get app(){if(!this._app)throw new Fe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r2(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new L3;switch(e.type){case"gapi":const i=e.client;return $t(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new j3(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Fe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=QL.get(t);e&&($e("ComponentProvider","Removing Datastore"),QL.delete(t),e.terminate())}(this),Promise.resolve()}}class li{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new li(this.firestore,t,this._key)}}class Os{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Os(this.firestore,t,this._query)}}class Rc extends Os{constructor(t,e,i){super(t,e,i_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new li(this.firestore,null,new ot(t))}withConverter(t){return new Rc(this.firestore,t,this._path)}}function Wb(n,t,...e){if(n=(0,Ht.m9)(n),sk("collection","path",t),n instanceof qb){const i=Nn.fromString(t,...e);return t2(i),new Rc(n,null,i)}{if(!(n instanceof li||n instanceof Rc))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Nn.fromString(t,...e));return t2(i),new Rc(n.firestore,null,i)}}function sa(n,t,...e){if(n=(0,Ht.m9)(n),1===arguments.length&&(t=VP.R()),sk("doc","path",t),n instanceof qb){const i=Nn.fromString(t,...e);return e2(i),new li(n,null,new ot(i))}{if(!(n instanceof li||n instanceof Rc))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Nn.fromString(t,...e));return e2(i),new li(n.firestore,n instanceof Rc?n.converter:null,new ot(i))}}function s2(n,t){return n=(0,Ht.m9)(n),t=(0,Ht.m9)(t),(n instanceof li||n instanceof Rc)&&(t instanceof li||t instanceof Rc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function o2(n,t){return n=(0,Ht.m9)(n),t=(0,Ht.m9)(t),n instanceof Os&&t instanceof Os&&n.firestore===t.firestore&&Sb(n._query,t._query)&&n.converter===t.converter}class N${constructor(){this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new ex(this,"async_queue_retry"),this.Fu=()=>{const e=$E();e&&$e("AsyncQueue","Visibility state changed to "+e.visibilityState),this.vo.To()};const t=$E();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Fu)}get isShuttingDown(){return this.xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Bu(),this.Lu(t)}enterRestrictedMode(t){if(!this.xu){this.xu=!0,this.Ou=t||!1;const e=$E();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Fu)}}enqueue(t){if(this.Bu(),this.xu)return new Promise(()=>{});const e=new Gr;return this.Lu(()=>this.xu&&this.Ou?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Cu.push(t),this.qu()))}qu(){var t=this;return(0,ge.Z)(function*(){if(0!==t.Cu.length){try{yield t.Cu[0](),t.Cu.shift(),t.vo.reset()}catch(e){if(!gp(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}t.Cu.length>0&&t.vo.po(()=>t.qu())}})()}Lu(t){const e=this.Du.then(()=>(this.Mu=!0,t().catch(i=>{throw this.ku=i,this.Mu=!1,cr("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Mu=!1,i))));return this.Du=e,e}enqueueAfterDelay(t,e,i){this.Bu(),this.$u.indexOf(t)>-1&&(e=0);const r=yx.createAndSchedule(this,t,e,i,o=>this.Uu(o));return this.Nu.push(r),r}Bu(){this.ku&&wt()}verifyOperationInProgress(){}Ku(){var t=this;return(0,ge.Z)(function*(){let e;do{e=t.Du,yield e}while(e!==t.Du)})()}Gu(t){for(const e of this.Nu)if(e.timerId===t)return!0;return!1}Qu(t){return this.Ku().then(()=>{this.Nu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Nu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Ku()})}ju(t){this.$u.push(t)}Uu(t){const e=this.Nu.indexOf(t);this.Nu.splice(e,1)}}function ok(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class R${constructor(){this._progressObserver={},this._taskCompletionResolver=new Gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class _i extends qb{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new N$,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||a2(this),this._firestoreClient.terminate()}}function F$(n=(0,xs.getApp)()){return(0,xs._getProvider)(n,"firestore").getImmediate()}function hr(n){return n._firestoreClient||a2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function a2(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new W3(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new C$(n._authCredentials,n._appCheckCredentials,n._queue,i)}function l2(n,t,e){const i=new Gr;return n.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield qL(n,e),yield WL(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(o=r).name?o.code===me.FAILED_PRECONDITION||o.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var o})).then(()=>i.promise)}function c2(n){if(n._initialized||n._terminated)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Fe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Pc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pc(Tr.fromBase64String(t))}catch(e){throw new Fe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Pc(Tr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Cp{constructor(t){this._methodName=t}}class KE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Fe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Fe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return dn(this._lat,t._lat)||dn(this._long,t._long)}}const z$=/^__.*__$/;class q${constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new pp(t,this.data,this.fieldMask,e,this.fieldTransforms):new Mb(t,this.data,e,this.fieldTransforms)}}class u2{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new pp(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function d2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class JE{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Wu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get zu(){return this.settings.zu}Hu(t){return new JE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ju(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Hu({path:i,Yu:!1});return r.Xu(t),r}Zu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Hu({path:i,Yu:!1});return r.Wu(),r}tc(t){return this.Hu({path:void 0,Yu:!0})}ec(t){return e1(t,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Wu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Xu(this.path.get(t))}Xu(t){if(0===t.length)throw this.ec("Document fields must not be empty");if(d2(this.zu)&&z$.test(t))throw this.ec('Document fields cannot begin and end with "__"')}}class W${constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||Gb(t)}ic(t,e,i,r=!1){return new JE({zu:t,methodName:e,sc:i,path:zr.emptyPath(),Yu:!1,nc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Dp(n){const t=n._freezeSettings(),e=Gb(n._databaseId);return new W$(n._databaseId,!!t.ignoreUndefinedProperties,e)}function QE(n,t,e,i,r,o={}){const u=n.ic(o.merge||o.mergeFields?2:0,t,e,r);uk("Data must be an object, but it was:",u,i);const h=p2(i,u);let p,y;if(o.merge)p=new Qm(u.fieldMask),y=u.fieldTransforms;else if(o.mergeFields){const C=[];for(const I of o.mergeFields){const N=dk(t,I,e);if(!u.contains(N))throw new Fe(me.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);m2(C,N)||C.push(N)}p=new Qm(C),y=u.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=u.fieldTransforms;return new q$(new ks(h),p,y)}class Zb extends Cp{_toFieldTransform(t){if(2!==t.zu)throw t.ec(1===t.zu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zb}}function h2(n,t,e){return new JE({zu:3,sc:t.settings.sc,methodName:n._methodName,Yu:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class ak extends Cp{_toFieldTransform(t){return new Ib(t.path,new s_)}isEqual(t){return t instanceof ak}}class Z$ extends Cp{constructor(t,e){super(t),this.rc=e}_toFieldTransform(t){const e=h2(this,t,!0),i=this.rc.map(o=>Ep(o,e)),r=new hp(i);return new Ib(t.path,r)}isEqual(t){return this===t}}class Y$ extends Cp{constructor(t,e){super(t),this.rc=e}_toFieldTransform(t){const e=h2(this,t,!0),i=this.rc.map(o=>Ep(o,e)),r=new fp(i);return new Ib(t.path,r)}isEqual(t){return this===t}}class K$ extends Cp{constructor(t,e){super(t),this.oc=e}_toFieldTransform(t){const e=new o_(t.M,cF(t.M,this.oc));return new Ib(t.path,e)}isEqual(t){return this===t}}function lk(n,t,e,i){const r=n.ic(1,t,e);uk("Data must be an object, but it was:",r,i);const o=[],u=ks.empty();ap(i,(p,y)=>{const C=XE(t,p,e);y=(0,Ht.m9)(y);const I=r.Zu(C);if(y instanceof Zb)o.push(C);else{const N=Ep(y,I);null!=N&&(o.push(C),u.set(C,N))}});const h=new Qm(o);return new u2(u,h,r.fieldTransforms)}function ck(n,t,e,i,r,o){const u=n.ic(1,t,e),h=[dk(t,i,e)],p=[r];if(o.length%2!=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<o.length;N+=2)h.push(dk(t,o[N])),p.push(o[N+1]);const y=[],C=ks.empty();for(let N=h.length-1;N>=0;--N)if(!m2(y,h[N])){const P=h[N];let U=p[N];U=(0,Ht.m9)(U);const W=u.Zu(P);if(U instanceof Zb)y.push(P);else{const oe=Ep(U,W);null!=oe&&(y.push(P),C.set(P,oe))}}const I=new Qm(y);return new u2(C,I,u.fieldTransforms)}function f2(n,t,e,i=!1){return Ep(e,n.ic(i?4:3,t))}function Ep(n,t){if(g2(n=(0,Ht.m9)(n)))return uk("Unsupported field value:",t,n),p2(n,t);if(n instanceof Cp)return function(e,i){if(!d2(i.zu))throw i.ec(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ec(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Yu&&4!==t.zu)throw t.ec("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=Ep(u,i.tc(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Ht.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cF(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=$r.fromDate(e);return{timestampValue:Nb(i.M,r)}}if(e instanceof $r){const r=new $r(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Nb(i.M,r)}}if(e instanceof KE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pc)return{bytesValue:MF(i.M,e._byteString)};if(e instanceof li){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ec(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:EA(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ec(`Unsupported field value: ${YE(e)}`)}(n,t)}function p2(n,t){const e={};return jP(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ap(n,(i,r)=>{const o=Ep(r,t.Ju(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function g2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $r||n instanceof KE||n instanceof Pc||n instanceof li||n instanceof Cp)}function uk(n,t,e){if(!g2(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=YE(e);throw t.ec("an object"===i?n+" a custom object":n+" "+i)}var i}function dk(n,t,e){if((t=(0,Ht.m9)(t))instanceof Yu)return t._internalPath;if("string"==typeof t)return XE(n,t);throw e1("Field path arguments must be of type string or ",n,!1,void 0,e)}const J$=new RegExp("[~\\*/\\[\\]]");function XE(n,t,e){if(t.search(J$)>=0)throw e1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Yu(...t.split("."))._internalPath}catch(i){throw e1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function e1(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(o||u)&&(p+=" (found",o&&(p+=` in field ${i}`),u&&(p+=` in document ${r}`),p+=")"),new Fe(me.INVALID_ARGUMENT,h+n+p)}function m2(n,t){return n.some(e=>e.isEqual(t))}class Yb{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Q$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(t1("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Q$ extends Yb{data(){return super.data()}}function t1(n,t){return"string"==typeof t?XE(n,t):t instanceof Yu?t._internalPath:t._delegate._internalPath}class Tp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ku extends Yb{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Kb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(t1("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Kb extends Ku{data(t={}){return super.data(t)}}class kh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Tp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Kb(this._firestore,this._userDataWriter,i.key,i,new Tp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Fe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Kb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new Kb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==u.type&&(p=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),y=o.indexOf(u.doc.key)),{type:X$(u.type),doc:h,oldIndex:p,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function X$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}function _2(n,t){return n instanceof Ku&&t instanceof Ku?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof kh&&t instanceof kh&&n._firestore===t._firestore&&o2(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function y2(n){if(EE(n)&&0===n.explicitOrderBy.length)throw new Fe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jb{}function Ju(n,...t){for(const e of t)n=e._apply(n);return n}class ez extends Jb{constructor(t,e,i){super(),this.ac=t,this.uc=e,this.cc=i,this.type="where"}_apply(t){const e=Dp(t.firestore),i=function(r,o,u,h,p,y,C){let I;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){E2(C,y);const P=[];for(const U of C)P.push(D2(h,r,U));I={arrayValue:{values:P}}}else I=D2(h,r,C)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||E2(C,y),I=f2(u,"where",C,"in"===y||"not-in"===y);const N=ps.create(p,y,I);return function(P,U){if(U.S()){const oe=_A(P);if(null!==oe&&!oe.isEqual(U.field))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${oe.toString()}' and '${U.field.toString()}'`);const xe=mA(P);null!==xe&&T2(0,U.field,xe)}const W=function(oe,xe){for(const De of oe.filters)if(xe.indexOf(De.op)>=0)return De.op;return null}(P,function(oe){switch(oe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==W)throw new Fe(me.INVALID_ARGUMENT,W===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${W.toString()}' filters.`)}(r,N),N}(t._query,0,e,t.firestore._databaseId,this.ac,this.uc,this.cc);return new Os(t.firestore,t.converter,function(r,o){const u=r.filters.concat([o]);return new Wu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}function n1(n,t,e){const i=t,r=t1("where",n);return new ez(r,i,e)}class tz extends Jb{constructor(t,e){super(),this.ac=t,this.hc=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new n_(r,o);return function(h,p){if(null===mA(h)){const y=_A(h);null!==y&&T2(0,y,p.field)}}(i,u),u}(t._query,this.ac,this.hc);return new Os(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Wu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class v2 extends Jb{constructor(t,e,i){super(),this.type=t,this.lc=e,this.fc=i}_apply(t){return new Os(t.firestore,t.converter,rF(t._query,this.lc,this.fc))}}class b2 extends Jb{constructor(t,e,i){super(),this.type=t,this.dc=e,this._c=i}_apply(t){const e=C2(t,this.type,this.dc,this._c);return new Os(t.firestore,t.converter,(r=e,new Wu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class w2 extends Jb{constructor(t,e,i){super(),this.type=t,this.dc=e,this._c=i}_apply(t){const e=C2(t,this.type,this.dc,this._c);return new Os(t.firestore,t.converter,(r=e,new Wu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function C2(n,t,e,i){if(e[0]=(0,Ht.m9)(e[0]),e[0]instanceof Yb)return function(r,o,u,h,p){if(!h)throw new Fe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const C of r_(r))if(C.field.isKeyField())y.push(e_(o,h.key));else{const I=h.data.field(C.field);if(hA(I))throw new Fe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const N=C.field.canonicalString();throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}y.push(I)}return new Ch(y,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Dp(n.firestore);return function(o,u,h,p,y,C){const I=o.explicitOrderBy;if(y.length>I.length)throw new Fe(me.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let P=0;P<y.length;P++){const U=y[P];if(I[P].field.isKeyField()){if("string"!=typeof U)throw new Fe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof U}`);if(!yA(o)&&-1!==U.indexOf("/"))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${U}' contains a slash.`);const W=o.path.child(Nn.fromString(U));if(!ot.isDocumentKey(W))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${W}' is not because it contains an odd number of segments.`);const oe=new ot(W);N.push(e_(u,oe))}else{const W=f2(h,p,U);N.push(W)}}return new Ch(N,C)}(n._query,n.firestore._databaseId,r,t,e,i)}}function D2(n,t,e){if("string"==typeof(e=(0,Ht.m9)(e))){if(""===e)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yA(t)&&-1!==e.indexOf("/"))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Nn.fromString(e));if(!ot.isDocumentKey(i))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return e_(n,new ot(i))}if(e instanceof li)return e_(n,e._key);throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${YE(e)}.`)}function E2(n,t){if(!Array.isArray(n)||0===n.length)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function T2(n,t,e){if(!e.isEqual(t))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class hk{convertValue(t,e="none"){switch(up(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Li(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(lp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw wt()}}convertObject(t,e){const i={};return ap(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new KE(Li(t.latitude),Li(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=HP(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(vb(t));default:return null}}convertTimestamp(t){const e=bh(t);return new $r(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Nn.fromString(t);$t(VF(i));const r=new qu(i.get(1),i.get(3)),o=new ot(i.popFirst(5));return r.isEqual(e)||cr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function r1(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class cz extends hk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new li(this.firestore,null,e)}}class S2{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Dp(t)}set(t,e,i){this._verifyNotCommitted();const r=Oh(t,this._firestore),o=r1(r.converter,e,i),u=QE(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,ur.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Oh(t,this._firestore);let u;return u="string"==typeof(e=(0,Ht.m9)(e))||e instanceof Yu?ck(this._dataReader,"WriteBatch.update",o._key,e,i,r):lk(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,ur.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Oh(t,this._firestore);return this._mutations=this._mutations.concat(new Ab(e._key,ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oh(n,t){if((n=(0,Ht.m9)(n)).firestore!==t)throw new Fe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function s1(n){n=vn(n,li);const t=vn(n.firestore,_i);return KL(hr(t),n._key).then(e=>gk(t,n,e))}class Sp extends hk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new li(this.firestore,null,e)}}function I2(n){n=vn(n,Os);const t=vn(n.firestore,_i),e=hr(t),i=new Sp(t);return y2(n._query),JL(e,n._query).then(r=>new kh(t,i,n,r))}function E_(n,t,e){n=vn(n,li);const i=vn(n.firestore,_i),r=r1(n.converter,t,e);return T_(i,[QE(Dp(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,ur.none())])}function fk(n,t,e,...i){n=vn(n,li);const r=vn(n.firestore,_i),o=Dp(r);let u;return u="string"==typeof(t=(0,Ht.m9)(t))||t instanceof Yu?ck(o,"updateDoc",n._key,t,e,i):lk(o,"updateDoc",n._key,t),T_(r,[u.toMutation(n._key,ur.exists(!0))])}function M2(n,t){const e=vn(n.firestore,_i),i=sa(n),r=r1(n.converter,t);return T_(e,[QE(Dp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ur.exists(!1))]).then(()=>i)}function pk(n,...t){var e,i,r;n=(0,Ht.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||ok(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(ok(t[u])){const I=t[u];t[u]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[u+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[u+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let p,y,C;if(n instanceof li)y=vn(n.firestore,_i),C=i_(n._key.path),p={next:I=>{t[u]&&t[u](gk(y,n,I))},error:t[u+1],complete:t[u+2]};else{const I=vn(n,Os);y=vn(I.firestore,_i),C=I._query;const N=new Sp(y);p={next:P=>{t[u]&&t[u](new kh(y,N,I,P))},error:t[u+1],complete:t[u+2]},y2(n._query)}return function(I,N,P,U){const W=new WE(U),oe=new Ex(N,W,P);return I.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return vx(yield D_(I),oe)})),()=>{W.mu(),I.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return wx(yield D_(I),oe)}))}}(hr(y),C,h,p)}function T_(n,t){return function(e,i){const r=new Gr;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function n$(n,t,e){return Ax.apply(this,arguments)}(yield ik(e),i,r)})),r.promise}(hr(n),t)}function gk(n,t,e){const i=e.docs.get(t._key),r=new Sp(n);return new Ku(n,r,t._key,i,new Tp(e.hasPendingWrites,e.fromCache),t.converter)}class mz extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Dp(t)}get(t){const e=Oh(t,this._firestore),i=new cz(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return wt();const o=r[0];if(o.isFoundDocument())return new Yb(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Yb(this._firestore,i,e._key,null,e.converter);throw wt()})}set(t,e,i){const r=Oh(t,this._firestore),o=r1(r.converter,e,i),u=QE(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=Oh(t,this._firestore);let u;return u="string"==typeof(e=(0,Ht.m9)(e))||e instanceof Yu?ck(this._dataReader,"Transaction.update",o._key,e,i,r):lk(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Oh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Oh(t,this._firestore),i=new Sp(this._firestore);return super.get(t).then(r=>new Ku(this._firestore,i,e._key,r._document,new Tp(!1,!1),e.converter))}}function mk(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function x2(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function k2(){if(!function z3(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Km=xs.SDK_VERSION,(0,xs._registerComponent)(new hh.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new _i(r,new B3(e.getProvider("auth-internal")),new H3(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,xs.registerVersion)(PP,"3.4.6",n),(0,xs.registerVersion)(PP,"3.4.6","esm2017")}();class Qb{constructor(t){this._delegate=t}static fromBase64String(t){return k2(),new Qb(Pc.fromBase64String(t))}static fromUint8Array(t){return x2(),new Qb(Pc.fromUint8Array(t))}toBase64(){return k2(),this._delegate.toBase64()}toUint8Array(){return x2(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _k(n){return function Tz(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class Sz{enableIndexedDbPersistence(t,e){return function L$(n,t){c2(n=vn(n,_i));const e=hr(n),i=n._freezeSettings(),r=new Kx;return l2(e,r,new $L(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function V$(n){c2(n=vn(n,_i));const t=hr(n),e=n._freezeSettings(),i=new Kx;return l2(t,i,new y$(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function B$(n){if(n._initialized&&!n._terminated)throw new Fe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Gr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(e=(0,ge.Z)(function*(i){if(!Fl.vt())return Promise.resolve();const r=i+"main";yield Fl.delete(r)}),function(i){return e.apply(this,arguments)})(jA(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class O2{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof qu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&_b("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function k$(n,t,e,i={}){var r;const o=(n=vn(n,qb))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&_b("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=fs.MOCK_USER;else{u=(0,Ht.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Fe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new fs(p)}n._authCredentials=new V3(new FP(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function j$(n){return function D$(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const t=yield ZL(n),e=yield YL(n);return t.setNetworkEnabled(!0),function(i){const r=nt(i);return r.ha.delete(0),$b(r)}(e)}))}(hr(n=vn(n,_i)))}(this._delegate)}disableNetwork(){return function H$(n){return function E$(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const t=yield ZL(n),e=yield YL(n);return t.setNetworkEnabled(!1),(i=(0,ge.Z)(function*(r){const o=nt(r);o.ha.add(0),yield m_(o),o.da.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(hr(n=vn(n,_i)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,XL("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function U$(n){return function(t){const e=new Gr;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function o$(n,t){return Rx.apply(this,arguments)}(yield ik(t),e)})),e.promise}(hr(n=vn(n,_i)))}(this._delegate)}onSnapshotsInSync(t){return function gz(n,t){return function I$(n,t){const e=new WE(t);return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return i=yield D_(n),r=e,nt(i).Ia.add(r),void r.next();var i,r})),()=>{e.mu(),n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return i=yield D_(n),r=e,void nt(i).Ia.delete(r);var i,r}))}}(hr(n=vn(n,_i)),ok(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new S_(this,Wb(this._delegate,t))}catch(e){throw io(e,"collection()","Firestore.collection()")}}doc(t){try{return new Wa(this,sa(this._delegate,t))}catch(e){throw io(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ro(this,function O$(n,t){if(n=vn(n,qb),sk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Os(n,null,(e=t,new Wu(Nn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw io(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function _z(n,t){return function M$(n,t){const e=new Gr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const i=yield(r=n,ZE(r).then(o=>o.datastore));var r;new w$(n.asyncQueue,i,t,e).run()})),e.promise}(hr(n=vn(n,_i)),e=>t(new mz(n,e)))}(this._delegate,e=>t(new N2(this,e)))}batch(){return hr(this._delegate),new R2(new S2(this._delegate,t=>T_(this._delegate,t)))}loadBundle(t){return function G$(n,t){const e=hr(n=vn(n,_i)),i=new R$;return function A$(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,p=function(p,y){if(p instanceof Uint8Array)return zL(p,y);if(p instanceof ArrayBuffer)return zL(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new v$(p,u);var p}(e,Gb(t));n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function _$(n,t,e){const i=nt(n);var r;(r=(0,ge.Z)(function*(o,u,h){try{const p=yield u.getMetadata();if(yield function(N,P){const U=nt(N),W=qr(P.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",oe=>U.fs.getBundleMetadata(oe,P.id)).then(oe=>!!oe&&oe.createTime.compareTo(W)>=0)}(o.localStore,p))return yield u.close(),void h._completeWith((N=p,{taskState:"Success",documentsLoaded:N.totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}));h._updateProgress(RL(p));const y=new K6(p,o.localStore,u.M);let C=yield u.cu();for(;C;){const N=yield y.xa(C);N&&h._updateProgress(N),C=yield u.cu()}const I=yield y.complete();yield Zu(o,I.$s,void 0),yield function(N,P){const U=nt(N);return U.persistence.runTransaction("Save bundle","readwrite",W=>U.fs.saveBundleMetadata(W,P))}(o.localStore,p),h._completeWith(I.progress)}catch(p){_b("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p)}var N}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield ik(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function $$(n,t){return function x$(n,t){return n.asyncQueue.enqueue((0,ge.Z)(function*(){return function(e,i){const r=nt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.fs.getNamedQuery(o,i))}(yield nk(n),t)}))}(hr(n=vn(n,_i)),t).then(e=>e?new Os(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ro(this,e):null)}}class o1 extends hk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qb(new Pc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Wa.forKey(e,this.firestore,null)}}class N2{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new o1(t)}get(t){const e=Mp(t);return this._delegate.get(e).then(i=>new Xb(this._firestore,new Ku(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Mp(t);return i?(mk("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Mp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Mp(t);return this._delegate.delete(e),this}}class R2{constructor(t){this._delegate=t}set(t,e,i){const r=Mp(t);return i?(mk("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Mp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Mp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Ip{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Kb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new e0(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Ip.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Ip(t,new o1(t),e),r.set(e,o)),o}}Ip.INSTANCES=new WeakMap;class Wa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new o1(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Wa(e,new li(e._delegate,i,new ot(t)))}static forKey(t,e,i){return new Wa(e,new li(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new S_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new S_(this.firestore,Wb(this._delegate,t))}catch(e){throw io(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Ht.m9)(t))instanceof li&&s2(this._delegate,t)}set(t,e){e=mk("DocumentReference.set",e);try{return e?E_(this._delegate,t,e):E_(this._delegate,t)}catch(i){throw io(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?fk(this._delegate,t):fk(this._delegate,t,e,...i)}catch(r){throw io(r,"updateDoc()","DocumentReference.update()")}}delete(){return function pz(n){return T_(vn(n.firestore,_i),[new Ab(n._key,ur.none())])}(this._delegate)}onSnapshot(...t){const e=P2(t),i=F2(t,r=>new Xb(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return pk(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function uz(n){n=vn(n,li);const t=vn(n.firestore,_i),e=hr(t),i=new Sp(t);return function T$(n,t){const e=new Gr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(i=(0,ge.Z)(function*(r,o,u){try{const h=yield function(p,y){const C=nt(p);return C.persistence.runTransaction("read document","readonly",I=>C.ui.Bs(I,y))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Fe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=v_(h,`Failed to get document '${o} from cache`);u.reject(p)}}),function(r,o,u){return i.apply(this,arguments)})(yield nk(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Ku(t,i,n._key,r,new Tp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function dz(n){n=vn(n,li);const t=vn(n.firestore,_i);return KL(hr(t),n._key,{source:"server"}).then(e=>gk(t,n,e))}(this._delegate):s1(this._delegate),e.then(i=>new Xb(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Wa(this.firestore,this._delegate.withConverter(t?Ip.getInstance(this.firestore,t):null))}}function io(n,t,e){return n.message=n.message.replace(t,e),n}function P2(n){for(const t of n)if("object"==typeof t&&!_k(t))return t;return{}}function F2(n,t){var e,i;let r;return r=_k(n[0])?n[0]:_k(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Xb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return _2(this._delegate,t._delegate)}}class e0 extends Xb{data(t){const e=this._delegate.data(t);return function F3(n,t){n||wt()}(void 0!==e),e}}class ro{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new o1(t)}where(t,e,i){try{return new ro(this.firestore,Ju(this._delegate,n1(t,e,i)))}catch(r){throw io(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ro(this.firestore,Ju(this._delegate,function nz(n,t="asc"){const e=t,i=t1("orderBy",n);return new tz(i,e)}(t,e)))}catch(i){throw io(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ro(this.firestore,Ju(this._delegate,function iz(n){return n2("limit",n),new v2("limit",n,"F")}(t)))}catch(e){throw io(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ro(this.firestore,Ju(this._delegate,function rz(n){return n2("limitToLast",n),new v2("limitToLast",n,"L")}(t)))}catch(e){throw io(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ro(this.firestore,Ju(this._delegate,function sz(...n){return new b2("startAt",n,!0)}(...t)))}catch(e){throw io(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ro(this.firestore,Ju(this._delegate,function oz(...n){return new b2("startAfter",n,!1)}(...t)))}catch(e){throw io(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ro(this.firestore,Ju(this._delegate,function az(...n){return new w2("endBefore",n,!1)}(...t)))}catch(e){throw io(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ro(this.firestore,Ju(this._delegate,function lz(...n){return new w2("endAt",n,!0)}(...t)))}catch(e){throw io(e,"endAt()","Query.endAt()")}}isEqual(t){return o2(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function hz(n){n=vn(n,Os);const t=vn(n.firestore,_i),e=hr(t),i=new Sp(t);return function S$(n,t){const e=new Gr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(i=(0,ge.Z)(function*(r,o,u){try{const h=yield jE(r,o,!0),p=new LL(o,h.hi),y=p.La(h.documents),C=p.applyChanges(y,!1);u.resolve(C.snapshot)}catch(h){const p=v_(h,`Failed to execute query '${o} against cache`);u.reject(p)}}),function(r,o,u){return i.apply(this,arguments)})(yield nk(n),t,e);var i})),e.promise}(e,n._query).then(r=>new kh(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function fz(n){n=vn(n,Os);const t=vn(n.firestore,_i),e=hr(t),i=new Sp(t);return JL(e,n._query,{source:"server"}).then(r=>new kh(t,i,n,r))}(this._delegate):I2(this._delegate),e.then(i=>new yk(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=P2(t),i=F2(t,r=>new yk(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return pk(this._delegate,e,i)}withConverter(t){return new ro(this.firestore,this._delegate.withConverter(t?Ip.getInstance(this.firestore,t):null))}}class Mz{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new e0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yk{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ro(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new e0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Mz(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new e0(this._firestore,i))})}isEqual(t){return _2(this._delegate,t._delegate)}}class S_ extends ro{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Wa(this.firestore,t):null}doc(t){try{return new Wa(this.firestore,void 0===t?sa(this._delegate):sa(this._delegate,t))}catch(e){throw io(e,"doc()","CollectionReference.doc()")}}add(t){return M2(this._delegate,t).then(e=>new Wa(this.firestore,e))}isEqual(t){return s2(this._delegate,t._delegate)}withConverter(t){return new S_(this.firestore,this._delegate.withConverter(t?Ip.getInstance(this.firestore,t):null))}}function Mp(n){return vn(n,li)}class vk{constructor(...t){this._delegate=new Yu(...t)}static documentId(){return new vk(zr.keyField().canonicalString())}isEqual(t){return(t=(0,Ht.m9)(t))instanceof Yu&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ap{constructor(t){this._delegate=t}static serverTimestamp(){const t=function vz(){return new ak("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Ap(t)}static delete(){const t=function yz(){return new Zb("deleteField")}();return t._methodName="FieldValue.delete",new Ap(t)}static arrayUnion(...t){const e=function bz(...n){return new Z$("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Ap(e)}static arrayRemove(...t){const e=function wz(...n){return new Y$("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Ap(e)}static increment(t){const e=function Cz(n){return new K$("increment",n)}(t);return e._methodName="FieldValue.increment",new Ap(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Az={Firestore:O2,GeoPoint:KE,Timestamp:$r,Blob:Qb,Transaction:N2,WriteBatch:R2,DocumentReference:Wa,DocumentSnapshot:Xb,Query:ro,QueryDocumentSnapshot:e0,QuerySnapshot:yk,CollectionReference:S_,FieldPath:vk,FieldValue:Ap,setLogLevel:function Iz(n){!function P3(n){vh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function kz(n){(function xz(n,t){n.INTERNAL.registerComponent(new hh.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Az)))})(n,(t,e)=>new O2(t,e,new Sz)),n.registerVersion("@firebase/firestore-compat","0.1.15")}(BD.Z);var a1=F(5363);function ms(n,t){return(0,Yi.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,pn.x)(i,p=>{null==r||r.unsubscribe();let y=0;const C=o++;(0,pi.Xf)(n(p,C)).subscribe(r=(0,pn.x)(i,I=>i.next(t?t(p,I,C,y++):I),()=>{r=null,h()}))},()=>{u=!0,h()}))})}var Oz=F(6063);class Nz extends Ot.x{constructor(t=1/0,e=1/0,i=Oz.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let p=1;p<i.length&&i[p]<=u;p+=2)h=p;h&&i.splice(0,h+1)}}}var L2=F(3099);function V2(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,L2.B)({connector:()=>new Nz(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const l1=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function B2(n){return(0,Yi.e)((t,e)=>{let i=!1;t.subscribe((0,pn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function U2(n=Pz){return(0,Yi.e)((t,e)=>{let i=!1;t.subscribe((0,pn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Pz(){return new l1}function xp(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Pi((r,o)=>n(r,o,i)):Du.y,(0,ni.q)(1),e?B2(t):U2(()=>new l1))}function j2(n,t){return(0,Ga.m)(t)?ms(()=>n,t):ms(()=>n)}var bk=F(9468),kp=F(5867);class I_{constructor(t){return t}}class H2{constructor(){return(0,kp.C6)()}}const wk=new s.OlP("angularfire2._apps"),Lz={provide:I_,useFactory:function Fz(n){return n&&1===n.length?n[0]:new I_((0,kp.Mq)())},deps:[[new s.FiY,wk]]},Vz={provide:H2,deps:[[new s.FiY,wk]]};function Bz(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new I_(i)}}let Uz=(()=>{class n{constructor(e){(0,kp.KN)("angularfire",wn.q4.full,"core"),(0,kp.KN)("angularfire",wn.q4.full,"app"),(0,kp.KN)("angular",s.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Lz,Vz]}),n})();function jz(n,...t){return{ngModule:Uz,providers:[{provide:wk,useFactory:Bz(n),multi:!0,deps:[s.R0b,s.zs3,wn.HU,...t]}]}}const Hz=(0,wn.u3)(kp.ZF,!0),G2=new Map,Gz={activated:!1,tokenObservers:[]},$z={initialized:!1,enabled:!1};function Kr(n){return G2.get(n)||Gz}function Ll(n,t){G2.set(n,t)}function c1(){return $z}class Yz{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ge.Z)(function*(){e.stop();try{e.pending=new Ht.BH,yield function Kz(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Ht.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const so=new Ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function z2(n){if(!Kr(n).activated)throw so.create("use-before-activation",{appName:n.name})}function Ek(n,t){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,ge.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const o={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,o)}catch(I){throw so.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==u.status)throw so.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(I){throw so.create("fetch-parse-error",{originalErrorMessage:I.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw so.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(p[1]),C=Date.now();return{token:h.attestationToken,expireTimeMillis:C+y,issuedAtTimeMillis:C}}),Tk.apply(this,arguments)}function t8(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const t0="firebase-app-check-store";let h1=null;function W2(){return h1||(h1=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(so.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(t0,{keyPath:"compositeKey"})}}catch(e){t(so.create("storage-open",{originalErrorMessage:e.message}))}}),h1)}function Sk(){return Sk=(0,ge.Z)(function*(n,t){const i=(yield W2()).transaction(t0,"readwrite"),o=i.objectStore(t0).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=p=>{u()},i.onerror=p=>{var y;h(so.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})}),Sk.apply(this,arguments)}const n0=new xc.Yd("@firebase/app-check");function J2(n,t){return(0,Ht.hl)()?function o8(n,t){return function Z2(n,t){return Sk.apply(this,arguments)}(function K2(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{n0.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Q2(){return c1().enabled}function X2(){return xk.apply(this,arguments)}function xk(){return xk=(0,ge.Z)(function*(){const n=c1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),xk.apply(this,arguments)}const h8={error:"UNKNOWN_ERROR"};function f8(n){return Ht.US.encodeString(JSON.stringify(n),!1)}function f1(n){return kk.apply(this,arguments)}function kk(){return kk=(0,ge.Z)(function*(n,t=!1){const e=n.app;z2(e);const i=Kr(e);let o,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&p1(p)&&(r=p)}if(!t&&r&&p1(r))return{token:r.token};let h,u=!1;if(Q2()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Ek(t8(e,yield X2()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),u=!0);const p=yield i.exchangeTokenPromise;return yield J2(e,p),Ll(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),u=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?n0.warn(p.message):n0.error(p),o=p}return r?(h={token:r.token},Ll(e,Object.assign(Object.assign({},i),{token:r})),yield J2(e,r)):h=g8(o),u&&tV(e,h),h}),kk.apply(this,arguments)}function Nk(n,t){const e=Kr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ll(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function eV(n){const{app:t}=n,e=Kr(t);let i=e.tokenRefresher;i||(i=function p8(n){const{app:t}=n;return new Yz((0,ge.Z)(function*(){let i;if(i=Kr(t).token?yield f1(n,!0):yield f1(n),i.error)throw i.error}),()=>!0,()=>{const e=Kr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ll(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function tV(n,t){const e=Kr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function p1(n){return n.expireTimeMillis-Date.now()>0}function g8(n){return{token:f8(h8),error:n}}class m8{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Kr(this.app);for(const e of t)Nk(this.app,e.next);return Promise.resolve()}}const cV="app-check-internal";!function x8(){(0,xs._registerComponent)(new hh.wA("app-check",n=>function _8(n,t){return new m8(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(cV).initialize()})),(0,xs._registerComponent)(new hh.wA(cV,n=>function y8(n){return{getToken:t=>f1(n,t),addTokenListener:t=>function Ok(n,t,e,i){const{app:r}=n,o=Kr(r),u={next:e,error:i,type:t};if(Ll(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&p1(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),eV(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>eV(n))}(n,"INTERNAL",t),removeTokenListener:t=>Nk(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,xs.registerVersion)("@firebase/app-check","0.5.4")}();class m1{constructor(){return(0,wn.vb)("app-check")}}"undefined"!=typeof window&&window;var P8=F(127);const dV=new s.OlP("angularfire2.auth.use-emulator"),hV=new s.OlP("angularfire2.auth.settings"),fV=new s.OlP("angularfire2.auth.tenant-id"),pV=new s.OlP("angularfire2.auth.langugage-code"),gV=new s.OlP("angularfire2.auth.use-device-language"),mV=new s.OlP("angularfire.auth.persistence"),_V=(n,t,e,i,r,o,u,h)=>(0,no.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,o&&p.useDeviceLanguage(),u)for(const[y,C]of Object.entries(u))p.settings[y]=C;return h&&p.setPersistence(h),p},[e,i,r,o,u,h]);let yV=(()=>{class n{constructor(e,i,r,o,u,h,p,y,C,I,N,P){const U=new Ot.x,W=ht(void 0).pipe((0,a1.Q)(u.outsideAngular),ms(()=>o.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,ut.U)(()=>(0,no.on)(e,o,i)),(0,ut.U)(oe=>_V(oe,o,h,y,C,I,p,N)),V2({bufferSize:1,refCount:!1}));if(pa(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ht(null);else{W.pipe(xp()).subscribe();const xe=W.pipe(ms(Se=>Se.getRedirectResult().then(Ze=>Ze,()=>null)),wn.iC,V2({bufferSize:1,refCount:!1})),De=W.pipe(ms(Se=>new yn.y(Ze=>({unsubscribe:o.runOutsideAngular(()=>Se.onAuthStateChanged(ze=>Ze.next(ze),ze=>Ze.error(ze),()=>Ze.complete()))})))),je=W.pipe(ms(Se=>new yn.y(Ze=>({unsubscribe:o.runOutsideAngular(()=>Se.onIdTokenChanged(ze=>Ze.next(ze),ze=>Ze.error(ze),()=>Ze.complete()))}))));this.authState=xe.pipe(j2(De),(0,bk.R)(u.outsideAngular),(0,a1.Q)(u.insideAngular)),this.user=xe.pipe(j2(je),(0,bk.R)(u.outsideAngular),(0,a1.Q)(u.insideAngular)),this.idToken=this.user.pipe(ms(Se=>Se?(0,jn.D)(Se.getIdToken()):ht(null))),this.idTokenResult=this.user.pipe(ms(Se=>Se?(0,jn.D)(Se.getIdTokenResult()):ht(null))),this.credential=(0,jf.T)(xe,U,this.authState.pipe(Pi(Se=>!Se))).pipe((0,ut.U)(Se=>(null==Se?void 0:Se.user)?Se:null),(0,bk.R)(u.outsideAngular),(0,a1.Q)(u.insideAngular))}return(0,no.pX)(this,W,o,{spy:{apply:(oe,xe,De)=>{(oe.startsWith("signIn")||oe.startsWith("createUser"))&&De.then(je=>U.next(je))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(no.Dh),s.LFG(no.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(wn.HU),s.LFG(dV,8),s.LFG(hV,8),s.LFG(fV,8),s.LFG(pV,8),s.LFG(gV,8),s.LFG(mV,8),s.LFG(m1,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function vV(n,t){return function L8(n,t=gf.z){return new yn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function Vk(n,t){return vV(n,t).pipe((0,ut.U)(e=>({payload:e,type:"query"})))}function _1(n,t){return Vk(n,t).pipe(as(void 0),vm(),(0,ut.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const p=r.find(C=>C.doc.ref.isEqual(u.ref)),y=null==e?void 0:e.payload.docs.find(C=>C.ref.isEqual(u.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(u.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function bV(n,t,e){return _1(n,e).pipe(bm((i,r)=>function B8(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function U8(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Bk(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Bk(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Bk(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),vf(),(0,ut.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function Bk(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function wV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class CV{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=_1(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ut.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(as(void 0),vm(),Pi(([i,r])=>r.length>0||!i),(0,ut.U)(([i,r])=>r),wn.iC)}auditTrail(t){return this.stateChanges(t).pipe(bm((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=wV(t);return bV(this.query,e,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(t={}){return Vk(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),wn.iC)}get(t){return(0,jn.D)(this.query.get(t)).pipe(wn.iC)}add(t){return this.ref.add(t)}doc(t){return new DV(this.ref.doc(t),this.afs)}}class DV{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=SV(i,e);return new CV(r,o,this.afs)}snapshotChanges(){return function V8(n,t){return vV(n,t).pipe(as(void 0),vm(),(0,ut.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ut.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,jn.D)(this.ref.get(t)).pipe(wn.iC)}}class j8{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?_1(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Pi(e=>e.length>0),wn.iC):_1(this.query,this.afs.schedulers.outsideAngular).pipe(wn.iC)}auditTrail(t){return this.stateChanges(t).pipe(bm((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=wV(t);return bV(this.query,e,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(t={}){return Vk(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),wn.iC)}get(t){return(0,jn.D)(this.query.get(t)).pipe(wn.iC)}}const EV=new s.OlP("angularfire2.enableFirestorePersistence"),TV=new s.OlP("angularfire2.firestore.persistenceSettings"),H8=new s.OlP("angularfire2.firestore.settings"),G8=new s.OlP("angularfire2.firestore.use-emulator");function SV(n,t=(e=>e)){return{query:t(n),ref:n}}let IV=(()=>{class n{constructor(e,i,r,o,u,h,p,y,C,I,N,P,U,W,oe,xe,De){this.schedulers=p;const je=(0,no.on)(e,h,i),Se=C;I&&_V(je,h,N,U,W,oe,P,xe),[this.firestore,this.persistenceEnabled$]=(0,no.cc)(`${je.name}.firestore`,"AngularFirestore",je.name,()=>{const Ze=h.runOutsideAngular(()=>je.firestore());if(o&&Ze.settings(o),Se&&Ze.useEmulator(...Se),r&&!pa(u)){const ze=()=>{try{return(0,jn.D)(Ze.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(Dt){return"undefined"!=typeof console&&console.warn(Dt),ht(!1)}};return[Ze,h.runOutsideAngular(ze)]}return[Ze,ht(!1)]},[o,Se,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=SV(r,i),h=this.schedulers.ngZone.run(()=>o);return new CV(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new j8(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new DV(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(no.Dh),s.LFG(no.xv,8),s.LFG(EV,8),s.LFG(H8,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(wn.HU),s.LFG(TV,8),s.LFG(G8,8),s.LFG(yV,8),s.LFG(dV,8),s.LFG(hV,8),s.LFG(fV,8),s.LFG(pV,8),s.LFG(gV,8),s.LFG(mV,8),s.LFG(m1,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$8=(()=>{class n{constructor(){P8.Z.registerVersion("angularfire",wn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:EV,useValue:!0},{provide:TV,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[IV]}),n})();const Uk_firebase={projectId:"unicar-c3d27",appId:"1:776079287373:web:a4289b2ce8785eb49b6804",storageBucket:"unicar-c3d27.appspot.com",locationId:"europe-west",apiKey:"AIzaSyB6TLp1k0go6GXol060-dY1kkfk3Fq4_Vo",authDomain:"unicar-c3d27.firebaseapp.com",messagingSenderId:"776079287373",measurementId:"G-Y51FXHQKTR"};var Qu=F(760);class AV{constructor(){return(0,wn.vb)("auth")}}var Z8={includeMetadataChanges:!1};function RV(n,t){return void 0===t&&(t={}),function e5(n){return function Gk(n,t){return void 0===t&&(t=Z8),new yn.y(function(e){return{unsubscribe:pk(n,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)})}})}(n,{includeMetadataChanges:!0}).pipe((0,ut.U)(function(t){return t.docs}))}(n).pipe((0,ut.U)(function(e){return e.map(function(i){return function xV(n,t){void 0===t&&(t={});var e=n.data();return!n.exists()||"object"!=typeof e||null===e||t.idField&&(e[t.idField]=n.id),e}(i,t)})}))}class Fc{constructor(t){return t}}const PV="firestore",qk=new s.OlP("angularfire2.firestore-instances");function r5(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Fc(i)}}const s5={provide:class t5{constructor(){return(0,wn.vb)(PV)}},deps:[[new s.FiY,qk]]},o5={provide:Fc,useFactory:function n5(n,t){const e=(0,wn.JM)(PV,n,t);return e&&new Fc(e)},deps:[[new s.FiY,qk],I_]};let a5=(()=>{class n{constructor(){(0,kp.KN)("angularfire",wn.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[o5,s5]}),n})();function l5(n,...t){return{ngModule:a5,providers:[{provide:qk,useFactory:r5(n),multi:!0,deps:[s.R0b,s.zs3,wn.HU,H2,[new s.FiY,AV],[new s.FiY,m1],...t]}]}}const FV=(0,wn.u3)(RV,!0),Wk=(0,wn.u3)(Wb,!0),c5=(0,wn.u3)(F$,!0);var u5=F(9672);function LV(n,t,e){n?(0,u5.f)(e,n,t):t()}function r0(n,t){const e=(0,Ga.m)(n)?n:()=>n,i=r=>r.error(e());return new yn.y(t?r=>t.schedule(i,0,r):i)}function VV(n){return new yn.y(t=>{(0,pi.Xf)(n()).subscribe(t)})}function BV(){return(0,Yi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,pn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class h5 extends yn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Yi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Br.w0;const e=this.getSubject();t.add(this.source.subscribe((0,pn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Br.w0.EMPTY)}return t}refCount(){return BV()(this)}}function Xu(n){return(0,Yi.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,pn.x)(e,void 0,void 0,u=>{o=(0,pi.Xf)(n(u,Xu(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function M_(n,t){return(0,Ga.m)(t)?(0,Ki.z)(n,t,1):(0,Ki.z)(n,1)}function Yk(n){return n<=0?()=>Al.E:(0,Yi.e)((t,e)=>{let i=[];t.subscribe((0,pn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function UV(n){return(0,Yi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class ed{constructor(t,e){this.id=t,this.url=e}}class Kk extends ed{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class s0 extends ed{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jV extends ed{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class p5 extends ed{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class g5 extends ed{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m5 extends ed{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _5 extends ed{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class y5 extends ed{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v5 extends ed{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HV{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class GV{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class b5{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w5{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C5{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D5{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $V{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ln="primary";class E5{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function A_(n){return new E5(n)}const zV="ngNavigationCancelingError";function Jk(n){const t=Error("NavigationCancelingError: "+n);return t[zV]=!0,t}function S5(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Lc(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!qV(n[r],t[r]))return!1;return!0}function qV(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function WV(n){return Array.prototype.concat.apply([],n)}function ZV(n){return n.length>0?n[n.length-1]:null}function _s(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Vc(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,jn.D)(Promise.resolve(n)):ht(n)}const A5={exact:function JV(n,t,e){if(!Np(n.segments,t.segments)||!y1(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!JV(n.children[i],t.children[i],e))return!1;return!0},subset:QV},YV={exact:function x5(n,t){return Lc(n,t)},subset:function k5(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>qV(n[e],t[e]))},ignored:()=>!0};function KV(n,t,e){return A5[e.paths](n.root,t.root,e.matrixParams)&&YV[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function QV(n,t,e){return XV(n,t,t.segments,e)}function XV(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Np(r,e)||t.hasChildren()||!y1(r,e,i))}if(n.segments.length===e.length){if(!Np(n.segments,e)||!y1(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!QV(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Np(n.segments,r)&&y1(n.segments,r,i)&&n.children[ln])&&XV(n.children[ln],t,o,i)}}function y1(n,t,e){return t.every((i,r)=>YV[e](n[r].parameters,i.parameters))}class Op{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=A_(this.queryParams)),this._queryParamMap}toString(){return R5.serialize(this)}}class mn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,_s(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return v1(this)}}class o0{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=A_(this.parameters)),this._parameterMap}toString(){return rB(this)}}function Np(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class eB{}class tB{parse(t){const e=new G5(t);return new Op(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${a0(t.root,!0)}`,i=function L5(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${b1(e)}=${b1(r)}`).join("&"):`${b1(e)}=${b1(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function P5(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const R5=new tB;function v1(n){return n.segments.map(t=>rB(t)).join("/")}function a0(n,t){if(!n.hasChildren())return v1(n);if(t){const e=n.children[ln]?a0(n.children[ln],!1):"",i=[];return _s(n.children,(r,o)=>{o!==ln&&i.push(`${o}:${a0(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function N5(n,t){let e=[];return _s(n.children,(i,r)=>{r===ln&&(e=e.concat(t(i,r)))}),_s(n.children,(i,r)=>{r!==ln&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===ln?[a0(n.children[ln],!1)]:[`${r}:${a0(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ln]?`${v1(n)}/${e[0]}`:`${v1(n)}/(${e.join("//")})`}}function nB(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function b1(n){return nB(n).replace(/%3B/gi,";")}function Qk(n){return nB(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function w1(n){return decodeURIComponent(n)}function iB(n){return w1(n.replace(/\+/g,"%20"))}function rB(n){return`${Qk(n.path)}${function F5(n){return Object.keys(n).map(t=>`;${Qk(t)}=${Qk(n[t])}`).join("")}(n.parameters)}`}const V5=/^[^\/()?;=#]+/;function C1(n){const t=n.match(V5);return t?t[0]:""}const B5=/^[^=?&#]+/,j5=/^[^&#]+/;class G5{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ln]=new mn(t,e)),i}parseSegment(){const t=C1(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new o0(w1(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=C1(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=C1(this.remaining);r&&(i=r,this.capture(i))}t[w1(e)]=w1(i)}parseQueryParam(t){const e=function U5(n){const t=n.match(B5);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function H5(n){const t=n.match(j5);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=iB(e),o=iB(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=C1(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ln);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[ln]:new mn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class sB{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xk(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Xk(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=eO(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return eO(t,this._root).map(e=>e.value)}}function Xk(n,t){if(n===t.value)return t;for(const e of t.children){const i=Xk(n,e);if(i)return i}return null}function eO(n,t){if(n===t.value)return[t];for(const e of t.children){const i=eO(n,e);if(i.length)return i.unshift(t),i}return[]}class td{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function x_(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class oB extends sB{constructor(t,e){super(t),this.snapshot=e,tO(this,t)}toString(){return this.snapshot.toString()}}function aB(n,t){const e=function $5(n,t){const u=new D1([],{},{},"",{},ln,t,null,n.root,-1,{});return new cB("",new td(u,[]))}(n,t),i=new Ni([new o0("",{})]),r=new Ni({}),o=new Ni({}),u=new Ni({}),h=new Ni(""),p=new Za(i,r,u,h,o,ln,t,e.root);return p.snapshot=e.root,new oB(new td(p,[]),e)}class Za{constructor(t,e,i,r,o,u,h,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(t=>A_(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(t=>A_(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lB(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function z5(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class D1{constructor(t,e,i,r,o,u,h,p,y,C,I){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=C,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=A_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=A_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cB extends sB{constructor(t,e){super(e),this.url=t,tO(this,e)}toString(){return uB(this._root)}}function tO(n,t){t.value._routerState=n,t.children.forEach(e=>tO(n,e))}function uB(n){const t=n.children.length>0?` { ${n.children.map(uB).join(", ")} } `:"";return`${n.value}${t}`}function nO(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Lc(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Lc(t.params,e.params)||n.params.next(e.params),function I5(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Lc(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Lc(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function iO(n,t){const e=Lc(n.params,t.params)&&function O5(n,t){return Np(n,t)&&n.every((e,i)=>Lc(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||iO(n.parent,t.parent))}function l0(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function W5(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return l0(n,i,r);return l0(n,i)})}(n,t,e);return new td(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>l0(n,h)),u}}const i=function Z5(n){return new Za(new Ni(n.url),new Ni(n.params),new Ni(n.queryParams),new Ni(n.fragment),new Ni(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>l0(n,o));return new td(i,r)}}function E1(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function c0(n){return"object"==typeof n&&null!=n&&n.outlets}function rO(n,t,e,i,r){let o={};if(i&&_s(i,(h,p)=>{o[p]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`}),n===t)return new Op(e,o,r);const u=dB(n,t,e);return new Op(u,o,r)}function dB(n,t,e){const i={};return _s(n.children,(r,o)=>{i[o]=r===t?e:dB(r,t,e)}),new mn(n.segments,i)}class hB{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&E1(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(c0);if(r&&r!==ZV(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sO{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function fB(n,t,e){if(n||(n=new mn([],{})),0===n.segments.length&&n.hasChildren())return T1(n,t,e);const i=function eq(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(c0(h))break;const p=`${h}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!gB(p,y,u))return o;i+=2}else{if(!gB(p,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new mn(n.segments.slice(0,i.pathIndex),{});return o.children[ln]=new mn(n.segments.slice(i.pathIndex),n.children),T1(o,0,r)}return i.match&&0===r.length?new mn(n.segments,{}):i.match&&!n.hasChildren()?oO(n,t,e):i.match?T1(n,0,r):oO(n,t,e)}function T1(n,t,e){if(0===e.length)return new mn(n.segments,{});{const i=function X5(n){return c0(n[0])?n[0].outlets:{[ln]:n}}(e),r={};return _s(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=fB(n.children[u],t,o))}),_s(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new mn(n.segments,r)}}function oO(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(c0(o)){const p=tq(o.outlets);return new mn(i,p)}if(0===r&&E1(e[0])){i.push(new o0(n.segments[t].path,pB(e[0]))),r++;continue}const u=c0(o)?o.outlets[ln]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&E1(h)?(i.push(new o0(u,pB(h))),r+=2):(i.push(new o0(u,{})),r++)}return new mn(i,{})}function tq(n){const t={};return _s(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=oO(new mn([],{}),0,e))}),t}function pB(n){const t={};return _s(n,(e,i)=>t[i]=`${e}`),t}function gB(n,t,e){return n==e.path&&Lc(t,e.parameters)}class iq{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),nO(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=x_(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),_s(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=x_(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=x_(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=x_(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new D5(o.value.snapshot))}),t.children.length&&this.forwardEvent(new w5(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(nO(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),nO(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=function rq(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),p=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=p,u.outlet&&u.outlet.activateWith(r,p),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class aO{constructor(t,e){this.routes=t,this.module=e}}function Nh(n){return"function"==typeof n}function Rp(n){return n instanceof Op}const u0=Symbol("INITIAL_VALUE");function d0(){return ms(n=>function Zk(...n){const t=(0,Es.yG)(n),e=(0,Es.jO)(n),{args:i,keys:r}=ou(n);if(0===i.length)return(0,jn.D)([],t);const o=new yn.y(function d5(n,t,e=Du.y){return i=>{LV(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let p=0;p<r;p++)LV(t,()=>{const y=(0,jn.D)(n[p],t);let C=!1;y.subscribe((0,pn.x)(i,I=>{o[p]=I,C||(C=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>au(r,u):Du.y));return e?o.pipe(dl(e)):o}(n.map(t=>t.pipe((0,ni.q)(1),as(u0)))).pipe(bm((t,e)=>{let i=!1;return e.reduce((r,o,u)=>r!==u0?r:(o===u0&&(i=!0),i||!1!==o&&u!==e.length-1&&!Rp(o)?r:o),t)},u0),Pi(t=>t!==u0),(0,ut.U)(t=>Rp(t)?t:!0===t),(0,ni.q)(1)))}class uq{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new h0,this.attachRef=null}}class h0{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new uq,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let lO=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=o||ln,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,p=new dq(e,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(h0),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class dq{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Za?this.route:t===h0?this.childContexts:this.parent.get(t,e)}}let mB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[lO],encapsulation:2}),n})();function _B(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];hq(i,fq(t,i))}}function hq(n,t){n.children&&_B(n.children,t)}function fq(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function cO(n){const t=n.children&&n.children.map(cO),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ln&&(e.component=mB),e}function Ya(n){return n.outlet||ln}function yB(n,t){const e=n.filter(i=>Ya(i)===t);return e.push(...n.filter(i=>Ya(i)!==t)),e}const vB={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function S1(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},vB):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||S5)(e,n,t);if(!o)return Object.assign({},vB);const u={};_s(o.posParams,(p,y)=>{u[y]=p.path});const h=o.consumed.length>0?Object.assign(Object.assign({},u),o.consumed[o.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function I1(n,t,e,i,r="corrected"){if(e.length>0&&function mq(n,t,e){return e.some(i=>M1(n,t,i)&&Ya(i)!==ln)}(n,e,i)){const u=new mn(t,function gq(n,t,e,i){const r={};r[ln]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Ya(o)!==ln){const u=new mn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[Ya(o)]=u}return r}(n,t,i,new mn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function _q(n,t,e){return e.some(i=>M1(n,t,i))}(n,e,i)){const u=new mn(n.segments,function pq(n,t,e,i,r,o){const u={};for(const h of i)if(M1(n,e,h)&&!r[Ya(h)]){const p=new mn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[Ya(h)]=p}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new mn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function M1(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function bB(n,t,e,i){return!!(Ya(n)===i||i!==ln&&M1(t,e,n))&&("**"===n.path||S1(t,n,e).matched)}function wB(n,t,e){return 0===t.length&&!n.children[e]}class A1{constructor(t){this.segmentGroup=t||null}}class CB{constructor(t){this.urlTree=t}}function f0(n){return r0(new A1(n))}function DB(n){return r0(new CB(n))}function yq(n){return r0(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class wq{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=I1(this.urlTree.root,[],[],this.config).segmentGroup,e=new mn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ln).pipe((0,ut.U)(o=>this.createUrlTree(uO(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xu(o=>{if(o instanceof CB)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof A1?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ln).pipe((0,ut.U)(r=>this.createUrlTree(uO(r),t.queryParams,t.fragment))).pipe(Xu(r=>{throw r instanceof A1?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new mn([],{[ln]:t}):t;return new Op(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,ut.U)(o=>new mn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,jn.D)(r).pipe(M_(o=>{const u=i.children[o],h=yB(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,ut.U)(p=>({segment:p,outlet:o})))}),bm((o,u)=>(o[u.outlet]=u.segment,o),{}),function f5(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Pi((r,o)=>n(r,o,i)):Du.y,Yk(1),e?B2(t):U2(()=>new l1))}())}expandSegment(t,e,i,r,o,u){return(0,jn.D)(i).pipe(M_(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(Xu(y=>{if(y instanceof A1)return ht(null);throw y}))),xp(h=>!!h),Xu((h,p)=>{if(h instanceof l1||"EmptyError"===h.name)return wB(e,r,o)?ht(new mn([],{})):f0(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return bB(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):f0(e):f0(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?DB(o):this.lineralizeSegments(i,o).pipe((0,Ki.z)(u=>{const h=new mn(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:C}=S1(e,r,o);if(!h)return f0(e);const I=this.applyRedirectCommands(p,r.redirectTo,C);return r.redirectTo.startsWith("/")?DB(I):this.lineralizeSegments(r,I).pipe((0,Ki.z)(N=>this.expandSegment(t,e,i,N.concat(y),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ht(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,ut.U)(I=>(i._loadedConfig=I,new mn(r,{})))):ht(new mn(r,{}));const{matched:u,consumedSegments:h,remainingSegments:p}=S1(e,i,r);return u?this.getChildConfig(t,i,r).pipe((0,Ki.z)(C=>{const I=C.module,N=C.routes,{segmentGroup:P,slicedSegments:U}=I1(e,h,p,N),W=new mn(P.segments,P.children);if(0===U.length&&W.hasChildren())return this.expandChildren(I,N,W).pipe((0,ut.U)(je=>new mn(h,je)));if(0===N.length&&0===U.length)return ht(new mn(h,{}));const oe=Ya(i)===o;return this.expandSegment(I,W,N,U,oe?ln:o,!0).pipe((0,ut.U)(De=>new mn(h.concat(De.segments),De.children)))})):f0(e)}getChildConfig(t,e,i){return e.children?ht(new aO(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ht(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Ki.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,ut.U)(o=>(e._loadedConfig=o,o))):function vq(n){return r0(Jk(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):ht(new aO([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return ht(!0);const o=r.map(u=>{const h=t.get(u);let p;if(function oq(n){return n&&Nh(n.canLoad)}(h))p=h.canLoad(e,i);else{if(!Nh(h))throw new Error("Invalid CanLoad guard");p=h(e,i)}return Vc(p)});return ht(o).pipe(d0(),(0,Ri.b)(u=>{if(!Rp(u))return;const h=Jk(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,ut.U)(u=>!0===u))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ht(i);if(r.numberOfChildren>1||!r.children[ln])return yq(t.redirectTo);r=r.children[ln]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Op(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return _s(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return _s(e.children,(h,p)=>{u[p]=this.createSegmentGroup(t,h,i,r)}),new mn(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function uO(n){const t={};for(const i of Object.keys(n.children)){const o=uO(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Cq(n){if(1===n.numberOfChildren&&n.children[ln]){const t=n.children[ln];return new mn(n.segments.concat(t.segments),t.children)}return n}(new mn(n.segments,t))}class EB{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class x1{constructor(t,e){this.component=t,this.route=e}}function Eq(n,t,e){const i=n._root;return p0(i,t?t._root:null,e,[i.value])}function k1(n,t,e){const i=function Sq(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function p0(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=x_(t);return n.children.forEach(u=>{(function Iq(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const p=function Mq(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Np(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Np(n.url,t.url)||!Lc(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iO(n,t)||!Lc(n.queryParams,t.queryParams);default:return!iO(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new EB(i)):(o.data=u.data,o._resolvedData=u._resolvedData),p0(n,t,o.component?h?h.children:null:e,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new x1(h.outlet.component,u))}else u&&g0(t,h,r),r.canActivateChecks.push(new EB(i)),p0(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),_s(o,(u,h)=>g0(u,e.getContext(h),r)),r}function g0(n,t,e){const i=x_(n),r=n.value;_s(i,(o,u)=>{g0(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new x1(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class Lq{}function TB(n){return new yn.y(t=>t.error(n))}class Bq{constructor(t,e,i,r,o,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}recognize(){const t=I1(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ln);if(null===e)return null;const i=new D1([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new td(i,e),o=new cB(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=lB(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const u=e.children[o],h=yB(t,o),p=this.processSegmentGroup(h,u,o);if(null===p)return null;i.push(...p)}const r=SB(i);return function Uq(n){n.sort((t,e)=>t.value.outlet===ln?-1:e.value.outlet===ln?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const u=this.processSegmentAgainstRoute(o,e,i,r);if(null!==u)return u}return wB(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!bB(t,e,i,r))return null;let o,u=[],h=[];if("**"===t.path){const P=i.length>0?ZV(i).parameters:{};o=new D1(i,P,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,AB(t),Ya(t),t.component,t,IB(e),MB(e)+i.length,xB(t))}else{const P=S1(e,t,i);if(!P.matched)return null;u=P.consumedSegments,h=P.remainingSegments,o=new D1(u,P.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,AB(t),Ya(t),t.component,t,IB(e),MB(e)+u.length,xB(t))}const p=function jq(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:y,slicedSegments:C}=I1(e,u,h,p.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution);if(0===C.length&&y.hasChildren()){const P=this.processChildren(p,y);return null===P?null:[new td(o,P)]}if(0===p.length&&0===C.length)return[new td(o,[])];const I=Ya(t)===r,N=this.processSegment(p,y,C,I?ln:r);return null===N?null:[new td(o,N)]}}function Hq(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function SB(n){const t=[],e=new Set;for(const i of n){if(!Hq(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=SB(i.children);t.push(new td(i.value,r))}return t.filter(i=>!e.has(i))}function IB(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function MB(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function AB(n){return n.data||{}}function xB(n){return n.resolve||{}}function kB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function dO(n){return ms(t=>{const e=n(t);return e?(0,jn.D)(e).pipe((0,ut.U)(()=>t)):ht(t)})}class Kq extends class Yq{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const hO=new s.OlP("ROUTES");class OB{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,ut.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=o.create(t);return new aO(WV(u.injector.get(hO,void 0,s.XFs.Self|s.XFs.Optional)).map(cO),u)}),Xu(o=>{throw e._loader$=void 0,o}));return e._loader$=new h5(r,()=>new Ot.x).pipe(BV()),e._loader$}loadModuleFactory(t){return Vc(t()).pipe((0,Ki.z)(e=>e instanceof s.YKP?ht(e):(0,jn.D)(this.compiler.compileModuleAsync(e))))}}class Qq{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Xq(n){throw n}function e4(n,t,e){return t.parse("/")}function NB(n,t){return ht(null)}const t4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},n4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yi=(()=>{class n{constructor(e,i,r,o,u,h,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ot.x,this.errorHandler=Xq,this.malformedUriErrorHandler=e4,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:NB,afterPreactivation:NB},this.urlHandlingStrategy=new Qq,this.routeReuseStrategy=new Kq,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const I=u.get(s.R0b);this.isNgZoneEnabled=I instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function M5(){return new Op(new mn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new OB(u,h,N=>this.triggerEvent(new HV(N)),N=>this.triggerEvent(new GV(N))),this.routerState=aB(this.currentUrlTree,this.rootComponentType),this.transitions=new Ni({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Pi(r=>0!==r.id),(0,ut.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ms(r=>{let o=!1,u=!1;return ht(r).pipe((0,Ri.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ms(h=>{const p=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return RB(h.source)&&(this.browserUrlTree=h.extractedUrl),ht(h).pipe(ms(I=>{const N=this.transitions.getValue();return i.next(new Kk(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),N!==this.transitions.getValue()?Al.E:Promise.resolve(I)}),function Dq(n,t,e,i){return ms(r=>function bq(n,t,e,i,r){return new wq(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,ut.U)(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ri.b)(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function Gq(n,t,e,i,r){return(0,Ki.z)(o=>function Vq(n,t,e,i,r="emptyOnly",o="legacy"){try{const u=new Bq(n,t,e,i,r,o).recognize();return null===u?TB(new Lq):ht(u)}catch(u){return TB(u)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe((0,ut.U)(u=>Object.assign(Object.assign({},o),{targetSnapshot:u}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ri.b)(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(P,I)}this.browserUrlTree=I.urlAfterRedirects}const N=new g5(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(N)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:P,source:U,restoredState:W,extras:oe}=h,xe=new Kk(N,this.serializeUrl(P),U,W);i.next(xe);const De=aB(P,this.rootComponentType).snapshot;return ht(Object.assign(Object.assign({},h),{targetSnapshot:De,urlAfterRedirects:P,extras:Object.assign(Object.assign({},oe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Al.E}),dO(h=>{const{targetSnapshot:p,id:y,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:N,replaceUrl:P}}=h;return this.hooks.beforePreactivation(p,{navigationId:y,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!N,replaceUrl:!!P})}),(0,Ri.b)(h=>{const p=new m5(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,ut.U)(h=>Object.assign(Object.assign({},h),{guards:Eq(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function Aq(n,t){return(0,Ki.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?ht(Object.assign(Object.assign({},e),{guardsResult:!0})):function xq(n,t,e,i){return(0,jn.D)(n).pipe((0,Ki.z)(r=>function Fq(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ht(o.map(h=>{const p=k1(h,t,r);let y;if(function cq(n){return n&&Nh(n.canDeactivate)}(p))y=Vc(p.canDeactivate(n,t,e,i));else{if(!Nh(p))throw new Error("Invalid CanDeactivate guard");y=Vc(p(n,t,e,i))}return y.pipe(xp())})).pipe(d0()):ht(!0)}(r.component,r.route,e,t,i)),xp(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Ki.z)(h=>h&&function sq(n){return"boolean"==typeof n}(h)?function kq(n,t,e,i){return(0,jn.D)(t).pipe(M_(r=>Ef(function Nq(n,t){return null!==n&&t&&t(new b5(n)),ht(!0)}(r.route.parent,i),function Oq(n,t){return null!==n&&t&&t(new C5(n)),ht(!0)}(r.route,i),function Pq(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function Tq(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>VV(()=>ht(u.guards.map(p=>{const y=k1(p,u.node,e);let C;if(function lq(n){return n&&Nh(n.canActivateChild)}(y))C=Vc(y.canActivateChild(i,n));else{if(!Nh(y))throw new Error("Invalid CanActivateChild guard");C=Vc(y(i,n))}return C.pipe(xp())})).pipe(d0())));return ht(o).pipe(d0())}(n,r.path,e),function Rq(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ht(!0);const r=i.map(o=>VV(()=>{const u=k1(o,t,e);let h;if(function aq(n){return n&&Nh(n.canActivate)}(u))h=Vc(u.canActivate(t,n));else{if(!Nh(u))throw new Error("Invalid CanActivate guard");h=Vc(u(t,n))}return h.pipe(xp())}));return ht(r).pipe(d0())}(n,r.route,e))),xp(r=>!0!==r,!0))}(i,o,n,t):ht(h)),(0,ut.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Ri.b)(h=>{if(Rp(h.guardsResult)){const y=Jk(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw y.url=h.guardsResult,y}const p=new _5(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),Pi(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),dO(h=>{if(h.guards.canActivateChecks.length)return ht(h).pipe((0,Ri.b)(p=>{const y=new y5(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),ms(p=>{let y=!1;return ht(p).pipe(function $q(n,t){return(0,Ki.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ht(e);let o=0;return(0,jn.D)(r).pipe(M_(u=>function zq(n,t,e,i){return function qq(n,t,e,i){const r=kB(n);if(0===r.length)return ht({});const o={};return(0,jn.D)(r).pipe((0,Ki.z)(u=>function Wq(n,t,e,i){const r=k1(n,t,i);return Vc(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,Ri.b)(h=>{o[u]=h}))),Yk(1),(0,Ki.z)(()=>kB(o).length===r.length?ht(o):Al.E))}(n._resolve,n,t,i).pipe((0,ut.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),lB(n,e).resolve),null)))}(u.route,i,n,t)),(0,Ri.b)(()=>o++),Yk(1),(0,Ki.z)(u=>o===r.length?ht(e):Al.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ri.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,Ri.b)(p=>{const y=new v5(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),dO(h=>{const{targetSnapshot:p,id:y,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:N,replaceUrl:P}}=h;return this.hooks.afterPreactivation(p,{navigationId:y,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!N,replaceUrl:!!P})}),(0,ut.U)(h=>{const p=function q5(n,t,e){const i=l0(n,t._root,e?e._root:void 0);return new oB(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:p})}),(0,Ri.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,ut.U)(i=>(new iq(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Ri.b)({next(){o=!0},complete(){o=!0}}),UV(()=>{var h;o||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),Xu(h=>{if(u=!0,function T5(n){return n&&n[zV]}(h)){const p=Rp(h.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const y=new jV(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(y),p?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||RB(r.source)};this.scheduleNavigation(C,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new p5(r.id,this.serializeUrl(r.extractedUrl),h);i.next(p);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return Al.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const p=Object.assign({},u);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(o.state=p)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){_B(e),this.config=e.map(cO),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:p}=i,y=r||this.routerState.root,C=p?this.currentUrlTree.fragment:u;let I=null;switch(h){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}return null!==I&&(I=this.removeEmptyProps(I)),function Y5(n,t,e,i,r){if(0===e.length)return rO(t.root,t.root,t.root,i,r);const o=function K5(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hB(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return _s(o.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new hB(e,t,i)}(e);if(o.toRoot())return rO(t.root,t.root,new mn([],{}),i,r);const u=function J5(n,t,e){if(n.isAbsolute)return new sO(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new sO(o,o===t.root,0)}const i=E1(n.commands[0])?0:1;return function Q5(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new sO(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),h=u.processChildren?T1(u.segmentGroup,u.index,o.commands):fB(u.segmentGroup,u.index,o.commands);return rO(t.root,u.segmentGroup,h,i,r)}(y,this.currentUrlTree,e,I,null!=C?C:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Rp(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function r4(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},t4):!1===i?Object.assign({},n4):i,Rp(e))return KV(this.currentUrlTree,e,r);const o=this.parseUrl(e);return KV(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new s0(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){var h,p;if(this.disposed)return Promise.resolve(!1);let y,C,I;u?(y=u.resolve,C=u.reject,I=u.promise):I=new Promise((U,W)=>{y=U,C=W});const N=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),P=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):P=0,this.setTransition({id:N,targetPageId:P,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:y,reject:C,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(U=>Promise.reject(U))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new jV(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function RB(n){return"imperative"!==n}let O1=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.commands=null,this.onChanges=new Ot.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:k_(this.skipLocationChange),replaceUrl:k_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:k_(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yi),s.Y36(Za),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),m0=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Ot.x,this.subscription=e.events.subscribe(o=>{o instanceof s0&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,u){if(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:k_(this.skipLocationChange),replaceUrl:k_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:k_(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yi),s.Y36(Za),s.Y36(ve))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function k_(n){return""===n||!!n}class PB{}class FB{preload(t,e){return ht(null)}}let LB=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new OB(r,i,p=>e.triggerEvent(new HV(p)),p=>e.triggerEvent(new GV(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pi(e=>e instanceof s0),M_(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const u=o._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return(0,jn.D)(r).pipe((0,qd.J)(),(0,ut.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ht(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Ki.z)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yi),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(PB))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),fO=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Kk?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof s0&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof $V&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new $V(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Pp=new s.OlP("ROUTER_CONFIGURATION"),VB=new s.OlP("ROUTER_FORROOT_GUARD"),l4=[Oe,{provide:eB,useClass:tB},{provide:yi,useFactory:function f4(n,t,e,i,r,o,u={},h,p){const y=new yi(null,n,t,e,i,r,WV(o));return h&&(y.urlHandlingStrategy=h),p&&(y.routeReuseStrategy=p),function p4(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,y),u.enableTracing&&y.events.subscribe(C=>{var I,N;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${C.constructor.name}`),console.log(C.toString()),console.log(C),null===(N=console.groupEnd)||void 0===N||N.call(console)}),y},deps:[eB,h0,Oe,s.zs3,s.Sil,hO,Pp,[class Jq{},new s.FiY],[class Zq{},new s.FiY]]},h0,{provide:Za,useFactory:function g4(n){return n.routerState.root},deps:[yi]},LB,FB,class a4{preload(t,e){return e().pipe(Xu(()=>ht(null)))}},{provide:Pp,useValue:{enableTracing:!1}}];function c4(){return new s.PXZ("Router",yi)}let BB=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[l4,UB(e),{provide:VB,useFactory:h4,deps:[[yi,new s.FiY,new s.tp0]]},{provide:Pp,useValue:i||{}},{provide:ve,useFactory:d4,deps:[de,[new s.tBr(rt),new s.FiY],Pp]},{provide:fO,useFactory:u4,deps:[yi,fd,Pp]},{provide:PB,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:FB},{provide:s.PXZ,multi:!0,useFactory:c4},[pO,{provide:s.ip1,multi:!0,useFactory:m4,deps:[pO]},{provide:jB,useFactory:_4,deps:[pO]},{provide:s.tb,multi:!0,useExisting:jB}]]}}static forChild(e){return{ngModule:n,providers:[UB(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(VB,8),s.LFG(yi,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function u4(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new fO(n,t,e)}function d4(n,t,e={}){return e.useHash?new Re(n,t):new qe(n,t)}function h4(n){return"guarded"}function UB(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:hO,multi:!0,useValue:n}]}let pO=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ot.x}appInitializer(){return this.injector.get(Y,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),o=this.injector.get(yi),u=this.injector.get(Pp);return"disabled"===u.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?ht(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Pp),r=this.injector.get(LB),o=this.injector.get(fO),u=this.injector.get(yi),h=this.injector.get(s.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),o.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function m4(n){return n.appInitializer.bind(n)}function _4(n){return n.bootstrapListener.bind(n)}const jB=new s.OlP("Router Initializer"),v4=["*",[["mat-toolbar-row"]]],b4=["*","mat-toolbar-row"],w4=Vf(class{constructor(n){this._elementRef=n}});let C4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),gO=(()=>{class n extends w4{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Vr),s.Y36(ne))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,C4,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:b4,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(v4),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),D4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Qn],Qn]}),n})(),E4=(()=>{class n{constructor(e){this.router=e}ngOnInit(){}vamoPalLogin(){this.router.navigate(["/sesion"])}vamoRegistrarme(){this.router.navigate(["/registrarse"])}home(){this.router.navigate(["/home"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:7,vars:0,consts:[[1,"header"],["id","pic","src","./../../assets/logo_unicar.png",3,"click"],["mat-button","","id","registrarse",3,"click"],["mat-button","","id","login",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"mat-toolbar")(2,"img",1),s.NdJ("click",function(){return i.home()}),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.vamoRegistrarme()}),s._uU(4," Registrarse "),s.qZA(),s.TgZ(5,"button",3),s.NdJ("click",function(){return i.vamoPalLogin()}),s._uU(6," Iniciar Sesion "),s.qZA()()())},directives:[gO,jr],styles:[".header[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;width:100%;height:5rem;justify-content:space-around;background:#009688;padding:0}.mat-toolbar[_ngcontent-%COMP%]{background:#009688;padding:20px 0}.space[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]{width:100%;display:flex;flex-grow:1;align-items:center;justify-content:center}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}#pic[_ngcontent-%COMP%]:hover{cursor:pointer}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:43%;width:150px;height:150px}#button[_ngcontent-%COMP%]{color:#fff;text-decoration:none}#button[_ngcontent-%COMP%]:hover{text-decoration:none}.texto_boton[_ngcontent-%COMP%]{font-size:18px}#icon[_ngcontent-%COMP%]{padding-left:5%}#icon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{margin:auto;font-size:50px}#login[_ngcontent-%COMP%]{background-color:#4db6ac;border-radius:5px}#registrarse[_ngcontent-%COMP%]{background-color:#4db6ac;border-radius:5px;margin-left:20%;margin-right:1%}"]}),n})();class HB{}class GB{}class nd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof nd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new nd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof nd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class T4{encodeKey(t){return $B(t)}encodeValue(t){return $B(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const I4=/%(\d[a-f0-9])/gi,M4={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function $B(n){return encodeURIComponent(n).replace(I4,(t,e)=>{var i;return null!==(i=M4[e])&&void 0!==i?i:t})}function zB(n){return`${n}`}class Rh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new T4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function S4(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],p=e.get(u)||[];p.push(h),e.set(u,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Rh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(zB(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(zB(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class A4{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function qB(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function WB(n){return"undefined"!=typeof Blob&&n instanceof Blob}function ZB(n){return"undefined"!=typeof FormData&&n instanceof FormData}class _0{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function x4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new nd),this.context||(this.context=new A4),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new Rh,this.urlWithParams=e}serializeBody(){return null===this.body?null:qB(this.body)||WB(this.body)||ZB(this.body)||function k4(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ZB(this.body)?null:WB(this.body)?this.body.type||null:qB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let y=t.headers||this.headers,C=t.params||this.params;const I=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(y=Object.keys(t.setHeaders).reduce((N,P)=>N.set(P,t.setHeaders[P]),y)),t.setParams&&(C=Object.keys(t.setParams).reduce((N,P)=>N.set(P,t.setParams[P]),C)),new _0(i,r,u,{params:C,headers:y,context:I,reportProgress:p,responseType:o,withCredentials:h})}}var fr=(()=>((fr=fr||{})[fr.Sent=0]="Sent",fr[fr.UploadProgress=1]="UploadProgress",fr[fr.ResponseHeader=2]="ResponseHeader",fr[fr.DownloadProgress=3]="DownloadProgress",fr[fr.Response=4]="Response",fr[fr.User=5]="User",fr))();class mO{constructor(t,e=200,i="OK"){this.headers=t.headers||new nd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class _O extends mO{constructor(t={}){super(t),this.type=fr.ResponseHeader}clone(t={}){return new _O({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class N1 extends mO{constructor(t={}){super(t),this.type=fr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new N1({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class YB extends mO{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function yO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let vO=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof _0)o=e;else{let p,y;p=r.headers instanceof nd?r.headers:new nd(r.headers),r.params&&(y=r.params instanceof Rh?r.params:new Rh({fromObject:r.params})),o=new _0(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=ht(o).pipe(M_(p=>this.handler.handle(p)));if(e instanceof _0||"events"===r.observe)return u;const h=u.pipe(Pi(p=>p instanceof N1));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,ut.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,ut.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,ut.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,ut.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Rh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,yO(r,i))}post(e,i,r={}){return this.request("POST",e,yO(r,i))}put(e,i,r={}){return this.request("PUT",e,yO(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(HB))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class KB{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const JB=new s.OlP("HTTP_INTERCEPTORS");let O4=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const N4=/^\)\]\}',?\n/;let QB=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new yn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((P,U)=>r.setRequestHeader(P,U.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&r.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();r.responseType="json"!==P?P:"text"}const o=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const P=r.statusText||"OK",U=new nd(r.getAllResponseHeaders()),W=function R4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new _O({headers:U,status:r.status,statusText:P,url:W}),u},p=()=>{let{headers:P,status:U,statusText:W,url:oe}=h(),xe=null;204!==U&&(xe=void 0===r.response?r.responseText:r.response),0===U&&(U=xe?200:0);let De=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof xe){const je=xe;xe=xe.replace(N4,"");try{xe=""!==xe?JSON.parse(xe):null}catch(Se){xe=je,De&&(De=!1,xe={error:Se,text:xe})}}De?(i.next(new N1({body:xe,headers:P,status:U,statusText:W,url:oe||void 0})),i.complete()):i.error(new YB({error:xe,headers:P,status:U,statusText:W,url:oe||void 0}))},y=P=>{const{url:U}=h(),W=new YB({error:P,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(W)};let C=!1;const I=P=>{C||(i.next(h()),C=!0);let U={type:fr.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(U.total=P.total),"text"===e.responseType&&!!r.responseText&&(U.partialText=r.responseText),i.next(U)},N=P=>{let U={type:fr.UploadProgress,loaded:P.loaded};P.lengthComputable&&(U.total=P.total),i.next(U)};return r.addEventListener("load",p),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),e.reportProgress&&(r.addEventListener("progress",I),null!==o&&r.upload&&r.upload.addEventListener("progress",N)),r.send(o),i.next({type:fr.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",p),r.removeEventListener("timeout",y),e.reportProgress&&(r.removeEventListener("progress",I),null!==o&&r.upload&&r.upload.removeEventListener("progress",N)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const bO=new s.OlP("XSRF_COOKIE_NAME"),wO=new s.OlP("XSRF_HEADER_NAME");class XB{}let P4=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xa(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne),s.LFG(s.Lbi),s.LFG(bO))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),CO=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(XB),s.LFG(wO))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),F4=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(JB,[]);this.chain=i.reduceRight((r,o)=>new KB(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(GB),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),L4=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:CO,useClass:O4}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:bO,useValue:e.cookieName}:[],e.headerName?{provide:wO,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[CO,{provide:JB,useExisting:CO,multi:!0},{provide:XB,useClass:P4},{provide:bO,useValue:"XSRF-TOKEN"},{provide:wO,useValue:"X-XSRF-TOKEN"}]}),n})(),V4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[vO,{provide:HB,useClass:F4},QB,{provide:GB,useExisting:QB}],imports:[[L4.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const B4=["*"];let R1;function y0(n){var t;return(null===(t=function U4(){if(void 0===R1&&(R1=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(R1=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return R1}())||void 0===t?void 0:t.createHTML(n))||n}function eU(n){return Error(`Unable to find icon with the name "${n}"`)}function tU(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function nU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Fp{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let P1=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Fp(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const u=this._sanitizer.sanitize(s.q3G.HTML,r);if(!u)throw nU(r);const h=y0(u);return this._addSvgIconConfig(e,i,new Fp("",h,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Fp(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw nU(i);const u=y0(o);return this._addSvgIconSetConfig(e,new Fp("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw tU(e);const r=this._cachedIconsByUrl.get(i);return r?ht(F1(r)):this._loadSvgIconFromConfig(new Fp(e,null)).pipe((0,Ri.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,ut.U)(o=>F1(o)))}getNamedSvgIcon(e,i=""){const r=iU(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):r0(eU(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ht(F1(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ut.U)(i=>F1(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?ht(r):hl(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Xu(h=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(y)),ht(null)})))).pipe((0,ut.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw eU(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Ri.b)(i=>e.svgText=i),(0,ut.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ht(null):this._fetchIcon(e).pipe((0,Ri.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(y0("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(y0("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:u,value:h}=r[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,u=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function j4(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,r);if(!h)throw tU(r);const p=this._inProgressUrlFetches.get(h);if(p)return p;const y=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe((0,ut.U)(C=>y0(C)),UV(()=>this._inProgressUrlFetches.delete(h)),(0,L2.B)());return this._inProgressUrlFetches.set(h,y),y}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(iU(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return G4(o)?new Fp(o.url,null,o.options):new Fp(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vO,8),s.LFG(Gs),s.LFG(ne,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function F1(n){return n.cloneNode(!0)}function iU(n,t){return n+":"+t}function G4(n){return!(!n.url||!n.options)}const $4=Vf(class{constructor(n){this._elementRef=n}}),z4=new s.OlP("mat-icon-location",{providedIn:"root",factory:function q4(){const n=(0,s.f3M)(ne),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),rU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],W4=rU.map(n=>`[${n}]`).join(", "),Z4=/^url\(['"]?#(.*?)['"]?\)$/;let Lp=(()=>{class n extends $4{constructor(e,i,r,o,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Br.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=nn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let o=0;o<i.length;o++)i[o].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(W4),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)rU.forEach(u=>{const h=i[o],p=h.getAttribute(u),y=p?p.match(Z4):null;if(y){let C=r.get(h);C||(C=[],r.set(h,C)),C.push({name:u,value:y[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,ni.q)(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(P1),s.$8M("aria-hidden"),s.Y36(z4),s.Y36(s.qLn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:B4,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Y4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Qn],Qn]}),n})(),K4=(()=>{class n{constructor(e){this.router=e,this.auth=(0,Qu.n)()}ngOnInit(){}vamoPalPerfil(){var e;this.router.navigate(["/miCuenta/"+(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)])}vamoPalViaje(){this.router.navigate(["/crearViaje"])}home(){this.router.navigate(["/home"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header-sign-in"]],decls:11,vars:0,consts:[[1,"header"],["id","pic","src","./../../assets/logo_unicar.png",3,"click"],["mat-button","","id","miperfil",3,"click"],["matSuffix",""],["mat-button","","id","addviaje",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"mat-toolbar")(2,"img",1),s.NdJ("click",function(){return i.home()}),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.vamoPalPerfil()}),s._uU(4," Mi Cuenta "),s.TgZ(5,"mat-icon",3),s._uU(6,"person_outline"),s.qZA()(),s.TgZ(7,"button",4),s.NdJ("click",function(){return i.vamoPalViaje()}),s._uU(8," A\xf1adir Viaje "),s.TgZ(9,"mat-icon",3),s._uU(10," directions_car"),s.qZA()()()())},directives:[gO,jr,Lp,ah],styles:[".header[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;width:100%;height:5rem;justify-content:space-around;background:#009688;padding:0}.mat-toolbar[_ngcontent-%COMP%]{background:#009688;padding:20px 0}.space[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]{width:100%;display:flex;flex-grow:1;align-items:center;justify-content:center}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}#pic[_ngcontent-%COMP%]:hover{cursor:pointer}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:43%;width:150px;height:150px}#button[_ngcontent-%COMP%]{color:#fff;text-decoration:none}#button[_ngcontent-%COMP%]:hover{text-decoration:none}.texto_boton[_ngcontent-%COMP%]{font-size:18px}#icon[_ngcontent-%COMP%]{padding-left:5%}#icon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{margin:auto;font-size:50px}#miperfil[_ngcontent-%COMP%]{background-color:#4db6ac;border-radius:5px;margin-left:20%;margin-right:1%}#addviaje[_ngcontent-%COMP%]{background-color:#4db6ac;border-radius:5px}"]}),n})(),J4=(()=>{class n{constructor(e){this.router=e}ngOnInit(){}home(){this.router.navigate(["/home"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:10,vars:0,consts:[[1,"footer"],[1,"about_us"],[1,"logo"],["src","./../../assets/logo_unicar.png",3,"click"],[1,"title"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"mat-toolbar")(2,"div",1)(3,"p"),s._uU(4," Unicar es una organizaci\xf3n que nace con el objetivo de reducir la huella de carbono de muchas persona que se dirijen a la universidad con el coche vacio y que nos les importaria compartirlo "),s.qZA()(),s.TgZ(5,"div",2)(6,"img",3),s.NdJ("click",function(){return i.home()}),s.qZA()(),s.TgZ(7,"div",4)(8,"h2"),s._uU(9,"UniCar"),s.qZA()()()())},directives:[gO],styles:[".footer[_ngcontent-%COMP%]{bottom:0;right:0;position:fixed;display:flex;flex-flow:row wrap;align-items:center;justify-content:space-around;width:100%;height:5rem;background:#009688;padding:0}.mat-toolbar[_ngcontent-%COMP%]{background:#009688;padding:20px 0}.about_us[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{width:100%;display:flex;flex-grow:1;align-items:center;justify-content:center}.title[_ngcontent-%COMP%]{color:#fff}.about_us[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 20px;white-space:pre-line;font-size:12px;line-height:15px;text-justify:inter-word;text-align:justify;color:#fff}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}"]}),n})();function Q4(n,t){1&n&&s._UZ(0,"app-header")}function X4(n,t){1&n&&s._UZ(0,"app-header-sign-in")}let DO=(()=>{class n{constructor(){this.title="UniCar",this.user=!1,this.userid="",this.userName=""}setUser(e,i){this.userid=e,this.user=!0,this.userName=i}getUserId(){return this.user?this.userid:""}getUserName(){return this.user?this.userName:""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf"]],template:function(e,i){1&e&&(s.YNc(0,Q4,1,0,"app-header",0),s.YNc(1,X4,1,0,"app-header-sign-in",0),s._UZ(2,"router-outlet")(3,"app-footer")),2&e&&(s.Q6J("ngIf",!i.user),s.xp6(1),s.Q6J("ngIf",i.user))},directives:[An,E4,K4,lO,J4],styles:[""]}),n})();const{isArray:eW}=Array;function sU(n){return 1===n.length&&eW(n[0])?n[0]:n}function L1(...n){const t=(0,Es.jO)(n),e=sU(n);return e.length?new yn.y(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let u=0;!i.closed&&u<e.length;u++)(0,pi.Xf)(e[u]).subscribe((0,pn.x)(i,h=>{if(r[u].push(h),r.every(p=>p.length)){const p=r.map(y=>y.shift());i.next(t?t(...p):p),r.some((y,C)=>!y.length&&o[C])&&i.complete()}},()=>{o[u]=!0,!r[u].length&&i.complete()}));return()=>{r=o=null}}):Al.E}function EO(...n){const t=(0,Es.jO)(n);return(0,Yi.e)((e,i)=>{const r=n.length,o=new Array(r);let u=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,pi.Xf)(n[p]).subscribe((0,pn.x)(i,y=>{o[p]=y,!h&&!u[p]&&(u[p]=!0,(h=u.every(Du.y))&&(u=null))},vc.Z));e.subscribe((0,pn.x)(i,p=>{if(h){const y=[p,...o];i.next(t?t(...y):y)}}))})}new yn.y(vc.Z),Math,Math,Math;const pZ=["*"],OZ=["dialog"];function hY(n,t){1&n&&s._uU(0),2&n&&s.Oqu(100===t.fill?"\u2605":"\u2606")}function fY(n,t){}function pY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",2),s._uU(1),s.qZA(),s.TgZ(2,"span",3),s.NdJ("mouseenter",function(){const o=s.CHM(e).index;return s.oxw().enter(o+1)})("click",function(){const o=s.CHM(e).index;return s.oxw().handleClick(o+1)}),s.YNc(3,fY,0,0,"ng-template",4),s.qZA()}if(2&n){const e=t.index,i=s.oxw(),r=s.MAs(1);s.xp6(1),s.hij("(",e<i.nextRate?"*":" ",")"),s.xp6(1),s.Udp("cursor",i.isInteractive()?"pointer":"default"),s.xp6(1),s.Q6J("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||r)("ngTemplateOutletContext",i.contexts[e])}}function PO(n,t,e=0){return Math.max(Math.min(n,t),e)}function Bp(n){return null!=n}function L_(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const EU={animation:!0,transitionTimerDelayMs:5},MY=()=>{},{transitionTimerDelayMs:AY}=EU,T0=new Map,oo=(n,t,e,i)=>{let r=i.context||{};const o=T0.get(t);if(o)switch(i.runningTransition){case"continue":return Al.E;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),T0.delete(t)}const u=e(t,i.animation,r)||MY;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>u()),ht(void 0).pipe(function SY(n){return t=>new yn.y(e=>t.subscribe({next:u=>n.run(()=>e.next(u)),error:u=>n.run(()=>e.error(u)),complete:()=>n.run(()=>e.complete())}))}(n));const h=new Ot.x,p=new Ot.x,y=h.pipe(function nW(...n){return t=>Ef(t,ht(...n))}(!0));T0.set(t,{transition$:h,complete:()=>{p.next(),p.complete()},context:r});const C=function IY(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const I=or(t,"transitionend").pipe(gn(y),Pi(({target:P})=>P===t));(function oU(...n){return 1===(n=sU(n)).length?(0,pi.Xf)(n[0]):new yn.y(function tW(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,pi.Xf)(n[i]).subscribe((0,pn.x)(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))})(im(C+AY).pipe(gn(y)),I,p).pipe(gn(y)).subscribe(()=>{T0.delete(t),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()};let G1=(()=>{class n{constructor(){this.animation=EU.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hi]]}),n})(),kU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hi]]}),n})(),NU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),FU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hi]]}),n})(),LU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var ci=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(ci||(ci={})),ci))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const BU=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function UU(n){const t=Array.from(n.querySelectorAll(BU)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let ZU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hi,Ud]]}),n})(),QU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class Gp{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let bK=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ni.q)(1)).subscribe(()=>{oo(this._zone,this._el.nativeElement,(e,i)=>{i&&L_(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return oo(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(s.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),s.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class XU{close(t){}dismiss(t){}}class wK{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Ot.x,this._dismissed=new Ot.x,this._hidden=new Ot.x,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,u)=>{this._resolve=o,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(gn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(gn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function EY(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ht(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),L1(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var A0=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(A0||(A0={})),A0))();let CK=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Ot.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new Ot.x,this.hidden=new Ot.x}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ni.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=L1(oo(this._zone,e,()=>e.classList.remove("show"),i),oo(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const e={animation:this.animation,runningTransition:"continue"};L1(oo(this._zone,this._elRef.nativeElement,(o,u)=>{u&&L_(o),o.classList.add("show")},e),oo(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{or(e,"keydown").pipe(gn(this._closed$),Pi(r=>r.which===ci.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(A0.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;or(this._dialogEl.nativeElement,"mousedown").pipe(gn(this._closed$),(0,Ri.b)(()=>i=!1),ms(()=>or(e,"mouseup").pipe(gn(this._closed$),(0,ni.q)(1))),Pi(({target:r})=>e===r)).subscribe(()=>{i=!0}),or(e,"click").pipe(gn(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(A0.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=UU(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&oo(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ne),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&s.Gf(OZ,7),2&e){let r;s.iGM(r=s.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),s.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),s.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:pZ,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2),s.Hsn(3),s.qZA()()),2&e&&s.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),DK=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:u}=r;if(e>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=u),r.overflow=o}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EK=(()=>{class n{constructor(e,i,r,o,u,h){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=u,this._ngZone=h,this._activeWindowCmptHasChanged=new Ot.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const p=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=or(t,"focusin").pipe(gn(e),(0,ut.U)(o=>o.target));or(t,"keydown").pipe(gn(e),Pi(o=>o.which===ci.Tab),EO(r)).subscribe(([o,u])=>{const[h,p]=UU(t);(u===h||u===t)&&o.shiftKey&&(p.focus(),o.preventDefault()),u===p&&!o.shiftKey&&(h.focus(),o.preventDefault())}),i&&or(t,"click").pipe(gn(e),EO(r),(0,ut.U)(o=>o[1])).subscribe(o=>o.focus())})})(0,p.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(p.location.nativeElement)}})}open(e,i,r,o){const u=o.container instanceof HTMLElement?o.container:Bp(o.container)?this._document.querySelector(o.container):this._document.body,h=this._rendererFactory.createRenderer(null,null),p=this._scrollBar.hide(),y=()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!u)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);const C=new XU,I=this._getContentRef(e,o.injector||i,r,C,o);let N=!1!==o.backdrop?this._attachBackdrop(e,u):void 0,P=this._attachWindowComponent(e,u,I),U=new wK(P,I,N,o.beforeDismiss);return this._registerModalRef(U),this._registerWindowCmpt(P),U.result.then(p,p),U.result.then(y,y),C.close=W=>{U.close(W)},C.dismiss=W=>{U.dismiss(W)},this._applyWindowOptions(P.instance,o),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),N&&N.instance&&(this._applyBackdropOptions(N.instance,o),N.changeDetectorRef.detectChanges()),P.changeDetectorRef.detectChanges(),U}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let o=e.resolveComponentFactory(bK).create(this._injector);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(e,i,r){let u=e.resolveComponentFactory(CK).create(this._injector,r.nodes);return this._applicationRef.attachView(u.hostView),i.appendChild(u.location.nativeElement),u}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{Bp(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{Bp(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,o,u){return r?r instanceof s.Rgc?this._createFromTemplateRef(r,o):function DU(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,u):new Gp([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(o),new Gp([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Gp([[i]])}_createFromComponent(e,i,r,o,u){const h=e.resolveComponentFactory(r),p=s.zs3.create({providers:[{provide:XU,useValue:o}],parent:i}),y=h.create(p),C=y.location.nativeElement;return u.scrollable&&C.classList.add("component-host-scrollable"),this._applicationRef.attachView(y.hostView),new Gp([[C]],y.hostView,y)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(ne),s.LFG(DK),s.LFG(s.FYo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TK=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(G1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SK=(()=>{class n{constructor(e,i,r,o){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=o}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(EK),s.LFG(TK))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ej=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[SK]}),n})(),rj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hi]]}),n})(),hj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hi]]}),n})(),pj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hi]]}),n})(),gj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hi]]}),n})(),LK=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VK=(()=>{class n{constructor(e,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new s.vpe,this.leave=new s.vpe,this.rateChange=new s.vpe(!0),this.onChange=r=>{},this.onTouched=()=>{},this.max=e.max,this.readonly=e.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(e){this.isInteractive()&&this._updateState(e),this.hover.emit(e)}handleBlur(){this.onTouched()}handleClick(e){this.isInteractive()&&this.update(this.resettable&&this.rate===e?0:e)}handleKeyDown(e){switch(e.which){case ci.ArrowDown:case ci.ArrowLeft:this.update(this.rate-1);break;case ci.ArrowUp:case ci.ArrowRight:this.update(this.rate+1);break;case ci.Home:this.update(0);break;case ci.End:this.update(this.max);break;default:return}e.preventDefault()}ngOnChanges(e){e.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(e,i)=>({fill:0,index:i})),this._updateState(this.rate)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(e){this.disabled=e}update(e,i=!0){const r=PO(e,this.max,0);this.isInteractive()&&this.rate!==r&&(this.rate=r,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(e){this.update(e,!1),this._changeDetectorRef.markForCheck()}_updateState(e){this.nextRate=e,this.contexts.forEach((i,r)=>i.fill=Math.round(100*PO(e-r,1,0)))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(LK),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,s.Rgc,5),2&e){let o;s.iGM(o=s.CRH())&&(i.starTemplateFromContent=o.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(e,i){1&e&&s.NdJ("blur",function(){return i.handleBlur()})("keydown",function(o){return i.handleKeyDown(o)})("mouseleave",function(){return i.reset()}),2&e&&(s.Ikx("tabindex",i.disabled?-1:0),s.uIk("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText())("aria-disabled",!!i.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[s._Bn([{provide:Hn,useExisting:(0,s.Gpc)(()=>n),multi:!0}]),s.TTD],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.YNc(0,hY,1,1,"ng-template",null,0,s.W1O),s.YNc(2,pY,4,5,"ng-template",1)),2&e&&(s.xp6(2),s.Q6J("ngForOf",i.contexts))},directives:[In,Ps],encapsulation:2,changeDetection:0}),n})(),mj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hi]]}),n})(),_j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hi]]}),n})(),yj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hi]]}),n})(),vj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();new s.OlP("live announcer delay",{providedIn:"root",factory:function jK(){return 100}});let bj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hi]]}),n})();const HK=[xU,kU,NU,FU,LU,ZU,QU,ej,rj,hj,pj,gj,mj,_j,yj,vj,bj];let GK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[HK,xU,kU,NU,FU,LU,ZU,QU,ej,rj,hj,pj,gj,mj,_j,yj,vj,bj]}),n})();const ZK={provide:new s.OlP("mat-select-scroll-strategy"),deps:[xl],useFactory:function WK(n){return()=>n.scrollStrategies.reposition()}};let YK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ZK],imports:[[hi,mD,ai,Qn],om,qf,ai,Qn]}),n})();const KK=["*",[["mat-card-footer"]]],JK=["*","mat-card-footer"];let QK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Cj=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),XK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),J1=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Il,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:JK,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(KK),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),e7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Qn],Qn]}),n})(),Ej=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=nn(e)}get inset(){return this._inset}set inset(e){this._inset=nn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),Tj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Qn],Qn]}),n})();const Sj=["*"],t7=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],n7=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],l7=iv(Bf(class{})),c7=Bf(class{}),Mj=new s.OlP("MatList"),u7=new s.OlP("MatNavList");let qO=(()=>{class n extends l7{constructor(e){super(),this._elementRef=e,this._stateChanges=new Ot.x,"action-list"===this._getListType()&&e.nativeElement.classList.add("mat-action-list")}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[s._Bn([{provide:Mj,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:Sj,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),Aj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),xj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),kj=(()=>{class n extends c7{constructor(e,i,r,o){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new Ot.x,this._disabled=!1,this._isInteractiveList=!!(r||o&&"action-list"===o._getListType()),this._list=r||o;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(gn(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=nn(e)}ngAfterContentInit(){!function sv(n,t,e="mat"){n.changes.pipe(as(n)).subscribe(({length:i})=>{sh(t,`${e}-2-line`,!1),sh(t,`${e}-3-line`,!1),sh(t,`${e}-multi-line`,!1),2===i||3===i?sh(t,`${e}-${i}-line`,!0):i>3&&sh(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(u7,8),s.Y36(Mj,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Aj,5),s.Suo(r,xj,5),s.Suo(r,NC,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._avatar=o.first),s.iGM(o=s.CRH())&&(i._icon=o.first),s.iGM(o=s.CRH())&&(i._lines=o)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[s.qOj],ngContentSelectors:n7,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(s.F$t(t7),s.TgZ(0,"span",0),s._UZ(1,"span",1),s.Hsn(2),s.TgZ(3,"span",2),s.Hsn(4,1),s.qZA(),s.Hsn(5,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[Xg],encapsulation:2,changeDetection:0}),n})(),m7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ov,Tc,Qn,Uf,hi],ov,Qn,Uf,Tj]}),n})(),WO=(()=>{class n{constructor(e){this.firestore=e,this.trips$=FV(Wk(this.firestore,"trips"))}read(e){return s1(sa(this.firestore,"trips/"+e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class B_{}let U_=(()=>{class n{constructor(e,i){this.router=i,this.dbPath="users",this.auth=(0,Qu.n)(),this.userConverter={toFirestore:r=>({id:r.id,userName:r.userName,userEmail:r.userEmail,userAge:r.userAge,userPassword:r.userPassword,userDriver:r.userDriver,userDriverLicense:r.userDriverLicense,driverPoints:r.driverPoints,userPic:r.userPic,userTlf:r.userTlf,passengerPoints:r.passengerPoints,requestedTrips:r.requestedTrips,createdTrips:r.createdTrips,favTrips:r.favTrips}),fromFirestore:(r,o)=>{const u=r.data(o);let h=new B_;return h.id=u.id,h.userName=u.userName,h.userEmail=u.userEmail,h.userAge=u.userAge,h.userPassword=u.userPassword,h.userDriver=u.userDriver,h.userDriverLicense=u.userDriverLicense,h.driverPoints=u.driverPoints,h.userPic=u.userPic,h.userTlf=u.userTlf,h.passengerPoints=u.passengerPoints,h.requestedTrips=u.requestedTrips,h.createdTrips=u.createdTrips,h.favTrips=u.favTrips,h}},this.db=e,this.userRef=Wk(this.db,this.dbPath).withConverter(this.userConverter),this.auth=(0,Qu.n)(),this.user=this.auth.currentUser}create(e){var i=this;return(0,ge.Z)(function*(){return E_(sa(i.db,"users/"+e.id),JSON.parse(JSON.stringify(e))),i.router.navigate(["miCuenta/"+e.id]),!0})()}read(e){var i=this;return(0,ge.Z)(function*(){const r=sa(i.db,i.dbPath,e).withConverter(i.userConverter),o=yield s1(r);return o.exists()?o.data():new B_})()}update(e,i){return E_(sa(this.db,"users/"+e),JSON.parse(JSON.stringify(i))),this.router.navigate(["miCuenta/"+e]),!0}delete(e){return!0}addToTrip(e,i){var r=this;return(0,ge.Z)(function*(){if(r.auth=(0,Qu.n)(),r.user=r.auth.currentUser,null!==r.user){const u=sa(r.db,"users",r.user.uid),h=sa(r.db,"trips",e);yield fk(u,{[`${i}`]:{[`${e}`]:h}})}else console.log("Tienes que estar conectado para a\xf1adirte a un viaje")})()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fc),s.LFG(yi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q1=(()=>{class n{constructor(e,i){this.router=i,this.db=e}updateTrip(e,i){E_(sa(this.db,"trips/"+i),e),this.router.navigate(["viaje/"+i])}updateTripNoRouting(e,i){E_(sa(this.db,"trips/"+i),e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fc),s.LFG(yi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().update()}),s._uU(1," Editar Viaje "),s.qZA()}}function y7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",17),s.NdJ("click",function(){return s.CHM(e),s.oxw().unirse()}),s._uU(1," Unirse "),s.qZA()}}function v7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(){return s.CHM(e),s.oxw().managePassenger()}),s._uU(1," Administrar pasajeros "),s.qZA()}}let b7=(()=>{class n{constructor(e,i,r,o,u,h){this.showViaje=e,this.router=i,this.auxRouter=r,this.home=o,this.crudUserService=u,this.updateViajeService=h,this.viaje={id:"",nameDriver:"noExist",date:"",origin:"",destination:"",hour:"",model_car:"",brand_car:"",colour_car:"",seats:0,price:0,passenger:[]},this.rate=2.5,this.asientosLibres=0,this.showViaje.read(this.router.snapshot.params.id).then(y=>{if(null!=y.data())return this.viaje=y.data(),this.asientosLibres=y.data().seats-y.data().passenger.length,!0;console.log("Not Found")}).catch(y=>{console.log(y),alert(y.message)})}update(){this.auxRouter.navigate(["modificarViaje/"+this.router.snapshot.params.id])}unirse(){if(this.asientosLibres>0){this.crudUserService.addToTrip(this.router.snapshot.params.id,"requestedTrips");let e=(0,Qu.n)();null!=e.currentUser&&(this.crudUserService.read(e.currentUser.uid).then(r=>{var o;null!=r&&(null===(o=this.viaje.passenger)||void 0===o||o.push(null!=r.userName?r.userName:""),this.updateViajeService.updateTripNoRouting(this.viaje,this.router.snapshot.params.id))}),this.auxRouter.navigate(["miCuenta/"+e.currentUser.uid]))}else alert("No hay espacio")}managePassenger(){this.auxRouter.navigate(["managePassenger/"+this.router.snapshot.params.id])}ngOnInit(){}userLogged(){return""!=this.home.getUserName()}userLoggedOwns(){return""!=this.home.getUserName()&&this.home.getUserName()==this.viaje.nameDriver}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(WO),s.Y36(Za),s.Y36(yi),s.Y36(DO),s.Y36(U_),s.Y36(Q1))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-show-viaje"]],decls:36,vars:15,consts:[[1,"container"],[1,"card"],[1,"origen"],[1,"precio"],["id","secondCard",1,"card"],[1,"usuario"],[3,"max","rate","readonly","rateChange"],["id","icon"],[1,"coche"],[1,"brandCar"],[1,"colourCar"],[1,"seatsCar"],[1,"boton"],["mat-raised-button","","id","EditarViaje","class","unirseBoton",3,"click",4,"ngIf"],["mat-raised-button","","id","UniserViaje ","class","unirseBoton",3,"click",4,"ngIf"],["mat-raised-button","","class","unirseBoton","id","AdministrarBoton",3,"click",4,"ngIf"],["mat-raised-button","","id","EditarViaje",1,"unirseBoton",3,"click"],["mat-raised-button","","id","UniserViaje ",1,"unirseBoton",3,"click"],["mat-raised-button","","id","AdministrarBoton",1,"unirseBoton",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"mat-card",1)(2,"div",2)(3,"h1"),s._uU(4),s.TgZ(5,"h2"),s._uU(6),s.qZA()(),s.TgZ(7,"mat-icon"),s._uU(8,"arrow_downward"),s.qZA(),s.TgZ(9,"h1"),s._uU(10),s.TgZ(11,"h2"),s._uU(12),s.qZA()()()(),s._UZ(13,"div",3),s.TgZ(14,"mat-card",4)(15,"div",5)(16,"h1"),s._uU(17),s.qZA(),s.TgZ(18,"ngb-rating",6),s.NdJ("rateChange",function(o){return i.rate=o}),s.qZA()(),s.TgZ(19,"div",7)(20,"mat-icon"),s._uU(21,"account_circle"),s.qZA()()(),s.TgZ(22,"mat-card",1)(23,"div",8)(24,"h2",9),s._uU(25),s.qZA(),s.TgZ(26,"h2",10),s._uU(27),s.qZA(),s.TgZ(28,"mat-icon"),s._uU(29,"directions_car"),s.qZA(),s.TgZ(30,"h2",11),s._uU(31),s.qZA()()(),s.TgZ(32,"div",12),s.YNc(33,_7,2,0,"button",13),s.YNc(34,y7,2,0,"button",14),s.YNc(35,v7,2,0,"button",15),s.qZA()()),2&e&&(s.xp6(4),s.hij("",i.viaje.origin," "),s.xp6(2),s.Oqu(i.viaje.date),s.xp6(4),s.hij("",i.viaje.destination," "),s.xp6(2),s.Oqu(i.viaje.date),s.xp6(5),s.Oqu(i.viaje.nameDriver),s.xp6(1),s.Q6J("max",5)("rate",i.rate)("readonly",!1),s.xp6(7),s.AsE("",i.viaje.brand_car," ",i.viaje.model_car,""),s.xp6(2),s.Oqu(i.viaje.colour_car),s.xp6(4),s.hij("Asiento libres: ",i.asientosLibres,""),s.xp6(2),s.Q6J("ngIf",i.userLoggedOwns()),s.xp6(1),s.Q6J("ngIf",i.userLogged()!=i.userLoggedOwns()),s.xp6(1),s.Q6J("ngIf",i.userLoggedOwns()))},directives:[J1,Lp,VK,An,jr],styles:[".container[_ngcontent-%COMP%]{padding-bottom:3%}.card[_ngcontent-%COMP%]{margin:3%}#secondCard[_ngcontent-%COMP%]{display:flex;flex-direction:row}.usuario[_ngcontent-%COMP%]{display:flex;flex-direction:column}#icon[_ngcontent-%COMP%]{padding-left:5%}#icon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{margin:auto;font-size:50px}.boton[_ngcontent-%COMP%]{display:flex}.unirseBoton[_ngcontent-%COMP%]{margin:auto;background-color:#4db6ac;color:#fff}.header[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{text-align:center;background:#009688;font-size:20px;padding:20px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:550px}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:500px;color:#fff}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:550px}.footer[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{text-align:center;background:#009688;font-size:10px;padding:40px;line-height:100%}.footer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:300px}"]}),n})();class Nj{}let w7=(()=>{class n{constructor(e,i,r){this.router=i,this.update=r,this.db=e}create(e){var i=this;return(0,ge.Z)(function*(){e.passenger=[],e.id="0";const r=Wb(i.db,"trips"),o=M2(r,JSON.parse(JSON.stringify(e)));let u="";return RV(r,{idField:"id"}),yield o.then(function(y){return u=y.id,y.id}),i.update.updateTrip({id:u,nameDriver:e.nameDriver,date:e.date,origin:e.origin,destination:e.destination,hour:e.hour,model_car:e.model_car,brand_car:e.brand_car,colour_car:e.colour_car,seats:e.seats,price:e.price,passenger:e.passenger},u),i.router.navigate(["viaje/"+u]),u})()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fc),s.LFG(yi),s.LFG(Q1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C7=(()=>{class n{constructor(e){this.viajeService=e,this.inputControl=new fc,this.trip=new Nj,this.submitted=!1,this.value=""}ngOnInit(){this.inputControl=new fc}saveTrip(){this.viajeService.create(this.trip)}newTrip(){this.submitted=!1,this.trip=new Nj}clearValue(){this.value=""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(w7))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-viaje"]],decls:62,vars:21,consts:[[1,"content"],[1,"header"],[1,"container"],[1,"container-main"],[1,"viaje-uno"],["appearance","fill",1,"formField"],["matInput","","type","text","placeholder","Nombre",3,"value","ngModel","formControl","ngModelChange"],[1,"viaje-dos"],["matInput","","type","text","placeholder","Origen",3,"ngModel","formControl","ngModelChange"],["matInput","","type","text","placeholder","Destino",3,"ngModel","formControl","ngModelChange"],["matInput","","type","text","placeholder","Fecha",3,"ngModel","formControl","ngModelChange"],["matSuffix",""],["matInput","","type","text","placeholder","Hora",3,"ngModel","formControl","ngModelChange"],[1,"viaje-tres"],["matInput","","type","text","placeholder","Modelo Coche",3,"ngModel","formControl","ngModelChange"],["matInput","","type","text","placeholder","Marca Coche",3,"ngModel","formControl","ngModelChange"],["matInput","","type","text","placeholder","Color Coche",3,"ngModel","formControl","ngModelChange"],["matInput","","type","text","placeholder","Capacidad",3,"ngModel","formControl","ngModelChange"],["matInput","","type","text","placeholder","Precio",3,"ngModel","formControl","ngModelChange"],[1,"saveTripButton"],["mat-raised-button","","color","primary",3,"click"],[1,"footer"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"div",1)(2,"div",2),s.TgZ(3,"div",3)(4,"div",4)(5,"form")(6,"mat-form-field",5)(7,"mat-label"),s._uU(8,"Nombre Conductor"),s.qZA(),s.TgZ(9,"input",6),s.NdJ("ngModelChange",function(o){return i.trip.nameDriver=o}),s.qZA()()()(),s.TgZ(10,"div",7)(11,"form")(12,"mat-form-field",5)(13,"mat-label"),s._uU(14,"Origen"),s.qZA(),s.TgZ(15,"input",8),s.NdJ("ngModelChange",function(o){return i.trip.origin=o}),s.qZA()(),s.TgZ(16,"mat-form-field",5)(17,"mat-label"),s._uU(18,"Destino"),s.qZA(),s.TgZ(19,"input",9),s.NdJ("ngModelChange",function(o){return i.trip.destination=o}),s.qZA()(),s._UZ(20,"br"),s.TgZ(21,"mat-form-field",5)(22,"mat-label"),s._uU(23,"Fecha"),s.qZA(),s.TgZ(24,"input",10),s.NdJ("ngModelChange",function(o){return i.trip.date=o}),s.qZA(),s.TgZ(25,"mat-icon",11),s._uU(26,"date_range"),s.qZA()(),s.TgZ(27,"mat-form-field",5)(28,"mat-label"),s._uU(29,"Hora"),s.qZA(),s.TgZ(30,"input",12),s.NdJ("ngModelChange",function(o){return i.trip.hour=o}),s.qZA()()()(),s.TgZ(31,"div",13)(32,"form")(33,"mat-form-field",5)(34,"mat-label"),s._uU(35,"Modelo Coche"),s.qZA(),s.TgZ(36,"input",14),s.NdJ("ngModelChange",function(o){return i.trip.model_car=o}),s.qZA()(),s.TgZ(37,"mat-form-field",5)(38,"mat-label"),s._uU(39,"Marca Coche"),s.qZA(),s.TgZ(40,"input",15),s.NdJ("ngModelChange",function(o){return i.trip.brand_car=o}),s.qZA()(),s.TgZ(41,"mat-form-field",5)(42,"mat-label"),s._uU(43,"Color Coche"),s.qZA(),s.TgZ(44,"input",16),s.NdJ("ngModelChange",function(o){return i.trip.colour_car=o}),s.qZA()()()(),s.TgZ(45,"div",7)(46,"form")(47,"mat-form-field",5)(48,"mat-label"),s._uU(49,"Capacidad"),s.qZA(),s.TgZ(50,"input",17),s.NdJ("ngModelChange",function(o){return i.trip.seats=o}),s.qZA(),s.TgZ(51,"mat-icon",11),s._uU(52,"account_box"),s.qZA()(),s.TgZ(53,"mat-form-field",5)(54,"mat-label"),s._uU(55,"Precio"),s.qZA(),s.TgZ(56,"input",18),s.NdJ("ngModelChange",function(o){return i.trip.price=o}),s.qZA()()()(),s.TgZ(57,"div",19)(58,"button",20),s.NdJ("click",function(){return i.saveTrip()}),s._uU(59,"Crear Viaje"),s.qZA()()(),s._UZ(60,"div",2)(61,"div",21),s.qZA()),2&e&&(s.xp6(9),s.Q6J("value",i.value)("ngModel",i.trip.nameDriver)("formControl",i.inputControl),s.xp6(6),s.Q6J("ngModel",i.trip.origin)("formControl",i.inputControl),s.xp6(4),s.Q6J("ngModel",i.trip.destination)("formControl",i.inputControl),s.xp6(5),s.Q6J("ngModel",i.trip.date)("formControl",i.inputControl),s.xp6(6),s.Q6J("ngModel",i.trip.hour)("formControl",i.inputControl),s.xp6(6),s.Q6J("ngModel",i.trip.model_car)("formControl",i.inputControl),s.xp6(4),s.Q6J("ngModel",i.trip.brand_car)("formControl",i.inputControl),s.xp6(4),s.Q6J("ngModel",i.trip.colour_car)("formControl",i.inputControl),s.xp6(6),s.Q6J("ngModel",i.trip.seats)("formControl",i.inputControl),s.xp6(6),s.Q6J("ngModel",i.trip.price)("formControl",i.inputControl))},directives:[Pd,zo,Wo,Pu,Ml,Fu,ir,Pr,hf,Lp,ah,jr],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:auto;background-image:url(imagenfondo.86ae87297cfffa22.png);width:100%;padding:2% 2% 10%}.header[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]{height:5rem}.container[_ngcontent-%COMP%], .container-main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{flex-grow:1}.container-main[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:wrap;flex-grow:2;background-color:#fff;border-radius:2%;border-color:gray;width:80%}.viaje-uno[_ngcontent-%COMP%], .viaje-dos[_ngcontent-%COMP%], .viaje-tres[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.viaje-tres[_ngcontent-%COMP%]{flex-wrap:nowrap}.saveTripButton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-bottom:1%}.saveTripButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#009688}.formField[_ngcontent-%COMP%]{padding:15px}.viaje-uno[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:600px}.viaje-dos[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], .viaje-tres[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:220px}"]}),n})();const Rj="firebasestorage.googleapis.com",Pj="storageBucket";class Vi extends Ht.ZR{constructor(t,e){super(ZO(t),`Firebase Storage: ${e} (${ZO(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vi.prototype)}_codeEquals(t){return ZO(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ZO(n){return"storage/"+n}function YO(){return new Vi("unknown","An unknown error occurred, please check the error payload for server response.")}function KO(n){return new Vi("invalid-argument",n)}function Vj(){return new Vi("app-deleted","The Firebase app was deleted.")}function x0(n,t){return new Vi("invalid-format","String does not match format '"+n+"': "+t)}function k0(n){throw new Vi("internal-error","Internal error: "+n)}class ao{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=ao.makeFromUrl(t,e)}catch(r){return new ao(t,"")}if(""===i.path)return i;throw function O7(n){return new Vi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(Se){Se.path_=decodeURIComponent(Se.path)}const I=e.replace(/[.]/g,"\\."),je=[{regex:h,indices:{bucket:1,path:3},postModify:function o(Se){"/"===Se.path.charAt(Se.path.length-1)&&(Se.path_=Se.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${e===Rj?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let Se=0;Se<je.length;Se++){const Ze=je[Se],ze=Ze.regex.exec(t);if(ze){let Et=ze[Ze.indices.path];Et||(Et=""),i=new ao(ze[Ze.indices.bucket],Et),Ze.postModify(i);break}}if(null==i)throw function k7(n){return new Vi("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class L7{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function X1(n){return"string"==typeof n||n instanceof String}function Bj(n){return JO()&&n instanceof Blob}function JO(){return"undefined"!=typeof Blob}function QO(n,t,e,i){if(i<t)throw KO(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw KO(`Invalid value for '${n}'. Expected ${e} or less.`)}function od(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function Uj(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Lh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Lh||(Lh={})),Lh))();class G7{constructor(t,e,i,r,o,u,h,p,y,C,I){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=C,this.connectionFactory_=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,P)=>{this.resolve_=N,this.reject_=P,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function U7(n){return void 0!==n}(p)?o():o(p)}catch(p){u(p)}else if(null!==h){const p=YO();p.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,p):p)}else u(r.canceled?this.appDelete_?Vj():function Fj(){return new Vi("canceled","User canceled the upload/download.")}():function x7(){return new Vi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new eT(!1,null,!0)):this.backoffId_=function V7(n,t,e){let i=1,r=null,o=null,u=!1,h=0;function p(){return 2===h}let y=!1;function C(...oe){y||(y=!0,t.apply(null,oe))}function I(oe){r=setTimeout(()=>{r=null,n(P,p())},oe)}function N(){o&&clearTimeout(o)}function P(oe,...xe){if(y)return void N();if(oe)return N(),void C.call(null,oe,...xe);if(p()||u)return N(),void C.call(null,oe,...xe);let je;i<64&&(i*=2),1===h?(h=2,je=0):je=1e3*(i+Math.random()),I(je)}let U=!1;function W(oe){U||(U=!0,N(),!y&&(null!==r?(oe||(h=2),clearTimeout(r),I(0)):oe||(h=1)))}return I(0),o=setTimeout(()=>{u=!0,W(!0)},e),W}((i,r)=>{if(r)return void i(!1,new eT(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===Lh.NO_ERROR,p=o.getStatus();if(!h||this.isRetryStatusCode_(p)){const C=o.getErrorCode()===Lh.ABORT;return void i(!1,new eT(!1,null,C))}const y=-1!==this.successCodes_.indexOf(p);i(!0,new eT(y,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function B7(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||o}}class eT{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function K7(...n){const t=function Y7(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(JO())return new Blob(n);throw new Vi("unsupported-environment","This browser doesn't seem to support creating Blobs")}class XO{constructor(t,e){this.data=t,this.contentType=e||null}}function Hj(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function Gj(n,t){switch(n){case"base64":{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw x0(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw x0(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Q7(n){return atob(n)}(t)}catch(r){throw x0(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class $j{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw x0("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function n9(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class ad{constructor(t,e){let i=0,r="";Bj(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(Bj(this.data_)){const r=function J7(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new ad(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new ad(i,!0)}}static getBlob(...t){if(JO()){const e=t.map(i=>i instanceof ad?i.data_:i);return new ad(K7.apply(null,e))}{const e=t.map(u=>X1(u)?function jj(n,t){switch(n){case"raw":return new XO(Hj(t));case"base64":case"base64url":return new XO(Gj(n,t));case"data_url":return new XO(function e9(n){const t=new $j(n);return t.base64?Gj("base64",t.rest):function X7(n){let t;try{t=decodeURIComponent(n)}catch(e){throw x0("data_url","Malformed data URL.")}return Hj(t)}(t.rest)}(t),function t9(n){return new $j(n).contentType}(t))}throw YO()}("raw",u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)r[o++]=u[h]}),new ad(r,!0)}}uploadData(){return this.data_}}function eN(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function H7(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function zj(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function s9(n,t){return t}class lo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||s9}}let tT=null;function O0(){if(tT)return tT;const n=[];n.push(new lo("bucket")),n.push(new lo("generation")),n.push(new lo("metageneration")),n.push(new lo("name","fullPath",!0));const e=new lo("name");e.xform=function t(o,u){return function o9(n){return!X1(n)||n.length<2?n:zj(n)}(u)},n.push(e);const r=new lo("size");return r.xform=function i(o,u){return void 0!==u?Number(u):u},n.push(r),n.push(new lo("timeCreated")),n.push(new lo("updated")),n.push(new lo("md5Hash",null,!0)),n.push(new lo("cacheControl",null,!0)),n.push(new lo("contentDisposition",null,!0)),n.push(new lo("contentEncoding",null,!0)),n.push(new lo("contentLanguage",null,!0)),n.push(new lo("contentType",null,!0)),n.push(new lo("metadata","customMetadata",!0)),tT=n,tT}function qj(n,t,e){const i=eN(t);return null===i?null:function l9(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const u=e[o];i[u.local]=u.xform(i,t[u.server])}return function a9(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new ao(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}class Hc{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Gc(n){if(!n)throw YO()}function j_(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function M7(){return new Vi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function I7(){return new Vi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function S7(n){return new Vi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function A7(n){return new Vi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Qj(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let je="";for(let Se=0;Se<2;Se++)je+=Math.random().toString().slice(2);return je}();u["Content-Type"]="multipart/related; boundary="+p;const y=function Jj(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function y9(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}(t,i,r),C=function tN(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}(y,e),P=ad.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===P)throw function Lj(){return new Vi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const U={name:y.fullPath},W=od(o,n.host,n._protocol),xe=n.maxUploadRetryTime,De=new Hc(W,"POST",function nT(n,t){return function e(i,r){const o=qj(n,r,t);return Gc(null!==o),o}}(n,e),xe);return De.urlParams=U,De.headers=u,De.body=P.uploadData(),De.errorHandler=j_(t),De}class E9 extends class D9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw k0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw k0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw k0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw k0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw k0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Gl(){return new E9}class $p{constructor(t,e){this._service=t,this._location=e instanceof ao?e:ao.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new $p(t,e)}get root(){const t=new ao(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zj(this._location.path)}get storage(){return this._service}get parent(){const t=function i9(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new ao(this._location.bucket,t);return new $p(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function F7(n){return new Vi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function L9(n){n._throwIfRoot("getDownloadURL");const t=function g9(n,t,e){const r=od(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Hc(r,"GET",function f9(n,t){return function e(i,r){const o=qj(n,r,t);return Gc(null!==o),function c9(n,t,e,i){const r=eN(t);if(null===r||!X1(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const u=encodeURIComponent;return o.split(",").map(y=>{const I=n.fullPath;return od("/b/"+u(n.bucket)+"/o/"+u(I),e,i)+Uj({alt:"media",token:y})})[0]}(o,r,n.host,n._protocol)}}(n,e),u);return h.errorHandler=function N0(n){const t=j_(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function T7(n){return new Vi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}(t),h}(n.storage,n._location,O0());return n.storage.makeRequestWithTokens(t,Gl).then(e=>{if(null===e)throw function P7(){return new Vi("no-download-url","The given file does not have any download URLs.")}();return e})}function sH(n,t){if(n instanceof sN){const e=n;if(null==e._bucket)throw function N7(){return new Vi("no-default-bucket","No default bucket found. Did you set the '"+Pj+"' property when initializing the app?")}();const i=new $p(e,e._bucket);return null!=t?sH(i,t):i}return void 0!==t?function rH(n,t){const e=function r9(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new ao(n._location.bucket,e);return new $p(n.storage,i)}(n,t):n}function oH(n,t){const e=null==t?void 0:t[Pj];return null==e?null:ao.makeFromBucketSpec(e,n)}class sN{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Rj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ao.makeFromBucketSpec(r,this._host):oH(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?ao.makeFromBucketSpec(this._url,t):oH(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){QO("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){QO("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ge.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ge.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $p(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new L7(Vj());{const o=function Z7(n,t,e,i,r,o){const u=Uj(n.urlParams),h=n.url+u,p=Object.assign({},n.headers);return function q7(n,t){t&&(n["X-Firebase-GMPID"]=t)}(p,t),function $7(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(p,e),function z7(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(p,o),function W7(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(p,i),new G7(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,ge.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const aH="@firebase/storage",cH="storage";function oN(n,t,e){return function tH(n,t,e){n._throwIfRoot("uploadBytes");const i=Qj(n.storage,n._location,O0(),new ad(t,!0),e);return n.storage.makeRequestWithTokens(i,Gl).then(r=>({metadata:r,ref:n}))}(n=(0,Ht.m9)(n),t,e)}function rT(n){return L9(n=(0,Ht.m9)(n))}function zp(n,t){return function j9(n,t){if(t&&function B9(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof sN)return function U9(n,t){return new $p(n,t)}(n,t);throw KO("To use ref(service, url), the first argument must be a Storage instance.")}return sH(n,t)}(n=(0,Ht.m9)(n),t)}function aN(n=(0,xs.getApp)(),t){return n=(0,Ht.m9)(n),(0,xs._getProvider)(n,cH).getImmediate({identifier:t})}function G9(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new sN(e,i,r,t,xs.SDK_VERSION)}!function $9(){(0,xs._registerComponent)(new hh.wA(cH,G9,"PUBLIC").setMultipleInstances(!0)),(0,xs.registerVersion)(aH,"0.9.3",""),(0,xs.registerVersion)(aH,"0.9.3","esm2017")}();let z9=(()=>{class n{constructor(e,i){this.crudUserService=e,this.router=i,this.user=new B_,this.submitted=!1,this.hide=!0,this.auth=(0,Qu.n)(),this.storage=aN()}ngOnInit(){}saveUser(){var e=this;return(0,ge.Z)(function*(){yield e.registerUser()})()}registerUser(){var e=this;return(0,ge.Z)(function*(){return null!=e.user.userEmail&&null!=e.user.userPassword&&((0,Qu.a4)(e.auth,e.user.userEmail,e.user.userPassword).then(i=>{var r;e.user.id=null===(r=e.auth.currentUser)||void 0===r?void 0:r.uid,e.uploadPictures(),e.crudUserService.create(e.user)}).catch(i=>{alert(i.message)}),!0)})()}searchLicense(){var e=document.createElement("input");e.type="file",e.accept="image/png, image/jpeg, image/jpg",e.onchange=i=>{var r,o;null!=i.target.files&&(this.License=null===(r=i.target.files)||void 0===r?void 0:r[0],this.user.userDriverLicense=null===(o=this.License)||void 0===o?void 0:o.name)},e.click()}searchPicture(){var e=document.createElement("input");e.type="file",e.accept="image/png, image/jpeg, image/jpg",e.onchange=i=>{var r,o;null!=i.target.files&&(this.Picture=null===(r=i.target.files)||void 0===r?void 0:r[0],this.user.userPic=null===(o=this.Picture)||void 0===o?void 0:o.name)},e.click()}uploadPictures(){null!=this.License?oN(zp(this.storage,`${this.user.id}/License/${this.user.userDriverLicense}`),this.License):null!=this.Picture&&oN(zp(this.storage,`${this.user.id}/Picture/${this.user.userPic}`),this.Picture),this.License=void 0,this.Picture=void 0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(U_),s.Y36(yi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-create"]],decls:47,vars:9,consts:[[1,"title_text"],[1,"user_submit_form"],[1,"field"],["id","name","appearance","outline"],["matInput","","type","text","required","","placeholder","Nombre",3,"ngModel","ngModelChange"],["id","age","appearance","outline"],["matInput","","type","text","id","age","required","","placeholder","Edad",3,"ngModel","ngModelChange"],["appearance","outline"],["matInput","","placeholder","Contrase\xf1a",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","id","passwdRepeat","placeholder","Repetir contrase\xf1a",3,"type"],["matInput","","type","text","id","email","required","","placeholder","Correo Electr\xf3nico",3,"ngModel","ngModelChange"],["matInput","","type","text","id","phone","required","","placeholder","Telefono",3,"ngModel","ngModelChange"],[1,"upload_buttons"],["mat-button","","id","carnet",3,"click"],["mat-button","","id","perfil",3,"click"],[1,"register"],["mat-button","","id","regBut",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Crear una cuenta de UniCar"),s.qZA(),s.TgZ(2,"div",1)(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),s._uU(6,"Nombre"),s.qZA(),s.TgZ(7,"input",4),s.NdJ("ngModelChange",function(o){return i.user.userName=o}),s.qZA()(),s.TgZ(8,"mat-form-field",5)(9,"mat-label"),s._uU(10,"Edad"),s.qZA(),s.TgZ(11,"input",6),s.NdJ("ngModelChange",function(o){return i.user.userAge=o}),s.qZA()()(),s.TgZ(12,"div",2)(13,"mat-form-field",7)(14,"mat-label"),s._uU(15,"Contrase\xf1a"),s.qZA(),s.TgZ(16,"input",8),s.NdJ("ngModelChange",function(o){return i.user.userPassword=o}),s.qZA(),s.TgZ(17,"button",9),s.NdJ("click",function(){return i.hide=!i.hide}),s.TgZ(18,"mat-icon"),s._uU(19),s.qZA()()()(),s.TgZ(20,"div",2)(21,"mat-form-field",7)(22,"mat-label"),s._uU(23,"Repetir contrase\xf1a"),s.qZA(),s._UZ(24,"input",10),s.qZA()(),s.TgZ(25,"div",2)(26,"mat-form-field",7)(27,"mat-label"),s._uU(28,"Email"),s.qZA(),s.TgZ(29,"input",11),s.NdJ("ngModelChange",function(o){return i.user.userEmail=o}),s.qZA()()(),s.TgZ(30,"div",2)(31,"mat-form-field",7)(32,"mat-label"),s._uU(33,"Telefono"),s.qZA(),s.TgZ(34,"input",12),s.NdJ("ngModelChange",function(o){return i.user.userTlf=o}),s.qZA()()(),s.TgZ(35,"div",13)(36,"button",14),s.NdJ("click",function(){return i.searchLicense()}),s._uU(37,"Subir carnet de conducir "),s.TgZ(38,"mat-icon"),s._uU(39,"file_upload"),s.qZA()(),s.TgZ(40,"button",15),s.NdJ("click",function(){return i.searchPicture()}),s._uU(41,"Subir foto de perfil "),s.TgZ(42,"mat-icon"),s._uU(43,"file_upload"),s.qZA()()(),s.TgZ(44,"div",16)(45,"button",17),s.NdJ("click",function(){return i.saveUser()}),s._uU(46,"Registrarme"),s.qZA()()()),2&e&&(s.xp6(7),s.Q6J("ngModel",i.user.userName),s.xp6(4),s.Q6J("ngModel",i.user.userAge),s.xp6(5),s.Q6J("type",i.hide?"password":"text")("ngModel",i.user.userPassword),s.xp6(1),s.uIk("aria-label","Hide password"),s.xp6(2),s.Oqu(i.hide?"visibility_off":"visibility"),s.xp6(5),s.Q6J("type",i.hide?"password":"text"),s.xp6(5),s.Q6J("ngModel",i.user.userEmail),s.xp6(5),s.Q6J("ngModel",i.user.userTlf))},directives:[Pu,Ml,Fu,ir,Bd,Pr,Lr,jr,ah,Lp],styles:[".title_text[_ngcontent-%COMP%]{margin-left:40%;margin-top:15px;font-size:large}.user_submit_form[_ngcontent-%COMP%]{margin-left:25%}.field[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:60%}.upload_buttons[_ngcontent-%COMP%]{display:flex}#name[_ngcontent-%COMP%]{width:40%}#age[_ngcontent-%COMP%]{position:relative;width:18%;margin-left:2%}#carnet[_ngcontent-%COMP%]{background-color:#4db6ac;color:#fff;min-width:-moz-fit-content;min-width:fit-content;height:38px;margin-right:20px}#perfil[_ngcontent-%COMP%]{background-color:#4db6ac;color:#fff;min-width:-moz-fit-content;min-width:fit-content;height:38px}#regBut[_ngcontent-%COMP%]{background-color:#4db6ac;color:#fff;min-width:-moz-fit-content;min-width:fit-content;width:111px;height:38px;margin-top:5px}.register[_ngcontent-%COMP%]{margin-left:24%;margin-top:25px;margin-bottom:20%}"]}),n})(),q9=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-delete"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1,"delete works!"),s.qZA())},styles:[""]}),n})(),uH=(()=>{class n{constructor(e){this.firestore=e,this.trips$=FV(Wk(this.firestore,"trips"))}read(e){return s1(sa(this.firestore,"trips/"+e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dH=(()=>{class n{constructor(e,i,r){this.crudUserService=i,this.showViajeService=r,this.dbPath="users",this.db=e}getTripsForUser(e,i){var r=new Map;const o=this.crudUserService.read(e);return o.then(u=>{null!=u&&(this.userData=u)}),o.then(()=>{if(null!=this.userData){if(0==i)var u=JSON.stringify(this.userData.createdTrips);else u=1==i?JSON.stringify(this.userData.requestedTrips):JSON.stringify(this.userData.favTrips);Object.keys(JSON.parse(u)).forEach(p=>{null!=p&&this.showViajeService.read(p).then(C=>{null!=C.data()&&r.set(C.id,C.data().origin+" - "+C.data().destination)})})}return r}).catch(u=>{console.log("Hubo un error inesperado: ",u)}),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fc),s.LFG(U_),s.LFG(uH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function W9(n,t){if(1&n&&(s.TgZ(0,"div",18)(1,"p"),s._uU(2),s.qZA(),s.TgZ(3,"p"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6,"Puntuaci\xf3n: "),s.qZA(),s.TgZ(7,"p"),s._uU(8),s.qZA(),s.TgZ(9,"p"),s._uU(10),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.userData.userName),s.xp6(2),s.hij("Edad: ",e.userData.userAge,""),s.xp6(4),s.hij("\xa0Conductor: ",e.userData.driverPoints,""),s.xp6(2),s.hij("\xa0Pasajero: ",e.userData.passengerPoints,"")}}const lN=function(n){return["/viaje",n]};function Z9(n,t){if(1&n&&(s.TgZ(0,"mat-action-list",19)(1,"mat-list-item")(2,"a",8),s._uU(3),s.qZA()(),s._UZ(4,"mat-divider"),s.qZA()),2&n){const e=t.$implicit;s.xp6(2),s.Q6J("routerLink",s.VKq(2,lN,e.key)),s.xp6(1),s.Oqu(e.value)}}function Y9(n,t){if(1&n&&(s.TgZ(0,"mat-action-list",19)(1,"mat-list-item")(2,"a",8),s._uU(3),s.qZA()(),s._UZ(4,"mat-divider"),s.qZA()),2&n){const e=t.$implicit;s.xp6(2),s.Q6J("routerLink",s.VKq(2,lN,e.key)),s.xp6(1),s.Oqu(e.value)}}function K9(n,t){if(1&n&&(s.TgZ(0,"mat-action-list",19)(1,"mat-list-item")(2,"a",8),s._uU(3),s.qZA()(),s._UZ(4,"mat-divider"),s.qZA()),2&n){const e=t.$implicit;s.xp6(2),s.Q6J("routerLink",s.VKq(2,lN,e.key)),s.xp6(1),s.Oqu(e.value)}}const J9=function(n){return["/modificarUsuario",n]};let Q9=(()=>{class n{constructor(e,i,r,o){this.crudUserService=e,this.showViajeService=i,this.userTripsService=r,this.router=o,this.storage=aN(),this.userData=new B_,this.id=this.router.snapshot.params.id}ngOnInit(){this.read()}getProfilePic(){rT(zp(this.storage,`${this.userData.id}/Picture/${this.userData.userPic}`)).then(r=>{this.userProfilePic=r}).catch(r=>{console.log(r),alert("Se ha producido un error al cargar la foto de perfil"),rT(zp(this.storage,"no_profile_pic/profile_user.png")).then(h=>{this.userProfilePic=h})})}read(){this.crudUserService.read(this.id).then(i=>{null!=i&&(this.userData=i,this.getProfilePic(),this.userCreatedTrips=this.getUserTrips(0),this.userRequestedTrips=this.getUserTrips(1),this.userFavTrips=this.getUserTrips(2))}).catch(i=>{console.log(i),alert("Se ha producido un error al recuperar los datos")})}getUserTrips(e){return this.userTripsService.getTripsForUser(this.id,e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(U_),s.Y36(uH),s.Y36(dH),s.Y36(Za))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-read"]],decls:33,vars:14,consts:[[1,"container"],[1,"cardUsuario"],[1,"imagenPerfil"],[1,"profile-pic",3,"src"],["class","datosUsuario",4,"ngIf"],[1,"botonesPerfil"],["mat-raised-button","","disabled",""],["mat-raised-button",""],[3,"routerLink"],[1,"trips"],[1,"viajesCreados"],[1,"tituloViajes"],[1,"matViajesCreados"],["role","list",4,"ngFor","ngForOf"],[1,"viajesFavoritos"],[1,"matViajesFavoritos"],[1,"viajesSolicitados"],[1,"matViajesSolicitados"],[1,"datosUsuario"],["role","list"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"mat-card",1)(2,"div",2),s._UZ(3,"img",3),s.qZA(),s.YNc(4,W9,11,4,"div",4),s.TgZ(5,"div",5)(6,"button",6),s._uU(7," 6,385 kg CO2 ahorrado "),s.qZA(),s.TgZ(8,"button",7)(9,"a",8),s._uU(10,"Modificar perfil"),s.qZA()()()(),s.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"p"),s._uU(15,"Viajes Creados"),s.qZA()(),s.TgZ(16,"mat-card",12),s.YNc(17,Z9,5,4,"mat-action-list",13),s.ALo(18,"keyvalue"),s.qZA()(),s.TgZ(19,"div",14)(20,"div",11)(21,"p"),s._uU(22,"Viajes Favortios"),s.qZA()(),s.TgZ(23,"mat-card",15),s.YNc(24,Y9,5,4,"mat-action-list",13),s.ALo(25,"keyvalue"),s.qZA()(),s.TgZ(26,"div",16)(27,"div",11)(28,"p"),s._uU(29,"Viajes Solicitados"),s.qZA()(),s.TgZ(30,"mat-card",17),s.YNc(31,K9,5,4,"mat-action-list",13),s.ALo(32,"keyvalue"),s.qZA()()()()),2&e&&(s.xp6(3),s.s9C("src",i.userProfilePic,s.LSH),s.xp6(1),s.Q6J("ngIf",null!=i.userData),s.xp6(5),s.Q6J("routerLink",s.VKq(12,J9,i.id)),s.xp6(8),s.Q6J("ngForOf",s.lcZ(18,6,i.userCreatedTrips)),s.xp6(7),s.Q6J("ngForOf",s.lcZ(25,8,i.userFavTrips)),s.xp6(7),s.Q6J("ngForOf",s.lcZ(32,10,i.userRequestedTrips)))},directives:[J1,An,jr,m0,In,qO,kj,Ej],pipes:[ha],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex-wrap:wrap;padding:1em;flex-grow:1}.cardUsuario[_ngcontent-%COMP%]{display:flex;width:50%;flex-direction:row;justify-content:space-around;flex-wrap:wrap;background-color:#e2e2e2}.botonesPerfil[_ngcontent-%COMP%], .datosUsuario[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.datosUsuario[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:2;justify-content:flex-start;text-align:left}.botonesPerfil[_ngcontent-%COMP%], .imagenPerfil[_ngcontent-%COMP%]{flex-grow:1}.botonesPerfil[_ngcontent-%COMP%]{justify-content:center;gap:1em}.mat-raised-button[_ngcontent-%COMP%]{background-color:#009688!important;color:#fff!important}.imagenPerfil[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.trips[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-around;width:90%;flex-wrap:wrap;padding:3em}.viajesCreados[_ngcontent-%COMP%], .viajesSolicitados[_ngcontent-%COMP%], .viajesFavoritos[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:30%}.tituloViajes[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:large}.matViajesCreados[_ngcontent-%COMP%], .matViajesSolicitados[_ngcontent-%COMP%], .matViajesFavoritos[_ngcontent-%COMP%]{background-color:#e2e2e2;padding:16px 0}.mat-list-base[_ngcontent-%COMP%]{padding-top:0!important}.trips[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:25px;font-weight:700}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:visited{color:inherit;text-decoration:none}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]{justify-content:center!important}#viajes[_ngcontent-%COMP%]{display:flex;justify-content:center}.profile-pic[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:50%;margin:auto}"]}),n})();const cN=function(){return{standalone:!0}};function X9(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"mat-form-field",12)(2,"mat-label"),s._uU(3,"Nombre y Apellidos"),s.qZA(),s.TgZ(4,"input",20),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().user.userName=r}),s.qZA()(),s.BQk()}if(2&n){const e=s.oxw();s.xp6(4),s.Q6J("ngModel",e.user.userName)("ngModelOptions",s.DdM(2,cN))}}function eJ(n,t){if(1&n&&(s.TgZ(0,"mat-action-list",21)(1,"mat-card",2)(2,"mat-card-title"),s._uU(3),s.qZA(),s.TgZ(4,"mat-card-actions",4)(5,"button",6),s._uU(6,"Borrar"),s.qZA()()(),s._UZ(7,"mat-divider"),s.qZA()),2&n){const e=t.$implicit;s.xp6(3),s.Oqu(e.value)}}const tJ=function(n){return["/viaje",n]};function nJ(n,t){if(1&n&&(s.TgZ(0,"mat-action-list",21)(1,"mat-card",2)(2,"mat-card-title"),s._uU(3),s.qZA(),s.TgZ(4,"mat-card-actions",4)(5,"button",22),s._uU(6,"Editar"),s.qZA(),s.TgZ(7,"button",6),s._uU(8,"Borrar"),s.qZA()()(),s._UZ(9,"mat-divider"),s.qZA()),2&n){const e=t.$implicit;s.xp6(3),s.Oqu(e.value),s.xp6(2),s.Q6J("routerLink",s.VKq(2,tJ,e.key))}}function iJ(n,t){if(1&n&&(s.TgZ(0,"mat-action-list",21)(1,"mat-card",2)(2,"mat-card-title"),s._uU(3),s.qZA(),s.TgZ(4,"mat-card-actions",4)(5,"button",6),s._uU(6,"Borrar"),s.qZA()()(),s._UZ(7,"mat-divider"),s.qZA()),2&n){const e=t.$implicit;s.xp6(3),s.Oqu(e.value)}}let rJ=(()=>{class n{constructor(e,i,r){this.crudUserService=e,this.userTripsService=i,this.router=r,this.storage=aN(),this.emailFormControl=new fc("",[vo.required,vo.email]),this.inputControl=new fc,this.user=new B_,this.id=this.router.snapshot.params.id}getUser(){this.crudUserService.read(this.id).then(i=>{null!=i&&(this.user=i,this.userCreatedTrips=this.getUserTrips(0),this.userRequestedTrips=this.getUserTrips(1),this.userFavTrips=this.getUserTrips(2),this.getProfilePic())}).catch(i=>{console.log(i),alert("Se ha producido un error al recuperar los datos")})}searchPicture(){var e=document.createElement("input");e.type="file",e.accept="image/png, image/jpeg, image/jpg",e.onchange=i=>{var r,o;null!=i.target.files&&(this.userPicture=null===(r=i.target.files)||void 0===r?void 0:r[0],this.user.userPic=null===(o=this.userPicture)||void 0===o?void 0:o.name,this.uploadPictures(),this.getProfilePic())},e.click()}uploadPictures(){null!=this.userPicture&&oN(zp(this.storage,`${this.user.id}/Picture/${this.user.userPic}`),this.userPicture),this.userPicture=void 0}getProfilePic(){rT(zp(this.storage,`${this.user.id}/Picture/${this.user.userPic}`)).then(r=>{this.userPicUrl=r}).catch(r=>{console.log(r),alert("Se ha producido un error al cargar la foto de perfil"),rT(zp(this.storage,"no_profile_pic/profile_user.png")).then(h=>{this.userPicUrl=h})})}getUserTrips(e){return this.userTripsService.getTripsForUser(this.id,e)}ngOnInit(){this.getUser(),this.inputControl=new fc}update(){null!=this.user&&(this.uploadPictures(),this.crudUserService.update(this.id,this.user))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(U_),s.Y36(dH),s.Y36(Za))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-update"]],decls:48,vars:17,consts:[[1,"container"],[1,"user-form"],[1,"viaje-uno"],["mat-card-image","","alt","Profile picture",1,"profile-pic",3,"src"],["align","end"],["mat-raised-button","","color","primary",1,"primary-button",3,"click"],["mat-raised-button","","color","warn"],[1,"example-form"],[4,"ngIf"],[1,"viaje-dos"],["appearance","fill",1,"example-mid-width"],["matInput","","type","number",3,"ngModel","ngModelOptions","ngModelChange"],["appearance","fill",1,"example-full-width"],["matPrefix",""],["type","tel","matInput","",3,"ngModel","ngModelOptions","ngModelChange"],[1,"boton-uno"],[1,"viajes-fav"],["role","list",4,"ngFor","ngForOf"],[1,"viajes-creados"],[1,"viajes-solicitados"],["matInput","","type","text",3,"ngModel","ngModelOptions","ngModelChange"],["role","list"],["mat-raised-button","","color","primary",1,"primary-button",3,"routerLink"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1")(3,"b"),s._uU(4,"Datos Personales"),s.qZA()(),s.TgZ(5,"mat-card",2),s._UZ(6,"img",3),s.TgZ(7,"mat-card-actions",4)(8,"button",5),s.NdJ("click",function(){return i.searchPicture()}),s._uU(9,"Cambiar"),s.qZA(),s.TgZ(10,"button",6),s._uU(11,"Borrar"),s.qZA()()(),s.TgZ(12,"div",2)(13,"form",7),s.YNc(14,X9,5,3,"ng-container",8),s.qZA()(),s.TgZ(15,"div",9)(16,"form",7)(17,"mat-form-field",10)(18,"mat-label"),s._uU(19,"Edad"),s.qZA(),s.TgZ(20,"input",11),s.NdJ("ngModelChange",function(o){return i.user.userAge=o}),s.qZA()(),s.TgZ(21,"mat-form-field",12)(22,"mat-label"),s._uU(23,"Tel\xe9fono"),s.qZA(),s.TgZ(24,"span",13),s._uU(25,"+34 \xa0"),s.qZA(),s.TgZ(26,"input",14),s.NdJ("ngModelChange",function(o){return i.user.userTlf=o}),s.qZA()()()(),s.TgZ(27,"div",15)(28,"button",5),s.NdJ("click",function(){return i.update()}),s._uU(29,"Actualizar Perfil"),s.qZA()(),s.TgZ(30,"h1")(31,"b"),s._uU(32,"Viajes"),s.qZA()(),s.TgZ(33,"div",16)(34,"h2"),s._uU(35,"Mis viajes favoritos"),s.qZA(),s.YNc(36,eJ,8,1,"mat-action-list",17),s.ALo(37,"keyvalue"),s.qZA(),s.TgZ(38,"div",18)(39,"h2"),s._uU(40,"Mis viajes creados"),s.qZA(),s.YNc(41,nJ,10,4,"mat-action-list",17),s.ALo(42,"keyvalue"),s.qZA(),s.TgZ(43,"div",19)(44,"h2"),s._uU(45,"Mis viajes solicitados"),s.qZA(),s.YNc(46,iJ,8,1,"mat-action-list",17),s.ALo(47,"keyvalue"),s.qZA()()()),2&e&&(s.xp6(6),s.s9C("src",i.userPicUrl,s.LSH),s.xp6(8),s.Q6J("ngIf",null!=i.user.userName),s.xp6(6),s.Q6J("ngModel",i.user.userAge)("ngModelOptions",s.DdM(15,cN)),s.xp6(6),s.Q6J("ngModel",i.user.userTlf)("ngModelOptions",s.DdM(16,cN)),s.xp6(10),s.Q6J("ngForOf",s.lcZ(37,9,i.userFavTrips)),s.xp6(5),s.Q6J("ngForOf",s.lcZ(42,11,i.userCreatedTrips)),s.xp6(5),s.Q6J("ngForOf",s.lcZ(47,13,i.userRequestedTrips)))},directives:[J1,XK,Cj,jr,Pd,zo,Wo,An,Pu,Ml,Fu,ir,Pr,Lr,mu,SI,In,qO,QK,Ej,O1],pipes:[ha],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-mid-width[_ngcontent-%COMP%]{width:50%}td[_ngcontent-%COMP%]{padding-right:8px}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}.viaje-uno[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:600px}.viaje-dos[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:230px;margin:auto 20px auto 0}.viaje-dos[_ngcontent-%COMP%], .viaje-uno[_ngcontent-%COMP%]{width:600px;margin:10px auto}.footer[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{text-align:center;background:#009688;font-size:10px;padding:40px;line-height:100%}.footer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:300px}.header[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{text-align:center;background:#009688;font-size:20px;padding:20px}.user-form[_ngcontent-%COMP%]{margin:30px}.profile-pic[_ngcontent-%COMP%]{height:200px;width:200px;border-radius:50%;margin:auto}.mat-card-image[_ngcontent-%COMP%]:first-child{border-top-left-radius:50%;border-top-right-radius:50%}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:550px}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:500px;color:#fff}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:550px}.primary-button[_ngcontent-%COMP%]{background:#009688;color:#fff;margin:0 10px}.boton-uno[_ngcontent-%COMP%]{width:600px;margin:10px auto;text-align:center}.container[_ngcontent-%COMP%]{padding-bottom:110px}.buttonText[_ngcontent-%COMP%]{text-decoration:none;color:#fff}"]}),n})(),hH=(()=>{class n{constructor(e){this.router=e,this.origin="",this.destiny="",this.date=new Date,this.numberOfPassengers=1}ngOnInit(){}openSesion(){this.router.navigate(["/registrarse"])}openTrips(){this.router.navigate(["/crearViaje"])}search(){this.router.navigate(["/search/"+this.origin+";"+this.destiny+";"+this.date+";"+this.numberOfPassengers])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home-page"]],decls:55,vars:9,consts:[["id","container"],["id","search"],["id","mision"],["id","searchbar"],["appearance","outline"],["matInput","","maxlength","16","placeholder","Las Palmas",3,"ngModel","ngModelChange"],["input",""],["align","end"],["matInput","","maxlength","16","placeholder","Campus Tafira",3,"ngModel","ngModelChange"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],[3,"ngModel","ngModelChange"],["picker",""],["matNativeControl","",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["value","4"],["mat-button","",3,"click"],["id","info"],["id","dialogo"],["src","../../assets/3.png"],["id","nube"],["src","../../assets/1.png"],["id","coches"],["src","../../assets/4.png"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"Viaja a la universidad apoyando al medio ambiente"),s.qZA(),s.TgZ(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),s._uU(7,"Entre Origen"),s.qZA(),s.TgZ(8,"input",5,6),s.NdJ("ngModelChange",function(o){return i.origin=o}),s.qZA(),s.TgZ(10,"mat-hint",7),s._uU(11),s.qZA()(),s.TgZ(12,"mat-form-field",4)(13,"mat-label"),s._uU(14,"Entre Destino"),s.qZA(),s.TgZ(15,"input",8,6),s.NdJ("ngModelChange",function(o){return i.destiny=o}),s.qZA(),s.TgZ(17,"mat-hint",7),s._uU(18),s.qZA()(),s.TgZ(19,"mat-form-field",4)(20,"mat-label"),s._uU(21,"Escoga fecha"),s.qZA(),s.TgZ(22,"input",9),s.NdJ("ngModelChange",function(o){return i.date=o}),s.qZA(),s.TgZ(23,"mat-hint"),s._uU(24,"MM/DD/YYYY"),s.qZA(),s._UZ(25,"mat-datepicker-toggle",10),s.TgZ(26,"mat-datepicker",11,12),s.NdJ("ngModelChange",function(o){return i.date=o}),s.qZA()(),s.TgZ(28,"mat-form-field",4)(29,"mat-label"),s._uU(30,"N\xba de Pasajeros"),s.qZA(),s.TgZ(31,"select",13),s.NdJ("ngModelChange",function(o){return i.numberOfPassengers=o}),s.TgZ(32,"option",14),s._uU(33,"1"),s.qZA(),s.TgZ(34,"option",15),s._uU(35,"2"),s.qZA(),s.TgZ(36,"option",16),s._uU(37,"3"),s.qZA(),s.TgZ(38,"option",17),s._uU(39,"4"),s.qZA()()(),s.TgZ(40,"button",18),s.NdJ("click",function(){return i.search()}),s._uU(41,"Buscar"),s.qZA()()(),s.TgZ(42,"div",19)(43,"div",20),s._UZ(44,"img",21),s.TgZ(45,"h2"),s._uU(46," Contacta con otros universitarios que vivan cerca tuyo y vayan a uno de los campus de Tafira, Obelisco, San Crist\xf3bal o Monta\xf1a Cardones. "),s.qZA()(),s.TgZ(47,"div",22),s._UZ(48,"img",23),s.TgZ(49,"h2"),s._uU(50,"Ayuda a reducir el impacto del C02 en el medio ambiente."),s.qZA()(),s.TgZ(51,"div",24),s._UZ(52,"img",25),s.TgZ(53,"h2"),s._uU(54,"Reduce el tr\xe1fico en las horas puntas en la ciudad usando UniCar."),s.qZA()()()()),2&e){const r=s.MAs(9),o=s.MAs(27);s.xp6(8),s.Q6J("ngModel",i.origin),s.xp6(3),s.hij("",(null==r.value?null:r.value.length)||0,"/16"),s.xp6(4),s.Q6J("ngModel",i.destiny),s.xp6(3),s.hij("",(null==r.value?null:r.value.length)||0,"/16"),s.xp6(4),s.Q6J("matDatepicker",o)("ngModel",i.date),s.xp6(3),s.Q6J("for",o),s.xp6(1),s.Q6J("ngModel",i.date),s.xp6(5),s.Q6J("ngModel",i.numberOfPassengers)}},directives:[Pu,Ml,Fu,ir,gg,Pr,Lr,TI,Wv,qR,ah,OD,Tt,qt,gc,jr],styles:[".header[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{position:center;height:100px;background:#4DB6AC}#botonViaje[_ngcontent-%COMP%], #botonSesion[_ngcontent-%COMP%]{background-color:#009688;color:#fff}#mision[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:45px;margin-top:7%}#search[_ngcontent-%COMP%]{height:600px;background-image:url(imagenfondo.86ae87297cfffa22.png);padding-top:3%}#searchbar[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;border-color:#009688;border-width:2px;border-style:solid;margin:8%;padding:15px 15px 3px}#searchbar[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{width:20%;margin-right:20px}#searchbar[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:10%;background-color:#009688;color:#fff}#info[_ngcontent-%COMP%]{display:flex;justify-content:center}#dialogo[_ngcontent-%COMP%], #nube[_ngcontent-%COMP%], #coches[_ngcontent-%COMP%]{width:30%}#dialogo[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-top:-125px}#nube[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-top:-125px}#coches[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-top:-125px}#container[_ngcontent-%COMP%]{padding-bottom:80px}"]}),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sJ=(()=>{class n{constructor(e,i,r){this.showViaje=e,this.router=i,this.UpdateViajeService=r,this.viaje={nameDriver:"",date:"",origin:"",destination:"",hour:"",model_car:"",brand_car:"",colour_car:"",seats:0,price:0},this.showViaje.read(this.router.snapshot.params.id).then(u=>{if(null!=u.data())return this.viaje=u.data(),!0;console.log("Not Found")}).catch(u=>{console.log(u),alert(u.message)})}onUpdate(){this.UpdateViajeService.updateTrip(this.viaje,this.router.snapshot.params.id),console.log("Data add successfully")}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(WO),s.Y36(Za),s.Y36(Q1))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-update-viaje"]],decls:57,vars:10,consts:[[1,"viaje-uno"],[3,"ngSubmit"],["appearance","fill"],["matInput","","type","text","placeholder","Nombre","name","nameDriver",3,"ngModel","ngModelChange"],[1,"viaje-dos"],["matInput","","type","text","placeholder","Origen","name","origin",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Destino","name","destination",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Fecha","name","date",3,"ngModel","ngModelChange"],["matSuffix",""],["matInput","","type","text","placeholder","Hora","name","hour",3,"ngModel","ngModelChange"],[1,"viaje-tres"],["matInput","","type","text","placeholder","Modelo Coche","name","model_car",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Marca Coche","name","brand_car",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Color Coche","name","colour_car",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Capacidad","name","seats",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Precio","name","price",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"h1"),s._uU(1,"Editar Viaje"),s.qZA(),s.TgZ(2,"div",0)(3,"form",1),s.NdJ("ngSubmit",function(){return i.onUpdate()}),s.TgZ(4,"mat-form-field",2)(5,"mat-label"),s._uU(6,"Nombre Conductor"),s.qZA(),s.TgZ(7,"input",3),s.NdJ("ngModelChange",function(o){return i.viaje.nameDriver=o}),s.qZA()()()(),s.TgZ(8,"div",4)(9,"form",1),s.NdJ("ngSubmit",function(){return i.onUpdate()}),s.TgZ(10,"mat-form-field",2)(11,"mat-label"),s._uU(12,"Origen"),s.qZA(),s.TgZ(13,"input",5),s.NdJ("ngModelChange",function(o){return i.viaje.origin=o}),s.qZA()(),s.TgZ(14,"mat-form-field",2)(15,"mat-label"),s._uU(16,"Destino"),s.qZA(),s.TgZ(17,"input",6),s.NdJ("ngModelChange",function(o){return i.viaje.destination=o}),s.qZA()(),s._UZ(18,"br"),s.TgZ(19,"mat-form-field",2)(20,"mat-label"),s._uU(21,"Fecha"),s.qZA(),s.TgZ(22,"input",7),s.NdJ("ngModelChange",function(o){return i.viaje.date=o}),s.qZA(),s.TgZ(23,"mat-icon",8),s._uU(24,"date_range"),s.qZA()(),s.TgZ(25,"mat-form-field",2)(26,"mat-label"),s._uU(27,"Hora"),s.qZA(),s.TgZ(28,"input",9),s.NdJ("ngModelChange",function(o){return i.viaje.hour=o}),s.qZA()()()(),s.TgZ(29,"div",10)(30,"form",1),s.NdJ("ngSubmit",function(){return i.onUpdate()}),s.TgZ(31,"mat-form-field",2)(32,"mat-label"),s._uU(33,"Modelo Coche"),s.qZA(),s.TgZ(34,"input",11),s.NdJ("ngModelChange",function(o){return i.viaje.model_car=o}),s.qZA()(),s.TgZ(35,"mat-form-field",2)(36,"mat-label"),s._uU(37,"Marca Coche"),s.qZA(),s.TgZ(38,"input",12),s.NdJ("ngModelChange",function(o){return i.viaje.brand_car=o}),s.qZA()(),s.TgZ(39,"mat-form-field",2)(40,"mat-label"),s._uU(41,"Color Coche"),s.qZA(),s.TgZ(42,"input",13),s.NdJ("ngModelChange",function(o){return i.viaje.colour_car=o}),s.qZA()()()(),s.TgZ(43,"div",4)(44,"form",1),s.NdJ("ngSubmit",function(){return i.onUpdate()}),s.TgZ(45,"mat-form-field",2)(46,"mat-label"),s._uU(47,"Capacidad"),s.qZA(),s.TgZ(48,"input",14),s.NdJ("ngModelChange",function(o){return i.viaje.seats=o}),s.qZA(),s.TgZ(49,"mat-icon",8),s._uU(50,"account_box"),s.qZA()(),s.TgZ(51,"mat-form-field",2)(52,"mat-label"),s._uU(53,"Precio"),s.qZA(),s.TgZ(54,"input",15),s.NdJ("ngModelChange",function(o){return i.viaje.price=o}),s.qZA()()(),s.TgZ(55,"button",16),s.NdJ("click",function(){return i.onUpdate()}),s._uU(56,"Actualizar Viaje"),s.qZA()()),2&e&&(s.xp6(7),s.Q6J("ngModel",i.viaje.nameDriver),s.xp6(6),s.Q6J("ngModel",i.viaje.origin),s.xp6(4),s.Q6J("ngModel",i.viaje.destination),s.xp6(5),s.Q6J("ngModel",i.viaje.date),s.xp6(6),s.Q6J("ngModel",i.viaje.hour),s.xp6(6),s.Q6J("ngModel",i.viaje.model_car),s.xp6(4),s.Q6J("ngModel",i.viaje.brand_car),s.xp6(4),s.Q6J("ngModel",i.viaje.colour_car),s.xp6(6),s.Q6J("ngModel",i.viaje.seats),s.xp6(6),s.Q6J("ngModel",i.viaje.price))},directives:[Pd,zo,Wo,Pu,Ml,Fu,ir,Pr,Lr,Lp,ah,jr],styles:[".header[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{text-align:center;background:#009688;font-size:20px;padding:20px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:550px}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:500px;color:#fff}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:550px}.viaje-uno[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:600px}.viaje-uno[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-left:300px}.viaje-dos[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-left:350px}.viaje-dos[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:220px}.viaje-dos[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}.viaje-dos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:550px}.viaje-tres[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-left:300px}.viaje-tres[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:220px}.viaje-tres[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}.footer[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{text-align:center;background:#009688;font-size:10px;padding:40px;line-height:100%}.footer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:300px}h1[_ngcontent-%COMP%]{text-align:center}.viaje-dos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#009688}"]}),n})(),oJ=(()=>{class n{constructor(e){this.trips=[],this.db=e}search(e,i,r,o){var u=this;return(0,ge.Z)(function*(){const h=Ju(Wb(u.db,"trips"),n1("origin","==",e),n1("destination","==",i),n1("date","==",o));return(yield I2(h)).forEach(y=>{console.log(y.id," => ",y.data()),u.trips.push(y.data())}),u.trips})()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",9)(1,"div")(2,"mat-icon"),s._uU(3,"account_circle"),s.qZA(),s.TgZ(4,"h1"),s._uU(5),s.qZA()(),s.TgZ(6,"mat-icon"),s._uU(7,"directions_car"),s.qZA(),s.TgZ(8,"h1"),s._uU(9),s.qZA(),s.TgZ(10,"div")(11,"h1"),s._uU(12),s.qZA()(),s.TgZ(13,"h1"),s._uU(14),s.qZA(),s.TgZ(15,"div")(16,"mat-icon"),s._uU(17,"arrow_downward"),s.qZA()(),s.TgZ(18,"div")(19,"h1"),s._uU(20),s.qZA()(),s.TgZ(21,"h1"),s._uU(22),s.qZA(),s.TgZ(23,"div",10)(24,"button",11),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw(2).showViaje(o.id)}),s._uU(25,"Ver Viaje"),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(5),s.Oqu(e.nameDriver),s.xp6(4),s.AsE(" ",e.brand_car," ",e.model_car," "),s.xp6(3),s.AsE("",e.date," ",e.hour,""),s.xp6(2),s.Oqu(e.origin),s.xp6(6),s.hij("",e.destination," "),s.xp6(2),s.hij(" ",e.seats," plazas disponibles")}}function lJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"section")(1,"div",1),s.NdJ("click",function(){return s.CHM(e),s.oxw().home()}),s.TgZ(2,"mat-form-field",2)(3,"mat-label"),s._uU(4,"Entre Origen"),s.qZA(),s.TgZ(5,"input",3,4),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().origin=r}),s.qZA()(),s.TgZ(7,"mat-form-field",2)(8,"mat-label"),s._uU(9,"Entre Destino"),s.qZA(),s.TgZ(10,"input",5,4),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().destiny=r}),s.qZA()(),s.TgZ(12,"mat-form-field",2)(13,"mat-label"),s._uU(14,"Escoga fecha"),s.qZA(),s.TgZ(15,"input",6),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().date=r}),s.qZA()(),s.TgZ(16,"mat-form-field",2)(17,"mat-label"),s._uU(18,"N\xba de Pasajeros"),s.qZA(),s.TgZ(19,"input",7),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().numberOfPassengers=r}),s.qZA()()(),s.YNc(20,aJ,26,8,"div",8),s.qZA()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("ngModel",e.origin),s.xp6(5),s.Q6J("ngModel",e.destiny),s.xp6(5),s.Q6J("ngModel",e.date),s.xp6(4),s.Q6J("ngModel",e.numberOfPassengers),s.xp6(1),s.Q6J("ngForOf",e.trips)}}let cJ=(()=>{class n{constructor(e,i,r,o,u){this.afsCompact=e,this.search=i,this.router=r,this.auxrouter=o,this.datepipe=u,this.trips=[],this.date="",this.dateLarge=new Date,this.aux="",this.ruta=[],this.origin="",this.destiny="",this.numberOfPassengers=0,this.aux=this.router.snapshot.params.id,this.ruta=this.aux.split(";"),this.date=this.datepipe.transform(this.ruta[2],"d/MM/yyyy"),this.origin=this.ruta[0],this.destiny=this.ruta[1],this.numberOfPassengers=Number(this.ruta[3]),this.search.search(this.origin,this.destiny,this.numberOfPassengers,this.date).then(p=>{this.trips=p})}home(){this.auxrouter.navigate(["/home"])}showViaje(e){this.auxrouter.navigate(["/viaje/"+e])}onSearchTrip(){this.trips=[],this.date=this.datepipe.transform(this.dateLarge,"d/MM/yyyy"),this.search.search(this.origin,this.destiny,this.numberOfPassengers,this.date).then(i=>{this.trips=i})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(IV),s.Y36(oJ),s.Y36(Za),s.Y36(yi),s.Y36(Wl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-search-viaje"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","searchbar",3,"click"],["appearance","outline"],["disabled","\xbbdisabled\xbb","matInput","","maxlength","16","placeholder","Las Palmas",3,"ngModel","ngModelChange"],["input",""],["disabled","\xbbdisabled\xbb","matInput","","maxlength","16","placeholder","Campus Tafira",3,"ngModel","ngModelChange"],["disabled","\xbbdisabled\xbb","matInput","",3,"ngModel","ngModelChange"],["disabled","\xbbdisabled\xbb","matNativeControl","",3,"ngModel","ngModelChange"],["id","viajes",4,"ngFor","ngForOf"],["id","viajes"],["id","botonDisplay"],["mat-raised-button","",1,"button",3,"click"]],template:function(e,i){1&e&&s.YNc(0,lJ,21,5,"section",0),2&e&&s.Q6J("ngIf",i.trips)},directives:[An,Pu,Ml,Fu,ir,gg,Pr,Lr,In,Lp,jr],styles:[".footer[_ngcontent-%COMP%]{width:100%;background:#009688;bottom:0;position:fixed;right:0}.mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background:#009688;font-size:10px;padding:40px;line-height:100%}.footer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:300px}.footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.header[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.header[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{text-align:center;background:#009688;font-size:20px;padding:20px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:550px}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:500px;color:#fff}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:42%;width:150px;height:150px}#icon[_ngcontent-%COMP%]{padding-left:5%}#icon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{margin:auto;font-size:50px}.buscar[_ngcontent-%COMP%]{margin-left:25%}.buscar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#009688;margin-left:20%}.buscar[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:250px}#searchbar[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;border-color:#009688;border-width:2px;border-style:solid;margin:5%;padding:10px 10px 3px}#searchbar[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{width:20%;margin-right:20px}#searchbar[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:10%;background-color:#009688;color:#fff}#viajes[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;border-color:#009688;border-width:2px;border-style:solid;margin:10%;padding:10px 10px 20px}#botonDisplay[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{background-color:#009688;color:#fff;border-radius:5px;display:flex;justify-content:center}section[_ngcontent-%COMP%]{padding-bottom:100px}"]}),n})();function uJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-list-item",6)(1,"div",7),s._uU(2),s.qZA(),s.TgZ(3,"mat-card-actions",8)(4,"button",9),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().deleteArr(o)}),s._uU(5," Borrar "),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e," ")}}const dJ=[{path:"viaje/:id",component:b7},{path:"crearViaje",component:C7},{path:"modificarViaje/:id",component:sJ},{path:"registrarse",component:z9},{path:"userDelete/:id",component:q9},{path:"miCuenta/:id",component:Q9},{path:"modificarUsuario/:id",component:rJ},{path:"home",component:hH},{path:"search/:id",component:cJ},{path:"sesion",component:(()=>{class n{constructor(e,i,r){this.crudUserService=e,this.router=i,this.home=r,this.hide=!0,this.user=new B_,this.auth=(0,Qu.n)()}ngOnInit(){}signIn(){var e=this;if(null==this.user.userEmail||null==this.user.userPassword)return alert("Por favor introduzca un usuario y contrase\xf1a"),!1;(0,Qu.a5)(this.auth,this.user.userEmail,this.user.userPassword).then((0,ge.Z)(function*(){var i,r;null!=(null===(i=e.auth.currentUser)||void 0===i?void 0:i.uid)?(e.user=yield e.crudUserService.read(null===(r=e.auth.currentUser)||void 0===r?void 0:r.uid),e.home.setUser(e.auth.currentUser.uid,e.user.userName)):console.log("Ta roto"),e.router.navigate(["home"])})).catch(i=>{alert("No se ha podido determinar que las credenciales proporcionadas sean aut\xe9nticas.")})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(U_),s.Y36(yi),s.Y36(DO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-in"]],decls:23,vars:6,consts:[[1,"field"],["id","name","appearance","outline"],["matInput","","type","text","placeholder","Correo",3,"ngModel","ngModelChange"],["id","passwd","appearance","outline"],["matInput","","placeholder","Contrase\xf1a",3,"ngModel","type","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],[1,"register"],["mat-button","","id","signInButton",3,"click"],[3,"routerLink"],["href","#"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),s._uU(3,"Correo electr\xf3nico"),s.qZA(),s.TgZ(4,"input",2),s.NdJ("ngModelChange",function(o){return i.user.userEmail=o}),s.qZA()()(),s.TgZ(5,"div",0)(6,"mat-form-field",3)(7,"mat-label"),s._uU(8,"Contrase\xf1a"),s.qZA(),s.TgZ(9,"input",4),s.NdJ("ngModelChange",function(o){return i.user.userPassword=o}),s.qZA(),s.TgZ(10,"button",5),s.NdJ("click",function(){return i.hide=!i.hide}),s.TgZ(11,"mat-icon"),s._uU(12),s.qZA()()()(),s.TgZ(13,"div",6)(14,"button",7),s.NdJ("click",function(){return i.signIn()}),s._uU(15,"Iniciar sesion"),s.qZA()(),s.TgZ(16,"p"),s._uU(17,"\xbfNo tienes una cuenta todav\xeda? "),s.TgZ(18,"a",8),s._uU(19,"Registrate aqui"),s.qZA()(),s.TgZ(20,"p")(21,"a",9),s._uU(22,"\xbfOlvidastes tu contrase\xf1a?"),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("ngModel",i.user.userEmail),s.xp6(5),s.Q6J("ngModel",i.user.userPassword)("type",i.hide?"password":"text"),s.xp6(1),s.uIk("aria-label","Hide password"),s.xp6(2),s.Oqu(i.hide?"visibility_off":"visibility"),s.xp6(6),s.Q6J("routerLink","/userCreate"))},directives:[Pu,Ml,Fu,ir,Pr,Lr,jr,ah,Lp,m0],styles:["div[_ngcontent-%COMP%]{margin-left:20%}#name[_ngcontent-%COMP%]{margin-top:50px;width:70%}#passwd[_ngcontent-%COMP%]{width:70%}#signInButton[_ngcontent-%COMP%]{background-color:#4db6ac;color:#fff;width:8%;min-width:-moz-fit-content;min-width:fit-content}.register[_ngcontent-%COMP%]{margin-left:43%;margin-right:47%;margin-bottom:35px}p[_ngcontent-%COMP%]{margin-left:20%}"]}),n})()},{path:"managePassenger/:id",component:(()=>{class n{constructor(e,i,r){this.showViaje=e,this.router=i,this.UpdateViajeService=r,this.passengers=[],this.viaje={}}ngOnInit(){var e=this;return(0,ge.Z)(function*(){yield e.showViaje.read(e.router.snapshot.params.id).then(r=>{if(null!=r.data())return e.passengers=r.data().passenger,e.viaje=r.data(),!0;console.log("Not Found")}).catch(r=>{console.log(r),alert(r.message)})})()}deleteArr(e){for(let i=0;i<e.length;i++)this.passengers[i]==e&&this.passengers.splice(i,1)}delete(){var e=this;return(0,ge.Z)(function*(){e.viaje.passenger=e.passengers,yield e.UpdateViajeService.updateTrip(e.viaje,e.router.snapshot.params.id)})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(WO),s.Y36(Za),s.Y36(Q1))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-manage-passengers"]],decls:7,vars:1,consts:[["id","container"],["id","card"],["id","todas"],["role","listitem",4,"ngFor","ngForOf"],["id","botonContainer"],["mat-raised-button","","color","primary",1,"guardar",3,"click"],["role","listitem"],["id","atributos"],["align","end"],["mat-raised-button","","color","warn",1,"borrar",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-list",2),s.YNc(3,uJ,6,1,"mat-list-item",3),s.qZA()(),s.TgZ(4,"div",4)(5,"button",5),s.NdJ("click",function(){return i.delete()}),s._uU(6," Guardar cambios "),s.qZA()()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i.passengers))},directives:[J1,qO,In,kj,Cj,jr],styles:["#card[_ngcontent-%COMP%]{margin-bottom:5%;left:30%;background:#009688;width:40%}#container[_ngcontent-%COMP%]{padding-top:5%;min-height:100%;background-image:url(imagenfondo.86ae87297cfffa22.png)}#atributos[_ngcontent-%COMP%]{vertical-align:middle;color:#fff;width:15%}.borrar[_ngcontent-%COMP%]{border-radius:5px;color:#fff;margin-left:2%}.guardar[_ngcontent-%COMP%]{margin:0 auto;background-color:#4db6ac;border-radius:5px;color:#fff}#botonContainer[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),n})()},{path:"**",component:hH}];let hJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[BB.forRoot(dJ)],BB]}),n})(),fJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[DO]}),n.\u0275inj=s.cJS({providers:[Wl],imports:[[jz(()=>Hz(Uk_firebase)),l5(()=>c5()),no.hO.initializeApp(Uk_firebase),$8,js,KS,ss,qf,yv,Pv,Y4,Ud,D4,LD,e7,MC,GK,hJ,Tj,m7,uI,YK,V4]]}),n})();(0,s.G48)(),al().bootstrapModule(fJ).catch(n=>console.error(n))},2011:(gt,Ae,F)=>{F.d(Ae,{hO:()=>Je,xv:()=>ye,Dh:()=>de,GT:()=>be,cc:()=>Pe,on:()=>Y,pX:()=>se});var s=F(5e3),z=F(127),R=F(5813);gt=F.hmd(gt);const ae=["ngOnDestroy"],se=(Te,rt,qe,Re={})=>new Proxy(Te,{get:(Oe,Ee)=>qe.runOutsideAngular(()=>{var Xe;if(Te[Ee])return(null===(Xe=null==Re?void 0:Re.spy)||void 0===Xe?void 0:Xe.get)&&Re.spy.get(Ee,Te[Ee]),Te[Ee];if(ae.indexOf(Ee)>-1)return()=>{};const re=rt.toPromise().then(tt=>{const Q=tt&&tt[Ee];return"function"==typeof Q?Q.bind(tt):Q&&Q.then?Q.then(fe=>qe.run(()=>fe)):qe.run(()=>Q)});return new Proxy(()=>{},{get:(tt,Q)=>re[Q],apply:(tt,Q,fe)=>re.then(he=>{var _e;const Ve=he&&he(...fe);return(null===(_e=null==Re?void 0:Re.spy)||void 0===_e?void 0:_e.apply)&&Re.spy.apply(Ee,fe,Ve),Ve})})})}),be=(Te,rt)=>{rt.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Re=>{Object.defineProperty(Te.prototype,Re,Object.getOwnPropertyDescriptor(qe.prototype||qe,Re))})})};class ne{constructor(rt){return rt}}const de=new s.OlP("angularfire2.app.options"),ye=new s.OlP("angularfire2.app.name");function Y(Te,rt,qe){const Oe="object"==typeof qe&&qe||{};Oe.name=Oe.name||"string"==typeof qe&&qe||"[DEFAULT]";const Xe=z.Z.apps.filter(re=>re&&re.name===Oe.name)[0]||rt.runOutsideAngular(()=>z.Z.initializeApp(Te,Oe));try{JSON.stringify(Te)!==JSON.stringify(Xe.options)&&Z("error",`${Xe.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(re){}return new ne(Xe)}const Z=(Te,...rt)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Te](...rt)},ie={provide:ne,useFactory:Y,deps:[de,s.R0b,[new s.FiY,ye]]};let Je=(()=>{class Te{constructor(qe){z.Z.registerVersion("angularfire",R.q4.full,"core"),z.Z.registerVersion("angularfire",R.q4.full,"app-compat"),z.Z.registerVersion("angular",s.q4F.full,qe.toString())}static initializeApp(qe,Re){return{ngModule:Te,providers:[{provide:de,useValue:qe},{provide:ye,useValue:Re}]}}}return Te.\u0275fac=function(qe){return new(qe||Te)(s.LFG(s.Lbi))},Te.\u0275mod=s.oAB({type:Te}),Te.\u0275inj=s.cJS({providers:[ie]}),Te})();function Pe(Te,rt,qe,Re,Oe){const[,Ee,Xe]=globalThis.\u0275AngularfireInstanceCache.find(re=>re[0]===Te)||[];if(Ee)return function Be(Te,rt){try{return Te.toString()===rt.toString()}catch(qe){return Te===rt}}(Oe,Xe)||(ve("error",`${rt} was already initialized on the ${qe} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Oe,was:Xe})),Ee;{const re=Re();return globalThis.\u0275AngularfireInstanceCache.push([Te,re,Oe]),re}}const He=!!gt.hot,ve=(Te,...rt)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Te](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(gt,Ae,F)=>{F.d(Ae,{q4:()=>zo,iC:()=>Ss,HU:()=>Jh,vb:()=>lc,JM:()=>q_,u3:()=>kd});var s=F(5e3),z=F(5867),R=F(5861),ae=F(9681),se=F(2090),be=F(4859),ne=F(1877);const de="@firebase/installations",Z="w:0.5.6",ie="FIS_v2",Te=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(T){return T instanceof se.ZR&&T.code.includes("request-failed")}function qe({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Re(T){return{token:T.token,requestStatus:2,expiresIn:fe(T.expiresIn),creationTime:Date.now()}}function Oe(T,S){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,R.Z)(function*(T,S){const $=(yield S.json()).error;return Te.create("request-failed",{requestName:T,serverCode:$.code,serverMessage:$.message,serverStatus:$.status})})).apply(this,arguments)}function Xe({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function re(T,{refreshToken:S}){const O=Xe(T);return O.append("Authorization",function he(T){return`${ie} ${T}`}(S)),O}function tt(T){return Q.apply(this,arguments)}function Q(){return(Q=(0,R.Z)(function*(T){const S=yield T();return S.status>=500&&S.status<600?T():S})).apply(this,arguments)}function fe(T){return Number(T.replace("s","000"))}function _e(T,S){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,R.Z)(function*({appConfig:T,heartbeatServiceProvider:S},{fid:O}){const $=qe(T),X=Xe(T),le=S.getImmediate({optional:!0});if(le){const Ft=yield le.getHeartbeatsHeader();Ft&&X.append("x-firebase-client",Ft)}const We={method:"POST",headers:X,body:JSON.stringify({fid:O,authVersion:ie,appId:T.appId,sdkVersion:Z})},xt=yield tt(()=>fetch($,We));if(xt.ok){const Ft=yield xt.json();return{fid:Ft.fid||O,registrationStatus:2,refreshToken:Ft.refreshToken,authToken:Re(Ft.authToken)}}throw yield Oe("Create Installation",xt)})).apply(this,arguments)}function ce(T){return new Promise(S=>{setTimeout(S,T)})}const cn=/^[cdef][\w-]{21}$/;function mt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const O=function bt(T){return function kt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return cn.test(O)?O:""}catch(T){return""}}function En(T){return`${T.appName}!${T.appId}`}const bn=new Map;function Ir(T,S){const O=En(T);un(O,S),function Bn(T,S){const O=function Bi(){return!wi&&"BroadcastChannel"in self&&(wi=new BroadcastChannel("[Firebase] FID Change"),wi.onmessage=T=>{un(T.data.key,T.data.fid)}),wi}();O&&O.postMessage({key:T,fid:S}),function Ii(){0===bn.size&&wi&&(wi.close(),wi=null)}()}(O,S)}function un(T,S){const O=bn.get(T);if(O)for(const $ of O)$(S)}let wi=null;const Ci="firebase-installations-store";let Mi=null;function Ns(){return Mi||(Mi=(0,se.X3)("firebase-installations-database",1,(T,S)=>{0===S&&T.createObjectStore(Ci)})),Mi}function _t(T,S){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,R.Z)(function*(T,S){const O=En(T),X=(yield Ns()).transaction(Ci,"readwrite"),le=X.objectStore(Ci),Le=yield le.get(O);return yield le.put(S,O),yield X.complete,(!Le||Le.fid!==S.fid)&&Ir(T,S.fid),S})).apply(this,arguments)}function $n(T){return fn.apply(this,arguments)}function fn(){return(fn=(0,R.Z)(function*(T){const S=En(T),$=(yield Ns()).transaction(Ci,"readwrite");yield $.objectStore(Ci).delete(S),yield $.complete})).apply(this,arguments)}function Xn(T,S){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,R.Z)(function*(T,S){const O=En(T),X=(yield Ns()).transaction(Ci,"readwrite"),le=X.objectStore(Ci),Le=yield le.get(O),We=S(Le);return void 0===We?yield le.delete(O):yield le.put(We,O),yield X.complete,We&&(!Le||Le.fid!==We.fid)&&Ir(T,We.fid),We})).apply(this,arguments)}function zn(T){return Un.apply(this,arguments)}function Un(){return(Un=(0,R.Z)(function*(T){let S;const O=yield Xn(T.appConfig,$=>{const X=er($),le=No(T,X);return S=le.registrationPromise,le.installationEntry});return""===O.fid?{installationEntry:yield S}:{installationEntry:O,registrationPromise:S}})).apply(this,arguments)}function er(T){return Jt(T||{fid:mt(),registrationStatus:0})}function No(T,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Te.create("app-offline"))};const O={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},$=function Yt(T,S){return yt.apply(this,arguments)}(T,O);return{installationEntry:O,registrationPromise:$}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:ct(T)}:{installationEntry:S}}function yt(){return(yt=(0,R.Z)(function*(T,S){try{const O=yield _e(T,S);return _t(T.appConfig,O)}catch(O){throw rt(O)&&409===O.customData.serverCode?yield $n(T.appConfig):yield _t(T.appConfig,{fid:S.fid,registrationStatus:0}),O}})).apply(this,arguments)}function ct(T){return gr.apply(this,arguments)}function gr(){return(gr=(0,R.Z)(function*(T){let S=yield vs(T.appConfig);for(;1===S.registrationStatus;)yield ce(100),S=yield vs(T.appConfig);if(0===S.registrationStatus){const{installationEntry:O,registrationPromise:$}=yield zn(T);return $||O}return S})).apply(this,arguments)}function vs(T){return Xn(T,S=>{if(!S)throw Te.create("installation-not-found");return Jt(S)})}function Jt(T){return function bs(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function qn(T,S){return _n.apply(this,arguments)}function _n(){return(_n=(0,R.Z)(function*({appConfig:T,heartbeatServiceProvider:S},O){const $=Ct(T,O),X=re(T,O),le=S.getImmediate({optional:!0});if(le){const Ft=yield le.getHeartbeatsHeader();Ft&&X.append("x-firebase-client",Ft)}const We={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:Z,appId:T.appId}})},xt=yield tt(()=>fetch($,We));if(xt.ok)return Re(yield xt.json());throw yield Oe("Generate Auth Token",xt)})).apply(this,arguments)}function Ct(T,{fid:S}){return`${qe(T)}/${S}/authTokens:generate`}function Wn(T){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,R.Z)(function*(T,S=!1){let O;const $=yield Xn(T.appConfig,le=>{if(!jt(le))throw Te.create("not-registered");const Le=le.authToken;if(!S&&K(Le))return le;if(1===Le.requestStatus)return O=Ke(T,S),le;{if(!navigator.onLine)throw Te.create("app-offline");const We=J(le);return O=vt(T,We),We}});return O?yield O:$.authToken})).apply(this,arguments)}function Ke(T,S){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,R.Z)(function*(T,S){let O=yield st(T.appConfig);for(;1===O.authToken.requestStatus;)yield ce(100),O=yield st(T.appConfig);const $=O.authToken;return 0===$.requestStatus?Wn(T,S):$})).apply(this,arguments)}function st(T){return Xn(T,S=>{if(!jt(S))throw Te.create("not-registered");return function pe(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function vt(T,S){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,R.Z)(function*(T,S){try{const O=yield qn(T,S),$=Object.assign(Object.assign({},S),{authToken:O});return yield _t(T.appConfig,$),O}catch(O){if(!rt(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const $=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield _t(T.appConfig,$)}else yield $n(T.appConfig);throw O}})).apply(this,arguments)}function jt(T){return void 0!==T&&2===T.registrationStatus}function K(T){return 2===T.requestStatus&&!function H(T){const S=Date.now();return S<T.creationTime||T.creationTime+T.expiresIn<S+36e5}(T)}function J(T){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:S})}function j(){return(j=(0,R.Z)(function*(T){const S=T,{installationEntry:O,registrationPromise:$}=yield zn(S);return $?$.catch(console.error):Wn(S).catch(console.error),O.fid})).apply(this,arguments)}function ue(){return(ue=(0,R.Z)(function*(T,S=!1){const O=T;return yield Ge(O),(yield Wn(O,S)).token})).apply(this,arguments)}function Ge(T){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,R.Z)(function*(T){const{registrationPromise:S}=yield zn(T);S&&(yield S)})).apply(this,arguments)}function ii(T){return Te.create("missing-app-config-values",{valueName:T})}const zl="installations",et=T=>{const S=T.getProvider("app").getImmediate(),O=function Jr(T){if(!T||!T.options)throw ii("App Configuration");if(!T.name)throw ii("App Name");const S=["projectId","apiKey","appId"];for(const O of S)if(!T.options[O])throw ii(O);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(S);return{app:S,appConfig:O,heartbeatServiceProvider:(0,ae._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Kt=T=>{const S=T.getProvider("app").getImmediate(),O=(0,ae._getProvider)(S,zl).getImmediate();return{getId:()=>function L(T){return j.apply(this,arguments)}(O),getToken:X=>function G(T){return ue.apply(this,arguments)}(O,X)}};(function Sn(){(0,ae._registerComponent)(new be.wA(zl,et,"PUBLIC")),(0,ae._registerComponent)(new be.wA("installations-internal",Kt,"PRIVATE"))})(),(0,ae.registerVersion)(de,"0.5.6"),(0,ae.registerVersion)(de,"0.5.6","esm2017");const Hi="@firebase/remote-config",Zn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zc{constructor(S,O,$,X){this.client=S,this.storage=O,this.storageCache=$,this.logger=X}isCachedDataFresh(S,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $=Date.now()-O,X=$<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${X}.`),X}fetch(S){var O=this;return(0,R.Z)(function*(){const[$,X]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(X&&O.isCachedDataFresh(S.cacheMaxAgeMillis,$))return X;S.eTag=X&&X.eTag;const le=yield O.client.fetch(S),Le=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Le.push(O.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Le),le})()}}function Ps(T=navigator){return T.languages&&T.languages[0]||T.language}class ho{constructor(S,O,$,X,le,Le){this.firebaseInstallations=S,this.sdkVersion=O,this.namespace=$,this.projectId=X,this.apiKey=le,this.appId=Le}fetch(S){var O=this;return(0,R.Z)(function*(){const[$,X]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Le=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},xt={sdk_version:O.sdkVersion,app_instance_id:$,app_instance_id_token:X,app_id:O.appId,language_code:Ps()},Ft={method:"POST",headers:We,body:JSON.stringify(xt)},Xt=fetch(Le,Ft),Mt=new Promise((rr,Zi)=>{S.signal.addEventListener(()=>{const Od=new Error("The operation was aborted.");Od.name="AbortError",Zi(Od)})});let ki;try{yield Promise.race([Xt,Mt]),ki=yield Xt}catch(rr){let Zi="fetch-client-network";throw"AbortError"===rr.name&&(Zi="fetch-timeout"),Zn.create(Zi,{originalErrorMessage:rr.message})}let Di=ki.status;const Co=ki.headers.get("ETag")||void 0;let Is,br;if(200===ki.status){let rr;try{rr=yield ki.json()}catch(Zi){throw Zn.create("fetch-client-parse",{originalErrorMessage:Zi.message})}Is=rr.entries,br=rr.state}if("INSTANCE_STATE_UNSPECIFIED"===br?Di=500:"NO_CHANGE"===br?Di=304:("NO_TEMPLATE"===br||"EMPTY_CONFIG"===br)&&(Is={}),304!==Di&&200!==Di)throw Zn.create("fetch-status",{httpStatus:Di});return{status:Di,eTag:Co,config:Is}})()}}class Fs{constructor(S,O){this.client=S,this.storage=O}fetch(S){var O=this;return(0,R.Z)(function*(){const $=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(S,$)})()}attemptFetch(S,{throttleEndTimeMillis:O,backoffCount:$}){var X=this;return(0,R.Z)(function*(){yield function mr(T,S){return new Promise((O,$)=>{const X=Math.max(S-Date.now(),0),le=setTimeout(O,X);T.addEventListener(()=>{clearTimeout(le),$(Zn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,O);try{const le=yield X.client.fetch(S);return yield X.storage.deleteThrottleMetadata(),le}catch(le){if(!function Yp(T){if(!(T instanceof se.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}(le))throw le;const Le={throttleEndTimeMillis:Date.now()+(0,se.$s)($),backoffCount:$+1};return yield X.storage.setThrottleMetadata(Le),X.attemptFetch(S,Le)}})()}}class Jp{constructor(S,O,$,X,le){this.app=S,this._client=O,this._storageCache=$,this._storage=X,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function el(T,S){const O=T.target.error||void 0;return Zn.create(S,{originalErrorMessage:O&&O.message})}const ua="app_namespace_store";class Wl{constructor(S,O,$,X=function Xp(){return new Promise((T,S)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=$=>{S(el($,"storage-open"))},O.onsuccess=$=>{T($.target.result)},O.onupgradeneeded=$=>{0===$.oldVersion&&$.target.result.createObjectStore(ua,{keyPath:"compositeKey"})}}catch(O){S(Zn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=S,this.appName=O,this.namespace=$,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var O=this;return(0,R.Z)(function*(){const $=yield O.openDbPromise;return new Promise((X,le)=>{const We=$.transaction([ua],"readonly").objectStore(ua),xt=O.createCompositeKey(S);try{const Ft=We.get(xt);Ft.onerror=Xt=>{le(el(Xt,"storage-get"))},Ft.onsuccess=Xt=>{const Mt=Xt.target.result;X(Mt?Mt.value:void 0)}}catch(Ft){le(Zn.create("storage-get",{originalErrorMessage:Ft&&Ft.message}))}})})()}set(S,O){var $=this;return(0,R.Z)(function*(){const X=yield $.openDbPromise;return new Promise((le,Le)=>{const xt=X.transaction([ua],"readwrite").objectStore(ua),Ft=$.createCompositeKey(S);try{const Xt=xt.put({compositeKey:Ft,value:O});Xt.onerror=Mt=>{Le(el(Mt,"storage-set"))},Xt.onsuccess=()=>{le()}}catch(Xt){Le(Zn.create("storage-set",{originalErrorMessage:Xt&&Xt.message}))}})})()}delete(S){var O=this;return(0,R.Z)(function*(){const $=yield O.openDbPromise;return new Promise((X,le)=>{const We=$.transaction([ua],"readwrite").objectStore(ua),xt=O.createCompositeKey(S);try{const Ft=We.delete(xt);Ft.onerror=Xt=>{le(el(Xt,"storage-delete"))},Ft.onsuccess=()=>{X()}}catch(Ft){le(Zn.create("storage-delete",{originalErrorMessage:Ft&&Ft.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class da{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,R.Z)(function*(){const O=S.storage.getLastFetchStatus(),$=S.storage.getLastSuccessfulFetchTimestampMillis(),X=S.storage.getActiveConfig(),le=yield O;le&&(S.lastFetchStatus=le);const Le=yield $;Le&&(S.lastSuccessfulFetchTimestampMillis=Le);const We=yield X;We&&(S.activeConfig=We)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function hd(){return ha.apply(this,arguments)}function ha(){return(ha=(0,R.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(T){return!1}})).apply(this,arguments)}!function eg(){(0,ae._registerComponent)(new be.wA("remote-config",function T(S,{instanceIdentifier:O}){const $=S.getProvider("app").getImmediate(),X=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Zn.create("registration-window");if(!(0,se.hl)())throw Zn.create("indexed-db-unavailable");const{projectId:le,apiKey:Le,appId:We}=$.options;if(!le)throw Zn.create("registration-project-id");if(!Le)throw Zn.create("registration-api-key");if(!We)throw Zn.create("registration-app-id");const xt=new Wl(We,$.name,O=O||"firebase"),Ft=new da(xt),Xt=new ne.Yd(Hi);Xt.logLevel=ne.in.ERROR;const Mt=new ho(X,ae.SDK_VERSION,O,le,Le,We),ki=new Fs(Mt,xt),Di=new zc(ki,xt,Ft,Xt),Co=new Jp($,Di,Ft,xt,Xt);return function An(T){const S=(0,se.m9)(T);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Co),Co},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Hi,"0.3.5"),(0,ae.registerVersion)(Hi,"0.3.5","esm2017")}();const Ls="/firebase-messaging-sw.js",tl="/firebase-cloud-messaging-push-scope",kr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fa="google.c.a.c_id",Zl="google.c.a.c_l",jh="google.c.a.ts",nl="google.c.a.e";var es=(()=>{return(T=es||(es={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",es;var T})();function Vs(T){const S=new Uint8Array(T);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yl(T){const O=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$=atob(O),X=new Uint8Array($.length);for(let le=0;le<$.length;++le)X[le]=$.charCodeAt(le);return X}const il="fcm_token_details_db",pa="fcm_token_object_Store";function tg(T){return ga.apply(this,arguments)}function ga(){return ga=(0,R.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(il))return null;let S=null;return(yield(0,se.X3)(il,5,function(){var $=(0,R.Z)(function*(X,le,Le,We){var xt;if(le<2||!X.objectStoreNames.contains(pa))return;const Ft=We.objectStore(pa),Xt=yield Ft.index("fcmSenderId").get(T);if(yield Ft.clear(),Xt)if(2===le){const Mt=Xt;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;S={token:Mt.fcmToken,createTime:null!==(xt=Mt.createTime)&&void 0!==xt?xt:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:Vs(Mt.vapidKey)}}}else if(3===le){const Mt=Xt;S={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:Vs(Mt.auth),p256dh:Vs(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:Vs(Mt.vapidKey)}}}else if(4===le){const Mt=Xt;S={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:Vs(Mt.auth),p256dh:Vs(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:Vs(Mt.vapidKey)}}}});return function(X,le,Le,We){return $.apply(this,arguments)}}())).close(),yield(0,se.Lj)(il),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),qc(S)?S:null}),ga.apply(this,arguments)}function qc(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:S}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const po="firebase-messaging-store";let Fo=null;function Wc(){return Fo||(Fo=(0,se.X3)("firebase-messaging-database",1,(T,S)=>{0===S&&T.createObjectStore(po)})),Fo}function kn(T){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,R.Z)(function*(T){const S=go(T),$=yield(yield Wc()).transaction(po).objectStore(po).get(S);if($)return $;{const X=yield tg(T.appConfig.senderId);if(X)return yield Vo(T,X),X}})).apply(this,arguments)}function Vo(T,S){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,R.Z)(function*(T,S){const O=go(T),X=(yield Wc()).transaction(po,"readwrite");return yield X.objectStore(po).put(S,O),yield X.complete,S})).apply(this,arguments)}function Zc(T){return ma.apply(this,arguments)}function ma(){return(ma=(0,R.Z)(function*(T){const S=go(T),$=(yield Wc()).transaction(po,"readwrite");yield $.objectStore(po).delete(S),yield $.complete})).apply(this,arguments)}function go({appConfig:T}){return T.appId}const ri=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Jl(T,S){return Or.apply(this,arguments)}function Or(){return(Or=(0,R.Z)(function*(T,S){const O=yield Cs(T),$=It(S),X={method:"POST",headers:O,body:JSON.stringify($)};let le;try{le=yield(yield fetch(ts(T.appConfig),X)).json()}catch(Le){throw ri.create("token-subscribe-failed",{errorInfo:Le})}if(le.error)throw ri.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw ri.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function tr(T,S){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,R.Z)(function*(T,S){const O=yield Cs(T),$=It(S.subscriptionOptions),X={method:"PATCH",headers:O,body:JSON.stringify($)};let le;try{le=yield(yield fetch(`${ts(T.appConfig)}/${S.token}`,X)).json()}catch(Le){throw ri.create("token-update-failed",{errorInfo:Le})}if(le.error)throw ri.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw ri.create("token-update-no-token");return le.token})).apply(this,arguments)}function Bo(T,S){return _a.apply(this,arguments)}function _a(){return(_a=(0,R.Z)(function*(T,S){const $={method:"DELETE",headers:yield Cs(T)};try{const le=yield(yield fetch(`${ts(T.appConfig)}/${S}`,$)).json();if(le.error)throw ri.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(X){throw ri.create("token-unsubscribe-failed",{errorInfo:X})}})).apply(this,arguments)}function ts({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Cs(T){return Us.apply(this,arguments)}function Us(){return(Us=(0,R.Z)(function*({appConfig:T,installations:S}){const O=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function It({p256dh:T,auth:S,endpoint:O,vapidKey:$}){const X={web:{endpoint:O,auth:S,p256dh:T}};return $!==kr&&(X.web.applicationPubKey=$),X}const rl=6048e5;function pd(T){return ya.apply(this,arguments)}function ya(){return(ya=(0,R.Z)(function*(T){const S=yield Gh(T.swRegistration,T.vapidKey),O={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:S.endpoint,auth:Vs(S.getKey("auth")),p256dh:Vs(S.getKey("p256dh"))},$=yield kn(T.firebaseDependencies);if($){if(Ql($.subscriptionOptions,O))return Date.now()>=$.createTime+rl?Hh(T,{token:$.token,createTime:Date.now(),subscriptionOptions:O}):$.token;try{yield Bo(T.firebaseDependencies,$.token)}catch(X){console.warn(X)}return ke(T.firebaseDependencies,O)}return ke(T.firebaseDependencies,O)})).apply(this,arguments)}function gd(T){return va.apply(this,arguments)}function va(){return(va=(0,R.Z)(function*(T){const S=yield kn(T.firebaseDependencies);S&&(yield Bo(T.firebaseDependencies,S.token),yield Zc(T.firebaseDependencies));const O=yield T.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Hh(T,S){return sl.apply(this,arguments)}function sl(){return(sl=(0,R.Z)(function*(T,S){try{const O=yield tr(T.firebaseDependencies,S),$=Object.assign(Object.assign({},S),{token:O,createTime:Date.now()});return yield Vo(T.firebaseDependencies,$),O}catch(O){throw yield gd(T),O}})).apply(this,arguments)}function ke(T,S){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,R.Z)(function*(T,S){const $={token:yield Jl(T,S),createTime:Date.now(),subscriptionOptions:S};return yield Vo(T,$),$.token})).apply(this,arguments)}function Gh(T,S){return On.apply(this,arguments)}function On(){return(On=(0,R.Z)(function*(T,S){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yl(S)})})).apply(this,arguments)}function Ql(T,S){return S.vapidKey===T.vapidKey&&S.endpoint===T.endpoint&&S.auth===T.auth&&S.p256dh===T.p256dh}function mo(T){const S={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function ns(T,S){if(!S.notification)return;T.notification={};const O=S.notification.title;O&&(T.notification.title=O);const $=S.notification.body;$&&(T.notification.body=$);const X=S.notification.image;X&&(T.notification.image=X)}(S,T),function Yc(T,S){!S.data||(T.data=S.data)}(S,T),function ol(T,S){if(!S.fcmOptions)return;T.fcmOptions={};const O=S.fcmOptions.link;O&&(T.fcmOptions.link=O);const $=S.fcmOptions.analytics_label;$&&(T.fcmOptions.analyticsLabel=$)}(S,T),S}function ng(T){return"object"==typeof T&&!!T&&fa in T}function Kc(T,S){const O=[];for(let $=0;$<T.length;$++)O.push(T.charAt($)),$<S.length&&O.push(S.charAt($));return O.join("")}function wa(T){return ri.create("missing-app-config-values",{valueName:T})}Kc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Kc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fi{constructor(S,O,$){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function ba(T){if(!T||!T.options)throw wa("App Configuration Object");if(!T.name)throw wa("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:O}=T;for(const $ of S)if(!O[$])throw wa($);return{appName:T.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:X,installations:O,analyticsProvider:$}}_delete(){return Promise.resolve()}}function Ds(T){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,R.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Ls,{scope:tl}),T.swRegistration.update().catch(()=>{})}catch(S){throw ri.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function Da(T,S){return _r.apply(this,arguments)}function _r(){return(_r=(0,R.Z)(function*(T,S){if(!S&&!T.swRegistration&&(yield Ds(T)),S||!T.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw ri.create("invalid-sw-registration");T.swRegistration=S}})).apply(this,arguments)}function $h(T,S){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,R.Z)(function*(T,S){S?T.vapidKey=S:T.vapidKey||(T.vapidKey=kr)})).apply(this,arguments)}function al(){return(al=(0,R.Z)(function*(T,S){if(!navigator)throw ri.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ri.create("permission-blocked");return yield $h(T,null==S?void 0:S.vapidKey),yield Da(T,null==S?void 0:S.serviceWorkerRegistration),pd(T)})).apply(this,arguments)}function Jc(T,S,O){return js.apply(this,arguments)}function js(){return(js=(0,R.Z)(function*(T,S,O){const $=zh(S);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent($,{message_id:O[fa],message_name:O[Zl],message_time:O[jh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zh(T){switch(T){case es.NOTIFICATION_CLICKED:return"notification_open";case es.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xc(){return(Xc=(0,R.Z)(function*(T,S){const O=S.data;if(!O.isFirebaseMessaging)return;T.onMessageHandler&&O.messageType===es.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(mo(O)):T.onMessageHandler.next(mo(O)));const $=O.data;ng($)&&"1"===$[nl]&&(yield Jc(T,O.messageType,$))})).apply(this,arguments)}const Xl="@firebase/messaging",Uo=T=>{const S=new fi(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Qc(T,S){return Xc.apply(this,arguments)}(S,O)),S},eu=T=>{const S=T.getProvider("messaging").getImmediate();return{getToken:$=>function md(T,S){return al.apply(this,arguments)}(S,$)}};function _d(){return jo.apply(this,arguments)}function jo(){return(jo=(0,R.Z)(function*(){try{yield(0,se.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qh(){(0,ae._registerComponent)(new be.wA("messaging",Uo,"PUBLIC")),(0,ae._registerComponent)(new be.wA("messaging-internal",eu,"PRIVATE")),(0,ae.registerVersion)(Xl,"0.9.10"),(0,ae.registerVersion)(Xl,"0.9.10","esm2017")}();const nu="analytics",vd="firebase_id",iu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ec="https://www.googletagmanager.com/gtag/js",si=new ne.Yd("@firebase/analytics");function bd(T){return Promise.all(T.map(S=>S.catch(O=>O)))}function wd(T,S){const O=document.createElement("script");O.src=`${ec}?l=${T}&id=${S}`,O.async=!0,document.head.appendChild(O)}function tc(T,S,O,$,X,le){return ul.apply(this,arguments)}function ul(){return(ul=(0,R.Z)(function*(T,S,O,$,X,le){const Le=$[X];try{if(Le)yield S[Le];else{const xt=(yield bd(O)).find(Ft=>Ft.measurementId===X);xt&&(yield S[xt.appId])}}catch(We){si.error(We)}T("config",X,le)})).apply(this,arguments)}function Wh(T,S,O,$,X){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,R.Z)(function*(T,S,O,$,X){try{let le=[];if(X&&X.send_to){let Le=X.send_to;Array.isArray(Le)||(Le=[Le]);const We=yield bd(O);for(const xt of Le){const Ft=We.find(Mt=>Mt.measurementId===xt),Xt=Ft&&S[Ft.appId];if(!Xt){le=[];break}le.push(Xt)}}0===le.length&&(le=Object.values(S)),yield Promise.all(le),T("event",$,X||{})}catch(le){si.error(le)}})).apply(this,arguments)}function z_(){const T=window.document.getElementsByTagName("script");for(const S of Object.values(T))if(S.src&&S.src.includes(ec))return S;return null}const yn=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),$s=new class su{constructor(S={},O=1e3){this.throttleMetadata=S,this.intervalMillis=O}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,O){this.throttleMetadata[S]=O}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function ou(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function ei(T){return pi.apply(this,arguments)}function pi(){return(pi=(0,R.Z)(function*(T){var S;const{appId:O,apiKey:$}=T,X={method:"GET",headers:ou($)},le=iu.replace("{app-id}",O),Le=yield fetch(le,X);if(200!==Le.status&&304!==Le.status){let We="";try{const xt=yield Le.json();(null===(S=xt.error)||void 0===S?void 0:S.message)&&(We=xt.error.message)}catch(xt){}throw yn.create("config-fetch-failed",{httpStatus:Le.status,responseMessage:We})}return Le.json()})).apply(this,arguments)}function Es(T){return pn.apply(this,arguments)}function pn(){return(pn=(0,R.Z)(function*(T,S=$s,O){const{appId:$,apiKey:X,measurementId:le}=T.options;if(!$)throw yn.create("no-app-id");if(!X){if(le)return{measurementId:le,appId:$};throw yn.create("no-api-key")}const Le=S.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new au;return setTimeout((0,R.Z)(function*(){We.abort()}),void 0!==O?O:6e4),ut({appId:$,apiKey:X,measurementId:le},Le,We,S)})).apply(this,arguments)}function ut(T,S,O){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,R.Z)(function*(T,{throttleEndTimeMillis:S,backoffCount:O},$,X=$s){const{appId:le,measurementId:Le}=T;try{yield ig($,S)}catch(We){if(Le)return si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Le} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:le,measurementId:Le};throw We}try{const We=yield ei(T);return X.deleteThrottleMetadata(le),We}catch(We){if(!dl(We)){if(X.deleteThrottleMetadata(le),Le)return si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Le} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:le,measurementId:Le};throw We}const xt=503===Number(We.customData.httpStatus)?(0,se.$s)(O,X.intervalMillis,30):(0,se.$s)(O,X.intervalMillis),Ft={throttleEndTimeMillis:Date.now()+xt,backoffCount:O+1};return X.setThrottleMetadata(le,Ft),si.debug(`Calling attemptFetch again in ${xt} millis`),ut(T,Ft,$,X)}})).apply(this,arguments)}function ig(T,S){return new Promise((O,$)=>{const X=Math.max(S-Date.now(),0),le=setTimeout(O,X);T.addEventListener(()=>{clearTimeout(le),$(yn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function dl(T){if(!(T instanceof se.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}class au{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function hl(){return fl.apply(this,arguments)}function fl(){return(fl=(0,R.Z)(function*(){if(!(0,se.hl)())return si.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(T){return si.warn(yn.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function Hn(){return(Hn=(0,R.Z)(function*(T,S,O,$,X,le,Le){var We;const xt=Es(T);xt.then(Di=>{O[Di.measurementId]=Di.appId,T.options.measurementId&&Di.measurementId!==T.options.measurementId&&si.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Di.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Di=>si.error(Di)),S.push(xt);const Ft=hl().then(Di=>{if(Di)return $.getId()}),[Xt,Mt]=yield Promise.all([xt,Ft]);z_()||wd(le,Xt.measurementId),X("js",new Date);const ki=null!==(We=null==Le?void 0:Le.config)&&void 0!==We?We:{};return ki.origin="firebase",ki.update=!0,null!=Mt&&(ki[vd]=Mt),X("config",Xt.measurementId,ki),Xt.measurementId})).apply(this,arguments)}class lu{constructor(S){this.app=S}_delete(){return delete qi[this.app.options.appId],Promise.resolve()}}let qi={},Ia=[];const nc={};let is,Go,pl="dataLayer",oi=!1;function vo(T,S,O){!function gl(){const T=[];if((0,se.ru)()&&T.push("This is a browser extension environment."),(0,se.zI)()||T.push("Cookies are not available."),T.length>0){const S=T.map(($,X)=>`(${X+1}) ${$}`).join(" "),O=yn.create("invalid-analytics-context",{errorInfo:S});si.warn(O.message)}}();const $=T.options.appId;if(!$)throw yn.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw yn.create("no-api-key");si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qi[$])throw yn.create("already-exists",{id:$});if(!oi){!function Hs(T){let S=[];Array.isArray(window[T])?S=window[T]:window[T]=S}(pl);const{wrappedGtag:le,gtagCore:Le}=function Cd(T,S,O,$,X){let le=function(...Le){window[$].push(arguments)};return window[X]&&"function"==typeof window[X]&&(le=window[X]),window[X]=function ru(T,S,O,$){function le(){return(le=(0,R.Z)(function*(Le,We,xt){try{"event"===Le?yield Wh(T,S,O,We,xt):"config"===Le?yield tc(T,S,O,$,We,xt):T("set",We)}catch(Ft){si.error(Ft)}})).apply(this,arguments)}return function X(Le,We,xt){return le.apply(this,arguments)}}(le,T,S,O),{gtagCore:le,wrappedGtag:window[X]}}(qi,Ia,nc,pl,"gtag");Go=le,is=Le,oi=!0}return qi[$]=function zi(T,S,O,$,X,le,Le){return Hn.apply(this,arguments)}(T,Ia,nc,S,is,pl,O),new lu(T)}function ml(){return(ml=(0,R.Z)(function*(T,S,O,$,X){if(X&&X.global)T("event",O,$);else{const le=yield S;T("event",O,Object.assign(Object.assign({},$),{send_to:le}))}})).apply(this,arguments)}function Zs(){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,R.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(T){return!1}})).apply(this,arguments)}const Md="@firebase/analytics";!function Yh(){(0,ae._registerComponent)(new be.wA(nu,(S,{options:O})=>vo(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ae._registerComponent)(new be.wA("analytics-internal",function T(S){try{const O=S.getProvider(nu).getImmediate();return{logEvent:($,X,le)=>function cu(T,S,O,$){T=(0,se.m9)(T),function Ed(T,S,O,$,X){return ml.apply(this,arguments)}(Go,qi[T.app.options.appId],S,O,$).catch(X=>si.error(X))}(O,$,X,le)}}catch(O){throw yn.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ae.registerVersion)(Md,"0.7.6"),(0,ae.registerVersion)(Md,"0.7.6","esm2017")}();var oc=F(4408),uu=F(7565);const Aa=new class ti extends uu.v{}(class bo extends oc.o{constructor(S,O){super(S,O),this.scheduler=S,this.work=O}schedule(S,O=0){return O>0?super.schedule(S,O):(this.delay=O,this.state=S,this.scheduler.flush(this),this)}execute(S,O){return O>0||this.closed?super.execute(S,O):this._execute(S,O)}requestAsyncId(S,O,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(S,O,$):S.flush(this)}});var xi=F(4986),xa=F(8306),yr=F(8505),Ts=F(9468),Pr=F(5363);const zo=new s.GfV("7.2.1"),Wi="__angularfire_symbol__analyticsIsSupportedValue",Ys="__angularfire_symbol__analyticsIsSupported",du="__angularfire_symbol__remoteConfigIsSupportedValue",yl="__angularfire_symbol__remoteConfigIsSupported",xd="__angularfire_symbol__messagingIsSupportedValue",hu="__angularfire_symbol__messagingIsSupported";function q_(T,S,O){if(S){if(1===S.length)return S[0];const le=S.filter(Le=>Le.app===O);if(1===le.length)return le[0]}return O.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ys]||(globalThis[Ys]=Zs().then(T=>globalThis[Wi]=T).catch(()=>globalThis[Wi]=!1)),globalThis[hu]||(globalThis[hu]=_d().then(T=>globalThis[xd]=T).catch(()=>globalThis[xd]=!1)),globalThis[yl]||(globalThis[yl]=hd().then(T=>globalThis[du]=T).catch(()=>globalThis[du]=!1));const lc=(T,S)=>{const O=S?[S]:(0,z.C6)(),$=[];return O.forEach(X=>{X.container.getProvider(T).instances.forEach(Le=>{$.includes(Le)||$.push(Le)})}),$};function qo(){}class cc{constructor(S,O=Aa){this.zone=S,this.delegate=O}now(){return this.delegate.now()}schedule(S,O,$){const X=this.zone;return this.delegate.schedule(function(Le){X.runGuarded(()=>{S.apply(this,[Le])})},O,$)}}class fu{constructor(S){this.zone=S,this.task=null}call(S,O){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qo,{},qo,qo)),O.pipe((0,yr.b)({next:$,complete:$,error:$})).subscribe(S).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Jh=(()=>{class T{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new cc(Zone.current)),this.insideAngular=O.run(()=>new cc(Zone.current,xi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(O){return new(O||T)(s.LFG(s.R0b))},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function vr(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Oa(T){return vr().ngZone.runOutsideAngular(()=>T())}function Fr(T){return vr().ngZone.run(()=>T())}function Ss(T){return vr(),function Na(T){return function(O){return(O=O.lift(new fu(T.ngZone))).pipe((0,Ts.R)(T.outsideAngular),(0,Pr.Q)(T.insideAngular))}}(vr())(T)}const vl=(T,S)=>function(){const $=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),Fr(()=>T.apply(void 0,$))},kd=(T,S)=>function(){let O;const $=arguments;for(let le=0;le<arguments.length;le++)"function"==typeof $[le]&&(S&&(O||(O=Fr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qo,{},qo,qo)))),$[le]=vl($[le],O));const X=Oa(()=>T.apply(this,$));if(!S){if(X instanceof xa.y){const le=vr();return X.pipe((0,Ts.R)(le.outsideAngular),(0,Pr.Q)(le.insideAngular))}return Fr(()=>X)}return X instanceof xa.y?X.pipe(Ss):X instanceof Promise?Fr(()=>new Promise((le,Le)=>X.then(We=>Fr(()=>le(We)),We=>Fr(()=>Le(We))))):"function"==typeof X&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),X.apply(this,arguments)}:Fr(()=>X)}},760:(gt,Ae,F)=>{F.d(Ae,{$:()=>pd,A:()=>Z,E:()=>Kt,G:()=>Gi,I:()=>Fs,K:()=>H,L:()=>ha,M:()=>Uh,N:()=>fa,P:()=>zo,Q:()=>Zl,R:()=>Ad,T:()=>kr,U:()=>es,V:()=>Vs,W:()=>tg,X:()=>Ai,Y:()=>Jl,Z:()=>tr,_:()=>ts,a:()=>Ta,a0:()=>gd,a1:()=>Hh,a2:()=>ke,a3:()=>Gh,a4:()=>Ql,a5:()=>ns,a6:()=>Yc,a7:()=>ng,a8:()=>Kc,a9:()=>Ds,aA:()=>Mt,aB:()=>Na,aC:()=>Tn,aG:()=>$s,aJ:()=>nl,aa:()=>Da,ab:()=>$h,ae:()=>Jc,af:()=>zh,ag:()=>Qc,aj:()=>po,ak:()=>tu,am:()=>iu,an:()=>tc,ao:()=>Rn,ap:()=>Q,aq:()=>Pt,ar:()=>Qe,as:()=>qe,at:()=>mu,au:()=>pu,av:()=>Re,aw:()=>re,ax:()=>he,ay:()=>J,az:()=>br,b:()=>jn,c:()=>Kh,d:()=>qo,e:()=>q_,f:()=>T,g:()=>Le,h:()=>$,i:()=>gl,j:()=>Ft,k:()=>wl,l:()=>ti,m:()=>ag,n:()=>Q_,o:()=>de,r:()=>Rr,s:()=>bo,u:()=>Ts,z:()=>Pe});var s=F(5861),z=F(2090),R=F(9681),ae=F(655),se=F(1877),be=F(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function Je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},He=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new se.Yd("@firebase/auth");function rt(b,...m){Te.logLevel<=se.in.ERROR&&Te.error(`Auth (${R.SDK_VERSION}): ${b}`,...m)}function qe(b,...m){throw Xe(b,...m)}function Re(b,...m){return Xe(b,...m)}function Oe(b,m,_){const D=Object.assign(Object.assign({},Be()),{[m]:_});return new z.LL("auth","Firebase",D).create(m,{appName:b.name})}function Ee(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&qe(b,"argument-error"),Oe(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(b,...m){if("string"!=typeof b){const _=m[0],D=[...m.slice(1)];return D[0]&&(D[0].appName=b.name),b._errorFactory.create(_,...D)}return He.create(b,...m)}function re(b,m,..._){if(!b)throw Xe(m,..._)}function tt(b){const m="INTERNAL ASSERTION FAILED: "+b;throw rt(m),new Error(m)}function Q(b,m){b||tt(m)}const fe=new Map;function he(b){Q(b instanceof Function,"Expected a class definition");let m=fe.get(b);return m?(Q(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,fe.set(b,m),m)}function ce(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function kt(){return"http:"===cn()||"https:"===cn()}function cn(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class bt{constructor(m,_){this.shortDelay=m,this.longDelay=_,Q(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Gn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(kt()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function En(b,m){Q(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class bn{static initialize(m,_,D){this.fetchImpl=m,_&&(this.headersImpl=_),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ir={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},hn=new bt(3e4,6e4);function an(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function un(b,m,_,D){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,s.Z)(function*(b,m,_,D,x={}){return wi(b,x,(0,s.Z)(function*(){let V={},te={};D&&("GET"===m?te=D:V={body:JSON.stringify(D)});const Ne=(0,z.xO)(Object.assign({key:b.config.apiKey},te)).slice(1),dt=yield b._getAdditionalHeaders();return dt["Content-Type"]="application/json",b.languageCode&&(dt["X-Firebase-Locale"]=b.languageCode),bn.fetch()(Mr(b,b.config.apiHost,_,Ne),Object.assign({method:m,headers:dt,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function wi(b,m,_){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,s.Z)(function*(b,m,_){b._canInitEmulator=!1;const D=Object.assign(Object.assign({},Ir),m);try{const x=new Ci(b),V=yield Promise.race([_(),x.promise]);x.clearNetworkTimeout();const te=yield V.json();if("needConfirmation"in te)throw Mi(b,"account-exists-with-different-credential",te);if(V.ok&&!("errorMessage"in te))return te;{const Ne=V.ok?te.errorMessage:te.error.message,[dt,Tt]=Ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dt)throw Mi(b,"credential-already-in-use",te);if("EMAIL_EXISTS"===dt)throw Mi(b,"email-already-in-use",te);const qt=D[dt]||dt.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw Oe(b,qt,Tt);qe(b,qt)}}catch(x){if(x instanceof z.ZR)throw x;qe(b,"network-request-failed")}})).apply(this,arguments)}function Ii(b,m,_,D){return ys.apply(this,arguments)}function ys(){return(ys=(0,s.Z)(function*(b,m,_,D,x={}){const V=yield un(b,m,_,D,x);return"mfaPendingCredential"in V&&qe(b,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function Mr(b,m,_,D){const x=`${m}${_}?${D}`;return b.config.emulator?En(b.config,x):`${b.config.apiScheme}://${x}`}class Ci{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,D)=>{this.timer=setTimeout(()=>D(Re(this.auth,"network-request-failed")),hn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mi(b,m,_){const D={appName:b.name};_.email&&(D.email=_.email),_.phoneNumber&&(D.phoneNumber=_.phoneNumber);const x=Re(b,m,D);return x.customData._tokenResponse=_,x}function _t(){return(_t=(0,s.Z)(function*(b,m){return un(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Ui(b,m){return $n.apply(this,arguments)}function $n(){return($n=(0,s.Z)(function*(b,m){return un(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function fn(b,m){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,s.Z)(function*(b,m){return un(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Ar(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function er(){return(er=(0,s.Z)(function*(b,m=!1){const _=(0,z.m9)(b),D=yield _.getIdToken(m),x=Yt(D);re(x&&x.exp&&x.auth_time&&x.iat,_.auth,"internal-error");const V="object"==typeof x.firebase?x.firebase:void 0,te=null==V?void 0:V.sign_in_provider;return{claims:x,token:D,authTime:Ar(No(x.auth_time)),issuedAtTime:Ar(No(x.iat)),expirationTime:Ar(No(x.exp)),signInProvider:te||null,signInSecondFactor:(null==V?void 0:V.sign_in_second_factor)||null}})).apply(this,arguments)}function No(b){return 1e3*Number(b)}function Yt(b){const[m,_,D]=b.split(".");if(void 0===m||void 0===_||void 0===D)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,z.tV)(_);return x?JSON.parse(x):(rt("Failed to decode base64 JWT payload"),null)}catch(x){return rt("Caught error parsing JWT payload as JSON",x),null}}function ct(b,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,s.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(D){throw D instanceof z.ZR&&vs(D)&&b.auth.currentUser===b&&(yield b.auth.signOut()),D}})).apply(this,arguments)}function vs({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Jt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const x=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const D=this.getInterval(m);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),D)}iteration(){var m=this;return(0,s.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class bs{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ar(this.lastLoginAt),this.creationTime=Ar(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qn(b){return _n.apply(this,arguments)}function _n(){return(_n=(0,s.Z)(function*(b){var m;const _=b.auth,D=yield b.getIdToken(),x=yield ct(b,fn(_,{idToken:D}));re(null==x?void 0:x.users.length,_,"internal-error");const V=x.users[0];b._notifyReloadListener(V);const te=(null===(m=V.providerUserInfo)||void 0===m?void 0:m.length)?Ke(V.providerUserInfo):[],Ne=Qt(b.providerData,te),qt=!!b.isAnonymous&&!(b.email&&V.passwordHash||(null==Ne?void 0:Ne.length)),Jn={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:Ne,metadata:new bs(V.createdAt,V.lastLoginAt),isAnonymous:qt};Object.assign(b,Jn)})).apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(b){const m=(0,z.m9)(b);yield qn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Qt(b,m){return[...b.filter(D=>!m.some(x=>x.providerId===D.providerId)),...m]}function Ke(b){return b.map(m=>{var{providerId:_}=m,D=(0,ae._T)(m,["providerId"]);return{providerId:_,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function st(){return(st=(0,s.Z)(function*(b,m){const _=yield wi(b,{},(0,s.Z)(function*(){const D=(0,z.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:x,apiKey:V}=b.config,te=Mr(b,x,"/v1/token",`key=${V}`),Ne=yield b._getAdditionalHeaders();return Ne["Content-Type"]="application/x-www-form-urlencoded",bn.fetch()(te,{method:"POST",headers:Ne,body:D})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){re(m.idToken,"internal-error"),re(void 0!==m.idToken,"internal-error"),re(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function yt(b){const m=Yt(b);return re(m,"internal-error"),re(void 0!==m.exp,"internal-error"),re(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var D=this;return(0,s.Z)(function*(){return re(!D.accessToken||D.refreshToken,m,"user-token-expired"),_||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(m,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var D=this;return(0,s.Z)(function*(){const{accessToken:x,refreshToken:V,expiresIn:te}=yield function Ie(b,m){return st.apply(this,arguments)}(m,_);D.updateTokensAndExpiration(x,V,Number(te))})()}updateTokensAndExpiration(m,_,D){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(m,_){const{refreshToken:D,accessToken:x,expirationTime:V}=_,te=new vt;return D&&(re("string"==typeof D,"internal-error",{appName:m}),te.refreshToken=D),x&&(re("string"==typeof x,"internal-error",{appName:m}),te.accessToken=x),V&&(re("number"==typeof V,"internal-error",{appName:m}),te.expirationTime=V),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new vt,this.toJSON())}_performRefresh(){return tt("not implemented")}}function Ut(b,m){re("string"==typeof b||void 0===b,"internal-error",{appName:m})}class jt{constructor(m){var{uid:_,auth:D,stsTokenManager:x}=m,V=(0,ae._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=D,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new bs(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,s.Z)(function*(){const D=yield ct(_,_.stsTokenManager.getToken(_.auth,m));return re(D,_.auth,"internal-error"),_.accessToken!==D&&(_.accessToken=D,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),D})()}getIdTokenResult(m){return function Un(b){return er.apply(this,arguments)}(this,m)}reload(){return function Ct(b){return Wn.apply(this,arguments)}(this)}_assign(m){this!==m&&(re(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new jt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var D=this;return(0,s.Z)(function*(){let x=!1;m.idToken&&m.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(m),x=!0),_&&(yield qn(D)),yield D.auth._persistUserIfCurrent(D),x&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var m=this;return(0,s.Z)(function*(){const _=yield m.getIdToken();return yield ct(m,function Ns(b,m){return _t.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var D,x,V,te,Ne,dt,Tt,qt;const Jn=null!==(D=_.displayName)&&void 0!==D?D:void 0,Eo=null!==(x=_.email)&&void 0!==x?x:void 0,Cl=null!==(V=_.phoneNumber)&&void 0!==V?V:void 0,_u=null!==(te=_.photoURL)&&void 0!==te?te:void 0,pc=null!==(Ne=_.tenantId)&&void 0!==Ne?Ne:void 0,gc=null!==(dt=_._redirectEventId)&&void 0!==dt?dt:void 0,ug=null!==(Tt=_.createdAt)&&void 0!==Tt?Tt:void 0,X_=null!==(qt=_.lastLoginAt)&&void 0!==qt?qt:void 0,{uid:yu,emailVerified:Fa,isAnonymous:dg,providerData:Vd,stsTokenManager:hg}=_;re(yu&&hg,m,"internal-error");const ff=vt.fromJSON(this.name,hg);re("string"==typeof yu,m,"internal-error"),Ut(Jn,m.name),Ut(Eo,m.name),re("boolean"==typeof Fa,m,"internal-error"),re("boolean"==typeof dg,m,"internal-error"),Ut(Cl,m.name),Ut(_u,m.name),Ut(pc,m.name),Ut(gc,m.name),Ut(ug,m.name),Ut(X_,m.name);const mc=new jt({uid:yu,auth:m,email:Eo,emailVerified:Fa,displayName:Jn,isAnonymous:dg,photoURL:_u,phoneNumber:Cl,tenantId:pc,stsTokenManager:ff,createdAt:ug,lastLoginAt:X_});return Vd&&Array.isArray(Vd)&&(mc.providerData=Vd.map(fg=>Object.assign({},fg))),gc&&(mc._redirectEventId=gc),mc}static _fromIdTokenResponse(m,_,D=!1){return(0,s.Z)(function*(){const x=new vt;x.updateFromServerResponse(_);const V=new jt({uid:_.localId,auth:m,stsTokenManager:x,isAnonymous:D});return yield qn(V),V})()}}const H=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,D){var x=this;return(0,s.Z)(function*(){x.storage[_]=D})()}_get(_){var D=this;return(0,s.Z)(function*(){const x=D.storage[_];return void 0===x?null:x})()}_remove(_){var D=this;return(0,s.Z)(function*(){delete D.storage[_]})()}_addListener(_,D){}_removeListener(_,D){}}return b.type="NONE",b})();function J(b,m,_){return`firebase:${b}:${m}:${_}`}class pe{constructor(m,_,D){this.persistence=m,this.auth=_,this.userKey=D;const{config:x,name:V}=this.auth;this.fullUserKey=J(this.userKey,x.apiKey,V),this.fullPersistenceKey=J("persistence",x.apiKey,V),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,s.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?jt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,s.Z)(function*(){if(_.persistence===m)return;const D=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,D?_.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,D="authUser"){return(0,s.Z)(function*(){if(!_.length)return new pe(he(H),m,D);const x=(yield Promise.all(_.map(function(){var Tt=(0,s.Z)(function*(qt){if(yield qt._isAvailable())return qt});return function(qt){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let V=x[0]||he(H);const te=J(D,m.config.apiKey,m.name);let Ne=null;for(const Tt of _)try{const qt=yield Tt._get(te);if(qt){const Jn=jt._fromJSON(m,qt);Tt!==V&&(Ne=Jn),V=Tt;break}}catch(qt){}const dt=x.filter(Tt=>Tt._shouldAllowMigration);return V._shouldAllowMigration&&dt.length?(V=dt[0],Ne&&(yield V._set(te,Ne.toJSON())),yield Promise.all(_.map(function(){var Tt=(0,s.Z)(function*(qt){if(qt!==V)try{yield qt._remove(te)}catch(Jn){}});return function(qt){return Tt.apply(this,arguments)}}())),new pe(V,m,D)):new pe(V,m,D)})()}}function L(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ge(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(j(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(At(m))return"Blackberry";if(at(m))return"Webos";if(G(m))return"Safari";if((m.includes("chrome/")||ue(m))&&!m.includes("edge/"))return"Chrome";if(Qe(m))return"Android";{const D=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function j(b=(0,z.z$)()){return/firefox\//i.test(b)}function G(b=(0,z.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function ue(b=(0,z.z$)()){return/crios\//i.test(b)}function Ge(b=(0,z.z$)()){return/iemobile/i.test(b)}function Qe(b=(0,z.z$)()){return/android/i.test(b)}function At(b=(0,z.z$)()){return/blackberry/i.test(b)}function at(b=(0,z.z$)()){return/webos/i.test(b)}function Pt(b=(0,z.z$)()){return/iphone|ipad|ipod/i.test(b)}function Rn(b=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ji(b=(0,z.z$)()){return Pt(b)||Qe(b)||at(b)||At(b)||/windows phone/i.test(b)||Ge(b)}function ii(b,m=[]){let _;switch(b){case"Browser":_=L((0,z.z$)());break;case"Worker":_=`${L((0,z.z$)())}-${b}`;break;default:_=b}const D=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${R.SDK_VERSION}/${D}`}class zl{constructor(m,_,D){this.app=m,this.heartbeatServiceProvider=_,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new et(this),this.idTokenSubscription=new et(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=He,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(m,_){var D=this;return _&&(this._popupRedirectResolver=he(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var x,V;if(!D._deleted&&(D.persistenceManager=yield pe.create(D,m),!D._deleted)){if(null===(x=D._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(te){}yield D.initializeCurrentUser(_),D.lastNotifiedUid=(null===(V=D.currentUser)||void 0===V?void 0:V.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,s.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_)}})()}initializeCurrentUser(m){var _=this;return(0,s.Z)(function*(){var D;let x=yield _.assertedPersistence.getCurrentUser();if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const V=null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId,te=null==x?void 0:x._redirectEventId,Ne=yield _.tryRedirectSignIn(m);(!V||V===te)&&(null==Ne?void 0:Ne.user)&&(x=Ne.user)}return x?x._redirectEventId?(re(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===x._redirectEventId?_.directlySetCurrentUser(x):_.reloadAndSetCurrentUserOrClear(x)):_.reloadAndSetCurrentUserOrClear(x):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var _=this;return(0,s.Z)(function*(){let D=null;try{D=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(x){yield _._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,s.Z)(function*(){try{yield qn(m)}catch(D){if("auth/network-request-failed"!==D.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function mt(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,s.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,s.Z)(function*(){const D=m?(0,z.m9)(m):null;return D&&re(D.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(D&&D._clone(_))})()}_updateCurrentUser(m){var _=this;return(0,s.Z)(function*(){if(!_._deleted)return m&&re(_.tenantId===m.tenantId,_,"tenant-id-mismatch"),_.queue((0,s.Z)(function*(){yield _.directlySetCurrentUser(m),_.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,s.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(he(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new z.LL("auth","Firebase",m())}onAuthStateChanged(m,_,D){return this.registerStateListener(this.authStateSubscription,m,_,D)}onIdTokenChanged(m,_,D){return this.registerStateListener(this.idTokenSubscription,m,_,D)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var D=this;return(0,s.Z)(function*(){const x=yield D.getOrInitRedirectPersistenceManager(_);return null===m?x.removeCurrentUser():x.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const D=m&&he(m)||_._popupRedirectResolver;re(D,_,"argument-error"),_.redirectPersistenceManager=yield pe.create(_,[he(D._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,s.Z)(function*(){var D,x;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(D=_._currentUser)||void 0===D?void 0:D._redirectEventId)===m?_._currentUser:(null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,s.Z)(function*(){if(m===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,D,x){if(this._deleted)return()=>{};const V="function"==typeof _?_:_.next.bind(_),te=this._isInitialized?Promise.resolve():this._initializationPromise;return re(te,this,"internal-error"),te.then(()=>V(this.currentUser)),"function"==typeof _?m.addObserver(_,D,x):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=ii(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,s.Z)(function*(){var _;const D={"X-Client-Version":m.clientVersion};m.app.options.appId&&(D["X-Firebase-gmpid"]=m.app.options.appId);const x=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return x&&(D["X-Firebase-Client"]=x),D})()}}function Tn(b){return(0,z.m9)(b)}class et{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,z.ne)(_=>this.observer=_)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kt(b,m,_){const D=Tn(b);re(D._canInitEmulator,D,"emulator-config-failed"),re(/^https?:\/\//.test(m),D,"invalid-emulator-scheme");const x=!!(null==_?void 0:_.disableWarnings),V=Sn(m),{host:te,port:Ne}=function Hi(b){const m=Sn(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const D=_[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(D);if(x){const V=x[1];return{host:V,port:Rs(D.substr(V.length+1))}}{const[V,te]=D.split(":");return{host:V,port:Rs(te)}}}(m);D.config.emulator={url:`${V}//${te}${null===Ne?"":`:${Ne}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:te,port:Ne,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function di(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Sn(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Rs(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Gi{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return tt("not implemented")}_getIdTokenResponse(m){return tt("not implemented")}_linkToIdToken(m,_){return tt("not implemented")}_getReauthenticationResolver(m){return tt("not implemented")}}function Pn(b,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,s.Z)(function*(b,m){return un(b,"POST","/v1/accounts:resetPassword",an(b,m))})).apply(this,arguments)}function Ro(b,m){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,s.Z)(function*(b,m){return un(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Xa(b,m){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,s.Z)(function*(b,m){return un(b,"POST","/v1/accounts:update",an(b,m))})).apply(this,arguments)}function ws(){return(ws=(0,s.Z)(function*(b,m){return Ii(b,"POST","/v1/accounts:signInWithPassword",an(b,m))})).apply(this,arguments)}function In(b,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,s.Z)(function*(b,m){return un(b,"POST","/v1/accounts:sendOobCode",an(b,m))})).apply(this,arguments)}function Po(b,m){return An.apply(this,arguments)}function An(){return(An=(0,s.Z)(function*(b,m){return In(b,m)})).apply(this,arguments)}function xn(b,m){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(b,m){return In(b,m)})).apply(this,arguments)}function cd(b,m){return $i.apply(this,arguments)}function $i(){return($i=(0,s.Z)(function*(b,m){return In(b,m)})).apply(this,arguments)}function xr(b,m){return ql.apply(this,arguments)}function ql(){return(ql=(0,s.Z)(function*(b,m){return In(b,m)})).apply(this,arguments)}function ca(){return(ca=(0,s.Z)(function*(b,m){return Ii(b,"POST","/v1/accounts:signInWithEmailLink",an(b,m))})).apply(this,arguments)}function zc(){return(zc=(0,s.Z)(function*(b,m){return Ii(b,"POST","/v1/accounts:signInWithEmailLink",an(b,m))})).apply(this,arguments)}class Ps extends Gi{constructor(m,_,D,x=null){super("password",D),this._email=m,this._password=_,this._tenantId=x}static _fromEmailAndPassword(m,_){return new Ps(m,_,"password")}static _fromEmailAndCode(m,_,D=null){return new Ps(m,_,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,s.Z)(function*(){switch(_.signInMethod){case"password":return function $c(b,m){return ws.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function la(b,m){return ca.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:qe(m,"internal-error")}})()}_linkToIdToken(m,_){var D=this;return(0,s.Z)(function*(){switch(D.signInMethod){case"password":return Ro(m,{idToken:_,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Xr(b,m){return zc.apply(this,arguments)}(m,{idToken:_,email:D._email,oobCode:D._password});default:qe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function ho(b,m){return mr.apply(this,arguments)}function mr(){return(mr=(0,s.Z)(function*(b,m){return Ii(b,"POST","/v1/accounts:signInWithIdp",an(b,m))})).apply(this,arguments)}class Fs extends Gi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Fs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):qe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:x}=_,V=(0,ae._T)(_,["providerId","signInMethod"]);if(!D||!x)return null;const te=new Fs(D,x);return te.idToken=V.idToken||void 0,te.accessToken=V.accessToken||void 0,te.secret=V.secret,te.nonce=V.nonce,te.pendingToken=V.pendingToken||null,te}_getIdTokenResponse(m){return ho(m,this.buildRequest())}_linkToIdToken(m,_){const D=this.buildRequest();return D.idToken=_,ho(m,D)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,ho(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,z.xO)(_)}return m}}function Kp(b,m){return ud.apply(this,arguments)}function ud(){return(ud=(0,s.Z)(function*(b,m){return un(b,"POST","/v1/accounts:sendVerificationCode",an(b,m))})).apply(this,arguments)}function el(){return(el=(0,s.Z)(function*(b,m){return Ii(b,"POST","/v1/accounts:signInWithPhoneNumber",an(b,m))})).apply(this,arguments)}function dd(){return(dd=(0,s.Z)(function*(b,m){const _=yield Ii(b,"POST","/v1/accounts:signInWithPhoneNumber",an(b,m));if(_.temporaryProof)throw Mi(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Qp={USER_NOT_FOUND:"user-not-found"};function Wl(){return(Wl=(0,s.Z)(function*(b,m){return Ii(b,"POST","/v1/accounts:signInWithPhoneNumber",an(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Qp)})).apply(this,arguments)}class da extends Gi{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new da({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new da({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Jp(b,m){return el.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function ua(b,m){return dd.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Xp(b,m){return Wl.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:D,verificationCode:x}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:D,code:x}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:D,phoneNumber:x,temporaryProof:V}=m;return D||_||x||V?new da({verificationId:_,verificationCode:D,phoneNumber:x,temporaryProof:V}):null}}class fo{constructor(m){var _,D,x,V,te,Ne;const dt=(0,z.zd)((0,z.pd)(m)),Tt=null!==(_=dt.apiKey)&&void 0!==_?_:null,qt=null!==(D=dt.oobCode)&&void 0!==D?D:null,Jn=function eg(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=dt.mode)&&void 0!==x?x:null);re(Tt&&qt&&Jn,"argument-error"),this.apiKey=Tt,this.operation=Jn,this.code=qt,this.continueUrl=null!==(V=dt.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(te=dt.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Ne=dt.tenantId)&&void 0!==Ne?Ne:null}static parseLink(m){const _=function G_(b){const m=(0,z.zd)((0,z.pd)(b)).link,_=m?(0,z.zd)((0,z.pd)(m)).deep_link_id:null,D=(0,z.zd)((0,z.pd)(b)).deep_link_id;return(D?(0,z.zd)((0,z.pd)(D)).link:null)||D||_||m||b}(m);try{return new fo(_)}catch(D){return null}}}let ha=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,D){return Ps._fromEmailAndPassword(_,D)}static credentialWithLink(_,D){const x=fo.parseLink(D);return re(x,"argument-error"),Ps._fromEmailAndCode(_,x.code,x.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ls{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class tl extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class kr extends tl{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return re("providerId"in _&&"signInMethod"in _,"argument-error"),Fs._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return re(m.idToken||m.accessToken,"argument-error"),Fs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return kr.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return kr.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:D,oauthTokenSecret:x,pendingToken:V,nonce:te,providerId:Ne}=m;if(!D&&!x&&!_&&!V||!Ne)return null;try{return new kr(Ne)._credential({idToken:_,accessToken:D,nonce:te,pendingToken:V})}catch(dt){return null}}}let Uh=(()=>{class b extends tl{constructor(){super("facebook.com")}static credential(_){return Fs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(D){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),fa=(()=>{class b extends tl{constructor(){super("google.com"),this.addScope("profile")}static credential(_,D){return Fs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:D,oauthAccessToken:x}=_;if(!D&&!x)return null;try{return b.credential(D,x)}catch(V){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Zl=(()=>{class b extends tl{constructor(){super("github.com")}static credential(_){return Fs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(D){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class nl extends Gi{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return ho(m,this.buildRequest())}_linkToIdToken(m,_){const D=this.buildRequest();return D.idToken=_,ho(m,D)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,ho(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:x,pendingToken:V}=_;return D&&x&&V&&D===x?new nl(D,V):null}static _create(m,_){return new nl(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class es extends Ls{constructor(m){re(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return es.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return es.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=nl.fromJSON(m);return re(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:D}=m;if(!_||!D)return null;try{return nl._create(D,_)}catch(x){return null}}}let Vs=(()=>{class b extends tl{constructor(){super("twitter.com")}static credential(_,D){return Fs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:D,oauthTokenSecret:x}=_;if(!D||!x)return null;try{return b.credential(D,x)}catch(V){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Yl(b,m){return il.apply(this,arguments)}function il(){return(il=(0,s.Z)(function*(b,m){return Ii(b,"POST","/v1/accounts:signUp",an(b,m))})).apply(this,arguments)}class Fn{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,D,x=!1){return(0,s.Z)(function*(){const V=yield jt._fromIdTokenResponse(m,D,x),te=pa(D);return new Fn({user:V,providerId:te,_tokenResponse:D,operationType:_})})()}static _forOperation(m,_,D){return(0,s.Z)(function*(){yield m._updateTokensIfNecessary(D,!0);const x=pa(D);return new Fn({user:m,providerId:x,_tokenResponse:D,operationType:_})})()}}function pa(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function tg(b){return ga.apply(this,arguments)}function ga(){return(ga=(0,s.Z)(function*(b){var m;const _=Tn(b);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new Fn({user:_.currentUser,providerId:null,operationType:"signIn"});const D=yield Yl(_,{returnSecureToken:!0}),x=yield Fn._fromIdTokenResponse(_,"signIn",D,!0);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class qc extends z.ZR{constructor(m,_,D,x){var V;super(_.code,_.message),this.operationType=D,this.user=x,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:m.name,tenantId:null!==(V=m.tenantId)&&void 0!==V?V:void 0,_serverResponse:_.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(m,_,D,x){return new qc(m,_,D,x)}}function fd(b,m,_,D){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?qc._fromErrorAndOperation(b,V,m,D):V})}function Kl(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function po(b,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,s.Z)(function*(b,m){const _=(0,z.m9)(b);yield Lo(!0,_,m);const{providerUserInfo:D}=yield Ui(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),x=Kl(D||[]);return _.providerData=_.providerData.filter(V=>x.has(V.providerId)),x.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Wc(b,m){return kn.apply(this,arguments)}function kn(){return(kn=(0,s.Z)(function*(b,m,_=!1){const D=yield ct(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return Fn._forOperation(b,"link",D)})).apply(this,arguments)}function Lo(b,m,_){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,s.Z)(function*(b,m,_){yield qn(m);const x=!1===b?"provider-already-linked":"no-such-provider";re(Kl(m.providerData).has(_)===b,m.auth,x)})).apply(this,arguments)}function Mn(b,m){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,s.Z)(function*(b,m,_=!1){const{auth:D}=b,x="reauthenticate";try{const V=yield ct(b,fd(D,x,m,b),_);re(V.idToken,D,"internal-error");const te=Yt(V.idToken);re(te,D,"internal-error");const{sub:Ne}=te;return re(b.uid===Ne,D,"user-mismatch"),Fn._forOperation(b,x,V)}catch(V){throw"auth/user-not-found"===(null==V?void 0:V.code)&&qe(D,"user-mismatch"),V}})).apply(this,arguments)}function ma(b,m){return go.apply(this,arguments)}function go(){return(go=(0,s.Z)(function*(b,m,_=!1){const D="signIn",x=yield fd(b,D,m),V=yield Fn._fromIdTokenResponse(b,D,x);return _||(yield b._updateCurrentUser(V.user)),V})).apply(this,arguments)}function Ai(b,m){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(b,m){return ma(Tn(b),m)})).apply(this,arguments)}function Jl(b,m){return Or.apply(this,arguments)}function Or(){return(Or=(0,s.Z)(function*(b,m){const _=(0,z.m9)(b);return yield Lo(!1,_,m.providerId),Wc(_,m)})).apply(this,arguments)}function tr(b,m){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,s.Z)(function*(b,m){return Mn((0,z.m9)(b),m)})).apply(this,arguments)}function Bo(b,m){return _a.apply(this,arguments)}function _a(){return(_a=(0,s.Z)(function*(b,m){return Ii(b,"POST","/v1/accounts:signInWithCustomToken",an(b,m))})).apply(this,arguments)}function ts(b,m){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,s.Z)(function*(b,m){const _=Tn(b),D=yield Bo(_,{token:m,returnSecureToken:!0}),x=yield Fn._fromIdTokenResponse(_,"signIn",D);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class Us{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?It._fromServerResponse(m,_):qe(m,"internal-error")}}class It extends Us{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new It(_)}}function rl(b,m,_){var D;re((null===(D=_.url)||void 0===D?void 0:D.length)>0,b,"invalid-continue-uri"),re(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(re(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(re(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function pd(b,m,_){return ya.apply(this,arguments)}function ya(){return(ya=(0,s.Z)(function*(b,m,_){const D=(0,z.m9)(b),x={requestType:"PASSWORD_RESET",email:m};_&&rl(D,x,_),yield xn(D,x)})).apply(this,arguments)}function gd(b,m,_){return va.apply(this,arguments)}function va(){return(va=(0,s.Z)(function*(b,m,_){yield Pn((0,z.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Hh(b,m){return sl.apply(this,arguments)}function sl(){return(sl=(0,s.Z)(function*(b,m){yield Xa((0,z.m9)(b),{oobCode:m})})).apply(this,arguments)}function ke(b,m){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(function*(b,m){const _=(0,z.m9)(b),D=yield Pn(_,{oobCode:m}),x=D.requestType;switch(re(x,_,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(D.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(D.mfaInfo,_,"internal-error");default:re(D.email,_,"internal-error")}let V=null;return D.mfaInfo&&(V=Us._fromServerResponse(Tn(_),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:V},operation:x}})).apply(this,arguments)}function Gh(b,m){return On.apply(this,arguments)}function On(){return(On=(0,s.Z)(function*(b,m){const{data:_}=yield ke((0,z.m9)(b),m);return _.email})).apply(this,arguments)}function Ql(b,m,_){return mo.apply(this,arguments)}function mo(){return(mo=(0,s.Z)(function*(b,m,_){const D=Tn(b),x=yield Yl(D,{returnSecureToken:!0,email:m,password:_}),V=yield Fn._fromIdTokenResponse(D,"signIn",x);return yield D._updateCurrentUser(V.user),V})).apply(this,arguments)}function ns(b,m,_){return Ai((0,z.m9)(b),ha.credential(m,_))}function Yc(b,m,_){return ol.apply(this,arguments)}function ol(){return(ol=(0,s.Z)(function*(b,m,_){const D=(0,z.m9)(b),x={requestType:"EMAIL_SIGNIN",email:m};re(_.handleCodeInApp,D,"argument-error"),_&&rl(D,x,_),yield cd(D,x)})).apply(this,arguments)}function ng(b,m){const _=fo.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function Kc(b,m,_){return ba.apply(this,arguments)}function ba(){return(ba=(0,s.Z)(function*(b,m,_){const D=(0,z.m9)(b),x=ha.credentialWithLink(m,_||ce());return re(x._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Ai(D,x)})).apply(this,arguments)}function wa(b,m){return fi.apply(this,arguments)}function fi(){return(fi=(0,s.Z)(function*(b,m){return un(b,"POST","/v1/accounts:createAuthUri",an(b,m))})).apply(this,arguments)}function Ds(b,m){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,s.Z)(function*(b,m){const D={identifier:m,continueUri:kt()?ce():"http://localhost"},{signinMethods:x}=yield wa((0,z.m9)(b),D);return x||[]})).apply(this,arguments)}function Da(b,m){return _r.apply(this,arguments)}function _r(){return(_r=(0,s.Z)(function*(b,m){const _=(0,z.m9)(b),x={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&rl(_.auth,x,m);const{email:V}=yield Po(_.auth,x);V!==b.email&&(yield b.reload())})).apply(this,arguments)}function $h(b,m,_){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,s.Z)(function*(b,m,_){const D=(0,z.m9)(b),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&rl(D.auth,V,_);const{email:te}=yield xr(D.auth,V);te!==b.email&&(yield b.reload())})).apply(this,arguments)}function md(b,m){return al.apply(this,arguments)}function al(){return(al=(0,s.Z)(function*(b,m){return un(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Jc(b,m){return js.apply(this,arguments)}function js(){return(js=(0,s.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const D=(0,z.m9)(b),V={idToken:yield D.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},te=yield ct(D,md(D.auth,V));D.displayName=te.displayName||null,D.photoURL=te.photoUrl||null;const Ne=D.providerData.find(({providerId:dt})=>"password"===dt);Ne&&(Ne.displayName=D.displayName,Ne.photoURL=D.photoURL),yield D._updateTokensIfNecessary(te)})).apply(this,arguments)}function zh(b,m){return Xc((0,z.m9)(b),m,null)}function Qc(b,m){return Xc((0,z.m9)(b),null,m)}function Xc(b,m,_){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,s.Z)(function*(b,m,_){const{auth:D}=b,V={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(V.email=m),_&&(V.password=_);const te=yield ct(b,Ro(D,V));yield b._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Uo{constructor(m,_,D={}){this.isNewUser=m,this.providerId=_,this.profile=D}}class eu extends Uo{constructor(m,_,D,x){super(m,_,D),this.username=x}}class qh extends Uo{constructor(m,_){super(m,"facebook.com",_)}}class _d extends eu{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class jo extends Uo{constructor(m,_){super(m,"google.com",_)}}class _o extends eu{constructor(m,_,D){super(m,"twitter.com",_,D)}}function tu(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function ll(b){var m,_;if(!b)return null;const{providerId:D}=b,x=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},V=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!D&&(null==b?void 0:b.idToken)){const te=null===(_=null===(m=Yt(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(te)return new Uo(V,"anonymous"!==te&&"custom"!==te?te:null)}if(!D)return null;switch(D){case"facebook.com":return new qh(V,x);case"github.com":return new _d(V,x);case"google.com":return new jo(V,x);case"twitter.com":return new _o(V,x,b.screenName||null);case"custom":case"anonymous":return new Uo(V,null);default:return new Uo(V,D,x)}}(_)}class Ho{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new Ho("enroll",m)}static _fromMfaPendingCredential(m){return new Ho("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,D;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Ho._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(D=m.multiFactorSession)||void 0===D?void 0:D.idToken)return Ho._fromIdtoken(m.multiFactorSession.idToken)}return null}}class cl{constructor(m,_,D){this.session=m,this.hints=_,this.signInResolver=D}static _fromError(m,_){const D=Tn(m),x=_.customData._serverResponse,V=(x.mfaInfo||[]).map(Ne=>Us._fromServerResponse(D,Ne));re(x.mfaPendingCredential,D,"internal-error");const te=Ho._fromMfaPendingCredential(x.mfaPendingCredential);return new cl(te,V,function(){var Ne=(0,s.Z)(function*(dt){const Tt=yield dt._process(D,te);delete x.mfaInfo,delete x.mfaPendingCredential;const qt=Object.assign(Object.assign({},x),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(_.operationType){case"signIn":const Jn=yield Fn._fromIdTokenResponse(D,_.operationType,qt);return yield D._updateCurrentUser(Jn.user),Jn;case"reauthenticate":return re(_.user,D,"internal-error"),Fn._forOperation(_.user,_.operationType,qt);default:qe(D,"internal-error")}});return function(dt){return Ne.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,s.Z)(function*(){return _.signInResolver(m)})()}}function iu(b,m){var _;const D=(0,z.m9)(b),x=m;return re(m.customData.operationType,D,"argument-error"),re(null===(_=x.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,D,"argument-error"),cl._fromError(D,x)}function ec(b,m){return un(b,"POST","/v2/accounts/mfaEnrollment:start",an(b,m))}class wd{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(D=>Us._fromServerResponse(m.auth,D)))})}static _fromUser(m){return new wd(m)}getSession(){var m=this;return(0,s.Z)(function*(){return Ho._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var D=this;return(0,s.Z)(function*(){const x=m,V=yield D.getSession(),te=yield ct(D.user,x._process(D.user.auth,V,_));return yield D.user._updateTokensIfNecessary(te),D.user.reload()})()}unenroll(m){var _=this;return(0,s.Z)(function*(){const D="string"==typeof m?m:m.uid,x=yield _.user.getIdToken(),V=yield ct(_.user,function bd(b,m){return un(b,"POST","/v2/accounts/mfaEnrollment:withdraw",an(b,m))}(_.user.auth,{idToken:x,mfaEnrollmentId:D}));_.enrolledFactors=_.enrolledFactors.filter(({uid:te})=>te!==D),yield _.user._updateTokensIfNecessary(V);try{yield _.user.reload()}catch(te){if("auth/user-token-expired"!==te.code)throw te}})()}}const Hs=new WeakMap;function tc(b){const m=(0,z.m9)(b);return Hs.has(m)||Hs.set(m,wd._fromUser(m)),Hs.get(m)}const ul="__sak";class Wh{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ul,"1"),this.storage.removeItem(ul),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const jn=(()=>{class b extends Wh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,D)=>this.onStorageEvent(_,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gs(){const b=(0,z.z$)();return G(b)||Pt(b)}()&&function Jr(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=ji(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const D of Object.keys(this.listeners)){const x=this.storage.getItem(D),V=this.localCache[D];x!==V&&_(D,V,x)}}onStorageEvent(_,D=!1){if(!_.key)return void this.forAllChangedKeys((Ne,dt,Tt)=>{this.notifyListeners(Ne,Tt)});const x=_.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ne=this.storage.getItem(x);if(_.newValue!==Ne)null!==_.newValue?this.storage.setItem(x,_.newValue):this.storage.removeItem(x);else if(this.localCache[x]===_.newValue&&!D)return}const V=()=>{const Ne=this.storage.getItem(x);!D&&this.localCache[x]===Ne||this.notifyListeners(x,Ne)},te=this.storage.getItem(x);!function en(){return(0,z.w1)()&&10===document.documentMode}()||te===_.newValue||_.newValue===_.oldValue?V():setTimeout(V,10)}notifyListeners(_,D){this.localCache[_]=D;const x=this.listeners[_];if(x)for(const V of Array.from(x))V(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,D,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:D,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,D){var x=()=>super._set,V=this;return(0,s.Z)(function*(){yield x().call(V,_,D),V.localCache[_]=JSON.stringify(D)})()}_get(_){var D=()=>super._get,x=this;return(0,s.Z)(function*(){const V=yield D().call(x,_);return x.localCache[_]=JSON.stringify(V),V})()}_remove(_){var D=()=>super._remove,x=this;return(0,s.Z)(function*(){yield D().call(x,_),delete x.localCache[_]})()}}return b.type="LOCAL",b})(),Ta=(()=>{class b extends Wh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,D){}_removeListener(_,D){}}return b.type="SESSION",b})();let su=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const D=this.receivers.find(V=>V.isListeningto(_));if(D)return D;const x=new b(_);return this.receivers.push(x),x}isListeningto(_){return this.eventTarget===_}handleEvent(_){var D=this;return(0,s.Z)(function*(){const x=_,{eventId:V,eventType:te,data:Ne}=x.data,dt=D.handlersMap[te];if(!(null==dt?void 0:dt.size))return;x.ports[0].postMessage({status:"ack",eventId:V,eventType:te});const Tt=Array.from(dt).map(function(){var Jn=(0,s.Z)(function*(Eo){return Eo(x.origin,Ne)});return function(Eo){return Jn.apply(this,arguments)}}()),qt=yield function Dd(b){return Promise.all(b.map(function(){var m=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(D){return{fulfilled:!1,reason:D}}});return function(_){return m.apply(this,arguments)}}()))}(Tt);x.ports[0].postMessage({status:"done",eventId:V,eventType:te,response:qt})})()}_subscribe(_,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(D)}_unsubscribe(_,D){this.handlersMap[_]&&D&&this.handlersMap[_].delete(D),(!D||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function $s(b="",m=10){let _="";for(let D=0;D<m;D++)_+=Math.floor(10*Math.random());return b+_}class ou{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,D=50){var x=this;return(0,s.Z)(function*(){const V="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let te,Ne;return new Promise((dt,Tt)=>{const qt=$s("",20);V.port1.start();const Jn=setTimeout(()=>{Tt(new Error("unsupported_event"))},D);Ne={messageChannel:V,onMessage(Eo){const Cl=Eo;if(Cl.data.eventId===qt)switch(Cl.data.status){case"ack":clearTimeout(Jn),te=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),dt(Cl.data.response);break;default:clearTimeout(Jn),clearTimeout(te),Tt(new Error("invalid_response"))}}},x.handlers.add(Ne),V.port1.addEventListener("message",Ne.onMessage),x.target.postMessage({eventType:m,eventId:qt,data:_},[V.port2])}).finally(()=>{Ne&&x.removeMessageHandler(Ne)})})()}}function ei(){return window}function Es(){return void 0!==ei().WorkerGlobalScope&&"function"==typeof ei().importScripts}function ut(){return(ut=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const dl="firebaseLocalStorageDb",hl="firebaseLocalStorage",fl="fbase_key";class zi{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Hn(b,m){return b.transaction([hl],m?"readwrite":"readonly").objectStore(hl)}function qi(){const b=indexedDB.open(dl,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const D=b.result;try{D.createObjectStore(hl,{keyPath:fl})}catch(x){_(x)}}),b.addEventListener("success",(0,s.Z)(function*(){const D=b.result;D.objectStoreNames.contains(hl)?m(D):(D.close(),yield function lu(){const b=indexedDB.deleteDatabase(dl);return new zi(b).toPromise()}(),m(yield qi()))}))})}function Ia(b,m,_){return nc.apply(this,arguments)}function nc(){return(nc=(0,s.Z)(function*(b,m,_){const D=Hn(b,!0).put({[fl]:m,value:_});return new zi(D).toPromise()})).apply(this,arguments)}function ir(){return(ir=(0,s.Z)(function*(b,m){const _=Hn(b,!1).get(m),D=yield new zi(_).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function is(b,m){const _=Hn(b,!0).delete(m);return new zi(_).toPromise()}const gl=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield qi()),_.db})()}_withRetries(_){var D=this;return(0,s.Z)(function*(){let x=0;for(;;)try{const V=yield D._openDb();return yield _(V)}catch(V){if(x++>3)throw V;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return Es()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=su._getInstance(function ig(){return Es()?self:null}()),_.receiver._subscribe("keyChanged",function(){var D=(0,s.Z)(function*(x,V){return{keyProcessed:(yield _._poll()).includes(V.key)}});return function(x,V){return D.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var D=(0,s.Z)(function*(x,V){return["keyChanged"]});return function(x,V){return D.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var D,x;if(_.activeServiceWorker=yield function pn(){return ut.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new ou(_.activeServiceWorker);const V=yield _.sender._send("ping",{},800);!V||(null===(D=V[0])||void 0===D?void 0:D.fulfilled)&&(null===(x=V[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var D=this;return(0,s.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Sa(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:_},D.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield qi();return yield Ia(_,ul,"1"),yield is(_,ul),!0}catch(_){}return!1})()}_withPendingWrite(_){var D=this;return(0,s.Z)(function*(){D.pendingWrites++;try{yield _()}finally{D.pendingWrites--}})()}_set(_,D){var x=this;return(0,s.Z)(function*(){return x._withPendingWrite((0,s.Z)(function*(){return yield x._withRetries(V=>Ia(V,_,D)),x.localCache[_]=D,x.notifyServiceWorker(_)}))})()}_get(_){var D=this;return(0,s.Z)(function*(){const x=yield D._withRetries(V=>function pl(b,m){return ir.apply(this,arguments)}(V,_));return D.localCache[_]=x,x})()}_remove(_){var D=this;return(0,s.Z)(function*(){return D._withPendingWrite((0,s.Z)(function*(){return yield D._withRetries(x=>is(x,_)),delete D.localCache[_],D.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const D=yield _._withRetries(te=>{const Ne=Hn(te,!1).getAll();return new zi(Ne).toPromise()});if(!D)return[];if(0!==_.pendingWrites)return[];const x=[],V=new Set;for(const{fbase_key:te,value:Ne}of D)V.add(te),JSON.stringify(_.localCache[te])!==JSON.stringify(Ne)&&(_.notifyListeners(te,Ne),x.push(te));for(const te of Object.keys(_.localCache))_.localCache[te]&&!V.has(te)&&(_.notifyListeners(te,null),x.push(te));return x})()}notifyListeners(_,D){this.localCache[_]=D;const x=this.listeners[_];if(x)for(const V of Array.from(x))V(D)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function vo(b,m){return un(b,"POST","/v2/accounts/mfaSignIn:start",an(b,m))}function _l(){return(_l=(0,s.Z)(function*(b){return(yield un(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ic(b){return new Promise((m,_)=>{const D=document.createElement("script");D.setAttribute("src",b),D.onload=m,D.onerror=x=>{const V=Re("internal-error");V.customData=x,_(V)},D.type="text/javascript",D.charset="UTF-8",function zs(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(D)})}function $o(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Nr=1e12;class Ws{constructor(m){this.auth=m,this.counter=Nr,this._widgets=new Map}render(m,_){const D=this.counter;return this._widgets.set(D,new Td(m,this.auth.name,_||{})),this.counter++,D}reset(m){var _;const D=m||Nr;null===(_=this._widgets.get(D))||void 0===_||_.delete(),this._widgets.delete(D)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Nr))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,s.Z)(function*(){var D;return null===(D=_._widgets.get(m||Nr))||void 0===D||D.execute(),""})()}}class Td{constructor(m,_,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof m?document.getElementById(m):m;re(x,"argument-error",{appName:_}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sc(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<b;D++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zs=$o("rcb"),Sd=new bt(3e4,6e4);class Kn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ei().grecaptcha}load(m,_=""){return re(function Id(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(ei().grecaptcha):new Promise((D,x)=>{const V=ei().setTimeout(()=>{x(Re(m,"network-request-failed"))},Sd.get());ei()[Zs]=()=>{ei().clearTimeout(V),delete ei()[Zs];const Ne=ei().grecaptcha;if(!Ne)return void x(Re(m,"internal-error"));const dt=Ne.render;Ne.render=(Tt,qt)=>{const Jn=dt(Tt,qt);return this.counter++,Jn},this.hostLanguage=_,D(Ne)},ic(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:Zs,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(V),x(Re(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!ei().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rg{load(m){return(0,s.Z)(function*(){return new Ws(m)})()}clearedOneInstance(){}}const cu="recaptcha",Md={theme:"light",type:"image"};class Ad{constructor(m,_=Object.assign({},Md),D){this.parameters=_,this.type=cu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tn(D),this.isInvisible="invisible"===this.parameters.size,re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof m?document.getElementById(m):m;re(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rg:new Kn,this.validateStartingState()}verify(){var m=this;return(0,s.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),D=m.getAssertedRecaptcha();return D.getResponse(_)||new Promise(V=>{const te=Ne=>{!Ne||(m.tokenChangeListeners.delete(te),V(Ne))};m.tokenChangeListeners.add(te),m.isInvisible&&D.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(D=>D(_)),"function"==typeof m)m(_);else if("string"==typeof m){const D=ei()[m];"function"==typeof D&&D(_)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,s.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const D=document.createElement("div");_.appendChild(D),_=D}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,s.Z)(function*(){re(kt()&&!Es(),m.auth,"internal-error"),yield function Yh(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function ml(b){return _l.apply(this,arguments)}(m.auth);re(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oc{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=da._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function bo(b,m,_){return uu.apply(this,arguments)}function uu(){return(uu=(0,s.Z)(function*(b,m,_){const D=Tn(b),x=yield xa(D,m,(0,z.m9)(_));return new oc(x,V=>Ai(D,V))})).apply(this,arguments)}function ti(b,m,_){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,s.Z)(function*(b,m,_){const D=(0,z.m9)(b);yield Lo(!1,D,"phone");const x=yield xa(D.auth,m,(0,z.m9)(_));return new oc(x,V=>Jl(D,V))})).apply(this,arguments)}function Rr(b,m,_){return xi.apply(this,arguments)}function xi(){return(xi=(0,s.Z)(function*(b,m,_){const D=(0,z.m9)(b),x=yield xa(D.auth,m,(0,z.m9)(_));return new oc(x,V=>tr(D,V))})).apply(this,arguments)}function xa(b,m,_){return yr.apply(this,arguments)}function yr(){return(yr=(0,s.Z)(function*(b,m,_){var D;const x=yield _.verify();try{let V;if(re("string"==typeof x,b,"argument-error"),re(_.type===cu,b,"argument-error"),V="string"==typeof m?{phoneNumber:m}:m,"session"in V){const te=V.session;if("phoneNumber"in V)return re("enroll"===te.type,b,"internal-error"),(yield ec(b,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{re("signin"===te.type,b,"internal-error");const Ne=(null===(D=V.multiFactorHint)||void 0===D?void 0:D.uid)||V.multiFactorUid;return re(Ne,b,"missing-multi-factor-info"),(yield vo(b,{mfaPendingCredential:te.credential,mfaEnrollmentId:Ne,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Kp(b,{phoneNumber:V.phoneNumber,recaptchaToken:x});return te}}finally{_._reset()}})).apply(this,arguments)}function Ts(b,m){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,s.Z)(function*(b,m){yield Wc((0,z.m9)(b),m)})).apply(this,arguments)}let zo=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Tn(_)}verifyPhoneNumber(_,D){return xa(this.auth,_,(0,z.m9)(D))}static credential(_,D){return da._fromVerification(_,D)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:D,temporaryProof:x}=_;return D&&x?da._fromTokenResponse(D,x):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Wi(b,m){return m?he(m):(re(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Ys extends Gi{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return ho(m,this._buildIdpRequest())}_linkToIdToken(m,_){return ho(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return ho(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function du(b){return ma(b.auth,new Ys(b),b.bypassAuthState)}function yl(b){const{auth:m,user:_}=b;return re(_,m,"internal-error"),Mn(_,new Ys(b),b.bypassAuthState)}function xd(b){return hu.apply(this,arguments)}function hu(){return(hu=(0,s.Z)(function*(b){const{auth:m,user:_}=b;return re(_,m,"internal-error"),Wc(_,new Ys(b),b.bypassAuthState)})).apply(this,arguments)}class ac{constructor(m,_,D,x,V=!1){this.auth=m,this.resolver=D,this.user=x,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,s.Z)(function*(D,x){m.pendingPromise={resolve:D,reject:x};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(V){m.reject(V)}});return function(D,x){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,s.Z)(function*(){const{urlResponse:D,sessionId:x,postBody:V,tenantId:te,error:Ne,type:dt}=m;if(Ne)return void _.reject(Ne);const Tt={auth:_.auth,requestUri:D,sessionId:x,tenantId:te||void 0,postBody:V||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(dt)(Tt))}catch(qt){_.reject(qt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return du;case"linkViaPopup":case"linkViaRedirect":return xd;case"reauthViaPopup":case"reauthViaRedirect":return yl;default:qe(this.auth,"internal-error")}}resolve(m){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rs=new bt(2e3,1e4);function Kh(b,m,_){return ka.apply(this,arguments)}function ka(){return(ka=(0,s.Z)(function*(b,m,_){const D=Tn(b);Ee(b,m,Ls);const x=Wi(D,_);return new fu(D,"signInViaPopup",m,x).executeNotNull()})).apply(this,arguments)}function q_(b,m,_){return lc.apply(this,arguments)}function lc(){return(lc=(0,s.Z)(function*(b,m,_){const D=(0,z.m9)(b);Ee(D.auth,m,Ls);const x=Wi(D.auth,_);return new fu(D.auth,"reauthViaPopup",m,x,D).executeNotNull()})).apply(this,arguments)}function qo(b,m,_){return cc.apply(this,arguments)}function cc(){return(cc=(0,s.Z)(function*(b,m,_){const D=(0,z.m9)(b);Ee(D.auth,m,Ls);const x=Wi(D.auth,_);return new fu(D.auth,"linkViaPopup",m,x,D).executeNotNull()})).apply(this,arguments)}let fu=(()=>{class b extends ac{constructor(_,D,x,V,te){super(_,D,V,te),this.provider=x,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const D=yield _.execute();return re(D,_.auth,"internal-error"),D})()}onExecution(){var _=this;return(0,s.Z)(function*(){Q(1===_.filter.length,"Popup operations only handle one event");const D=$s();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],D),_.authWindow.associatedEvent=D,_.resolver._originValidation(_.auth).catch(x=>{_.reject(x)}),_.resolver._isIframeWebStorageSupported(_.auth,x=>{x||_.reject(Re(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var D,x;this.pollId=(null===(x=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,rs.get())};_()}}return b.currentPopupAction=null,b})();const vr=new Map;class Oa extends ac{constructor(m,_,D=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,D),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,s.Z)(function*(){let D=vr.get(_.auth._key());if(!D){try{const V=(yield function Fr(b,m){return wo.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;D=()=>Promise.resolve(V)}catch(x){D=()=>Promise.reject(x)}vr.set(_.auth._key(),D)}return _.bypassAuthState||vr.set(_.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,D=this;return(0,s.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(D,m);if("unknown"!==m.type){if(m.eventId){const x=yield D.auth._redirectUserForId(m.eventId);if(x)return D.user=x,_().call(D,m);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function wo(){return(wo=(0,s.Z)(function*(b,m){const _=kd(m),D=vl(b);if(!(yield D._isAvailable()))return!1;const x="true"===(yield D._get(_));return yield D._remove(_),x})).apply(this,arguments)}function Qh(b,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,s.Z)(function*(b,m){return vl(b)._set(kd(m),"true")})).apply(this,arguments)}function Na(){vr.clear()}function vl(b){return he(b._redirectPersistence)}function kd(b){return J("pendingRedirect",b.config.apiKey,b.name)}function T(b,m,_){return function S(b,m,_){return O.apply(this,arguments)}(b,m,_)}function O(){return(O=(0,s.Z)(function*(b,m,_){const D=Tn(b);Ee(b,m,Ls);const x=Wi(D,_);return yield Qh(x,D),x._openRedirect(D,m,"signInViaRedirect")})).apply(this,arguments)}function $(b,m,_){return function X(b,m,_){return le.apply(this,arguments)}(b,m,_)}function le(){return(le=(0,s.Z)(function*(b,m,_){const D=(0,z.m9)(b);Ee(D.auth,m,Ls);const x=Wi(D.auth,_);yield Qh(x,D.auth);const V=yield Di(D);return x._openRedirect(D.auth,m,"reauthViaRedirect",V)})).apply(this,arguments)}function Le(b,m,_){return function We(b,m,_){return xt.apply(this,arguments)}(b,m,_)}function xt(){return(xt=(0,s.Z)(function*(b,m,_){const D=(0,z.m9)(b);Ee(D.auth,m,Ls);const x=Wi(D.auth,_);yield Lo(!1,D,m.providerId),yield Qh(x,D.auth);const V=yield Di(D);return x._openRedirect(D.auth,m,"linkViaRedirect",V)})).apply(this,arguments)}function Ft(b,m){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(b,m){return yield Tn(b)._initializationPromise,Mt(b,m,!1)})).apply(this,arguments)}function Mt(b,m){return ki.apply(this,arguments)}function ki(){return(ki=(0,s.Z)(function*(b,m,_=!1){const D=Tn(b),x=Wi(D,m),te=yield new Oa(D,x,_).execute();return te&&!_&&(delete te.user._redirectEventId,yield D._persistUserIfCurrent(te.user),yield D._setRedirectUser(null,m)),te})).apply(this,arguments)}function Di(b){return Co.apply(this,arguments)}function Co(){return(Co=(0,s.Z)(function*(b){const m=$s(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class br{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(m,D)&&(_=!0,this.sendToConsumer(m,D),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Od(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zi(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var D;if(m.error&&!Zi(m)){const x=(null===(D=m.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";_.onError(Re(this.auth,x))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const D=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&D}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rr(m))}saveEventToCache(m){this.cachedEventUids.add(rr(m)),this.lastProcessedEventTime=Date.now()}}function rr(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function Zi({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function pu(b){return uc.apply(this,arguments)}function uc(){return(uc=(0,s.Z)(function*(b,m={}){return un(b,"GET","/v1/projects",m)})).apply(this,arguments)}const dc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xh=/^https?/;function Rd(){return(Rd=(0,s.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield pu(b);for(const _ of m)try{if(Ra(_))return}catch(D){}qe(b,"unauthorized-domain")})).apply(this,arguments)}function Ra(b){const m=ce(),{protocol:_,hostname:D}=new URL(m);if(b.startsWith("chrome-extension://")){const te=new URL(b);return""===te.hostname&&""===D?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&te.hostname===D}if(!Xh.test(_))return!1;if(dc.test(b))return D===b;const x=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(D)}const gu=new bt(3e4,6e4);function ef(){const b=ei().___jsl;if(null==b?void 0:b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let hc=null;function tf(b){return hc=hc||function W_(b){return new Promise((m,_)=>{var D,x,V;function te(){ef(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{ef(),_(Re(b,"network-request-failed"))},timeout:gu.get()})}if(null===(x=null===(D=ei().gapi)||void 0===D?void 0:D.iframes)||void 0===x?void 0:x.Iframe)m(gapi.iframes.getContext());else{if(!(null===(V=ei().gapi)||void 0===V?void 0:V.load)){const Ne=$o("iframefcb");return ei()[Ne]=()=>{gapi.load?te():_(Re(b,"network-request-failed"))},ic(`https://apis.google.com/js/api.js?onload=${Ne}`).catch(dt=>_(dt))}te()}}).catch(m=>{throw hc=null,m})}(b),hc}const fc=new bt(5e3,15e3),Y_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wo(b){const m=b.config;re(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?En(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,D={apiKey:m.apiKey,appName:b.name,v:R.SDK_VERSION},x=Pa.get(b.config.apiHost);x&&(D.eid=x);const V=b._getFrameworks();return V.length&&(D.fw=V.join(",")),`${_}?${(0,z.xO)(D).slice(1)}`}function sg(){return sg=(0,s.Z)(function*(b){const m=yield tf(b),_=ei().gapi;return re(_,b,"internal-error"),m.open({where:document.body,url:Wo(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y_,dontclear:!0},D=>new Promise(function(){var x=(0,s.Z)(function*(V,te){yield D.restyle({setHideOnLeave:!1});const Ne=Re(b,"network-request-failed"),dt=ei().setTimeout(()=>{te(Ne)},fc.get());function Tt(){ei().clearTimeout(dt),V(D)}D.ping(Tt).then(Tt,()=>{te(Ne)})});return function(V,te){return x.apply(this,arguments)}}()))}),sg.apply(this,arguments)}const P0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lf{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function mu(b,m,_,D,x,V){re(b.config.authDomain,b,"auth-domain-config-required"),re(b.config.apiKey,b,"invalid-api-key");const te={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:D,v:R.SDK_VERSION,eventId:x};if(m instanceof Ls){m.setDefaultLanguage(b.languageCode),te.providerId=m.providerId||"",(0,z.xb)(m.getCustomParameters())||(te.customParameters=JSON.stringify(m.getCustomParameters()));for(const[dt,Tt]of Object.entries(V||{}))te[dt]=Tt}if(m instanceof tl){const dt=m.getScopes().filter(Tt=>""!==Tt);dt.length>0&&(te.scopes=dt.join(","))}b.tenantId&&(te.tid=b.tenantId);const Ne=te;for(const dt of Object.keys(Ne))void 0===Ne[dt]&&delete Ne[dt];return`${function J_({config:b}){return b.emulator?En(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,z.xO)(Ne).slice(1)}`}const og="webStorageSupport",wl=class Do{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ta,this._completeRedirectFn=Mt}_openPopup(m,_,D,x){var V=this;return(0,s.Z)(function*(){var te;Q(null===(te=V.eventManagers[m._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Ne=mu(m,_,D,ce(),x);return function cf(b,m,_,D=500,x=600){const V=Math.max((window.screen.availHeight-x)/2,0).toString(),te=Math.max((window.screen.availWidth-D)/2,0).toString();let Ne="";const dt=Object.assign(Object.assign({},P0),{width:D.toString(),height:x.toString(),top:V,left:te}),Tt=(0,z.z$)().toLowerCase();_&&(Ne=ue(Tt)?"_blank":_),j(Tt)&&(m=m||"http://localhost",dt.scrollbars="yes");const qt=Object.entries(dt).reduce((Eo,[Cl,_u])=>`${Eo}${Cl}=${_u},`,"");if(function ui(b=(0,z.z$)()){var m;return Pt(b)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Tt)&&"_self"!==Ne)return function Lr(b,m){const _=document.createElement("a");_.href=b,_.target=m;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(D)}(m||"",Ne),new lf(null);const Jn=window.open(m||"",Ne,qt);re(Jn,b,"popup-blocked");try{Jn.focus()}catch(Eo){}return new lf(Jn)}(m,Ne,$s())})()}_openRedirect(m,_,D,x){var V=this;return(0,s.Z)(function*(){return yield V._originValidation(m),function pi(b){ei().location.href=b}(mu(m,_,D,ce(),x)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:x,promise:V}=this.eventManagers[_];return x?Promise.resolve(x):(Q(V,"If manager is not set, promise should be"),V)}const D=this.initAndGetManager(m);return this.eventManagers[_]={promise:D},D.catch(()=>{delete this.eventManagers[_]}),D}initAndGetManager(m){var _=this;return(0,s.Z)(function*(){const D=yield function bl(b){return sg.apply(this,arguments)}(m),x=new br(m);return D.register("authEvent",V=>(re(null==V?void 0:V.authEvent,m,"invalid-auth-event"),{status:x.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:x},_.iframes[m._key()]=D,x})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(og,{type:og},x=>{var V;const te=null===(V=null==x?void 0:x[0])||void 0===V?void 0:V[og];void 0!==te&&_(!!te),qe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Nd(b){return Rd.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return ji()||G()||Pt()}};class df extends class uf{constructor(m){this.factorId=m}_process(m,_,D){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,D);case"signin":return this._finalizeSignIn(m,_.credential);default:return tt("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new df(m)}_finalizeEnroll(m,_,D){return function si(b,m){return un(b,"POST","/v2/accounts/mfaEnrollment:finalize",an(b,m))}(m,{idToken:_,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Ed(b,m){return un(b,"POST","/v2/accounts/mfaSignIn:finalize",an(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ag=(()=>{class b{constructor(){}static assertion(_){return df._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Fd="@firebase/auth",lg="0.19.10";class hf{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(D=>{var x;m((null===(x=D)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Q_(b=(0,R.getApp)()){const m=(0,R._getProvider)(b,"auth");return m.isInitialized()?m.getImmediate():function _e(b,m){const _=(0,R._getProvider)(b,"auth");if(_.isInitialized()){const x=_.getImmediate(),V=_.getOptions();if((0,z.vZ)(V,null!=m?m:{}))return x;qe(x,"already-initialized")}return _.initialize({options:m})}(b,{popupRedirectResolver:wl,persistence:[gl,jn,Ta]})}!function Ld(b){(0,R._registerComponent)(new be.wA("auth",(m,{options:_})=>{const D=m.getProvider("app").getImmediate(),x=m.getProvider("heartbeat"),{apiKey:V,authDomain:te}=D.options;return((Ne,dt)=>{re(V&&!V.includes(":"),"invalid-api-key",{appName:Ne.name}),re(!(null==te?void 0:te.includes(":")),"argument-error",{appName:Ne.name});const Tt={apiKey:V,authDomain:te,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ii(b)},qt=new zl(Ne,dt,Tt);return function Ve(b,m){const _=(null==m?void 0:m.persistence)||[],D=(Array.isArray(_)?_:[_]).map(he);(null==m?void 0:m.errorMap)&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(D,null==m?void 0:m.popupRedirectResolver)}(qt,_),qt})(D,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,D)=>{m.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new be.wA("auth-internal",m=>{const _=Tn(m.getProvider("auth").getImmediate());return new hf(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Fd,lg,function cg(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,R.registerVersion)(Fd,lg,"esm2017")}("Browser")},2090:(gt,Ae,F)=>{F.d(Ae,{BH:()=>Pe,LL:()=>kt,ZR:()=>ce,zI:()=>he,US:()=>ne,tV:()=>Y,L:()=>ye,$s:()=>bs,r3:()=>un,Sg:()=>Be,ne:()=>_t,vZ:()=>Ii,ZB:()=>ie,Lj:()=>Ut,pd:()=>Mi,m9:()=>Ct,z$:()=>He,jU:()=>rt,ru:()=>qe,d:()=>Oe,xb:()=>wi,w1:()=>Ee,hl:()=>Q,uI:()=>ve,UG:()=>Te,b$:()=>Re,G6:()=>tt,Mn:()=>Xe,X3:()=>vt,xO:()=>Mr,zd:()=>Ci,eu:()=>fe});var s=F(5861);const se=function(K){const H=[];let J=0;for(let pe=0;pe<K.length;pe++){let L=K.charCodeAt(pe);L<128?H[J++]=L:L<2048?(H[J++]=L>>6|192,H[J++]=63&L|128):55296==(64512&L)&&pe+1<K.length&&56320==(64512&K.charCodeAt(pe+1))?(L=65536+((1023&L)<<10)+(1023&K.charCodeAt(++pe)),H[J++]=L>>18|240,H[J++]=L>>12&63|128,H[J++]=L>>6&63|128,H[J++]=63&L|128):(H[J++]=L>>12|224,H[J++]=L>>6&63|128,H[J++]=63&L|128)}return H},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,H){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let L=0;L<K.length;L+=3){const j=K[L],G=L+1<K.length,ue=G?K[L+1]:0,Ge=L+2<K.length,Qe=Ge?K[L+2]:0;let Pt=(15&ue)<<2|Qe>>6,Rn=63&Qe;Ge||(Rn=64,G||(Pt=64)),pe.push(J[j>>2],J[(3&j)<<4|ue>>4],J[Pt],J[Rn])}return pe.join("")},encodeString(K,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(K):this.encodeByteArray(se(K),H)},decodeString(K,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(K):function(K){const H=[];let J=0,pe=0;for(;J<K.length;){const L=K[J++];if(L<128)H[pe++]=String.fromCharCode(L);else if(L>191&&L<224){const j=K[J++];H[pe++]=String.fromCharCode((31&L)<<6|63&j)}else if(L>239&&L<365){const Ge=((7&L)<<18|(63&K[J++])<<12|(63&K[J++])<<6|63&K[J++])-65536;H[pe++]=String.fromCharCode(55296+(Ge>>10)),H[pe++]=String.fromCharCode(56320+(1023&Ge))}else{const j=K[J++],G=K[J++];H[pe++]=String.fromCharCode((15&L)<<12|(63&j)<<6|63&G)}}return H.join("")}(this.decodeStringToByteArray(K,H))},decodeStringToByteArray(K,H){this.init_();const J=H?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let L=0;L<K.length;){const j=J[K.charAt(L++)],ue=L<K.length?J[K.charAt(L)]:0;++L;const Qe=L<K.length?J[K.charAt(L)]:64;++L;const at=L<K.length?J[K.charAt(L)]:64;if(++L,null==j||null==ue||null==Qe||null==at)throw Error();pe.push(j<<2|ue>>4),64!==Qe&&(pe.push(ue<<4&240|Qe>>2),64!==at&&pe.push(Qe<<6&192|at))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},ye=function(K){return function(K){const H=se(K);return ne.encodeByteArray(H,!0)}(K).replace(/\./g,"")},Y=function(K){try{return ne.decodeString(K,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function ie(K,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return H}for(const J in H)!H.hasOwnProperty(J)||!Je(J)||(K[J]=ie(K[J],H[J]));return K}function Je(K){return"__proto__"!==K}class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,J)=>{this.resolve=H,this.reject=J})}wrapCallback(H){return(J,pe)=>{J?this.reject(J):this.resolve(pe),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(J):H(J,pe))}}}function Be(K,H){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=H||"demo-project",L=K.iat||0,j=K.sub||K.user_id;if(!j)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const G=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:L,exp:L+3600,auth_time:L,sub:j,user_id:j,firebase:{sign_in_provider:"custom",identities:{}}},K);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(G)),""].join(".")}function He(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function Te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function rt(){return"object"==typeof self&&self.self===self}function qe(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){return He().indexOf("Electron/")>=0}function Ee(){const K=He();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Xe(){return He().indexOf("MSAppHost/")>=0}function tt(){return!Te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){return"object"==typeof indexedDB}function fe(){return new Promise((K,H)=>{try{let J=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(pe);L.onsuccess=()=>{L.result.close(),J||self.indexedDB.deleteDatabase(pe),K(!0)},L.onupgradeneeded=()=>{J=!1},L.onerror=()=>{var j;H((null===(j=L.error)||void 0===j?void 0:j.message)||"")}}catch(J){H(J)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ce extends Error{constructor(H,J,pe){super(J),this.code=H,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kt.prototype.create)}}class kt{constructor(H,J,pe){this.service=H,this.serviceName=J,this.errors=pe}create(H,...J){const pe=J[0]||{},L=`${this.service}/${H}`,j=this.errors[H],G=j?function cn(K,H){return K.replace(Gn,(J,pe)=>{const L=H[pe];return null!=L?String(L):`<${pe}?>`})}(j,pe):"Error";return new ce(L,`${this.serviceName}: ${G} (${L}).`,pe)}}const Gn=/\{\$([^}]+)}/g;function un(K,H){return Object.prototype.hasOwnProperty.call(K,H)}function wi(K){for(const H in K)if(Object.prototype.hasOwnProperty.call(K,H))return!1;return!0}function Ii(K,H){if(K===H)return!0;const J=Object.keys(K),pe=Object.keys(H);for(const L of J){if(!pe.includes(L))return!1;const j=K[L],G=H[L];if(ys(j)&&ys(G)){if(!Ii(j,G))return!1}else if(j!==G)return!1}for(const L of pe)if(!J.includes(L))return!1;return!0}function ys(K){return null!==K&&"object"==typeof K}function Mr(K){const H=[];for(const[J,pe]of Object.entries(K))Array.isArray(pe)?pe.forEach(L=>{H.push(encodeURIComponent(J)+"="+encodeURIComponent(L))}):H.push(encodeURIComponent(J)+"="+encodeURIComponent(pe));return H.length?"&"+H.join("&"):""}function Ci(K){const H={};return K.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[L,j]=pe.split("=");H[decodeURIComponent(L)]=decodeURIComponent(j)}}),H}function Mi(K){const H=K.indexOf("?");if(!H)return"";const J=K.indexOf("#",H);return K.substring(H,J>0?J:void 0)}function _t(K,H){const J=new Ui(K,H);return J.subscribe.bind(J)}class Ui{constructor(H,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{H(this)}).catch(pe=>{this.error(pe)})}next(H){this.forEachObserver(J=>{J.next(H)})}error(H){this.forEachObserver(J=>{J.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,J,pe){let L;if(void 0===H&&void 0===J&&void 0===pe)throw new Error("Missing Observer.");L=function fn(K,H){if("object"!=typeof K||null===K)return!1;for(const J of H)if(J in K&&"function"==typeof K[J])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:J,complete:pe},void 0===L.next&&(L.next=Xn),void 0===L.error&&(L.error=Xn),void 0===L.complete&&(L.complete=Xn);const j=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch(G){}}),this.observers.push(L),j}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,H)}sendOne(H,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{J(this.observers[H])}catch(pe){"undefined"!=typeof console&&console.error&&console.error(pe)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}function bs(K,H=1e3,J=2){const pe=H*Math.pow(J,K),L=Math.round(.5*pe*(Math.random()-.5)*2);return Math.min(144e5,pe+L)}function Ct(K){return K&&K._delegate?K._delegate:K}function Wn(K,H){return new Promise((J,pe)=>{K.onsuccess=L=>{J(L.target.result)},K.onerror=L=>{var j;pe(`${H}: ${null===(j=L.target.error)||void 0===j?void 0:j.message}`)}})}class Qt{constructor(H){this._db=H,this.objectStoreNames=this._db.objectStoreNames}transaction(H,J){return new Ke(this._db.transaction.call(this._db,H,J))}createObjectStore(H,J){return new Ie(this._db.createObjectStore(H,J))}close(){this._db.close()}}class Ke{constructor(H){this._transaction=H,this.complete=new Promise((J,pe)=>{this._transaction.oncomplete=function(){J()},this._transaction.onerror=()=>{pe(this._transaction.error)},this._transaction.onabort=()=>{pe(this._transaction.error)}})}objectStore(H){return new Ie(this._transaction.objectStore(H))}}class Ie{constructor(H){this._store=H}index(H){return new st(this._store.index(H))}createIndex(H,J,pe){return new st(this._store.createIndex(H,J,pe))}get(H){return Wn(this._store.get(H),"Error reading from IndexedDB")}put(H,J){return Wn(this._store.put(H,J),"Error writing to IndexedDB")}delete(H){return Wn(this._store.delete(H),"Error deleting from IndexedDB")}clear(){return Wn(this._store.clear(),"Error clearing IndexedDB object store")}}class st{constructor(H){this._index=H}get(H){return Wn(this._index.get(H),"Error reading from IndexedDB")}}function vt(K,H,J){return new Promise((pe,L)=>{try{const j=indexedDB.open(K,H);j.onsuccess=G=>{pe(new Qt(G.target.result))},j.onerror=G=>{var ue;L(`Error opening indexedDB: ${null===(ue=G.target.error)||void 0===ue?void 0:ue.message}`)},j.onupgradeneeded=G=>{J(new Qt(j.result),G.oldVersion,G.newVersion,new Ke(j.transaction))}}catch(j){L(`Error opening indexedDB: ${j.message}`)}})}function Ut(K){return jt.apply(this,arguments)}function jt(){return(jt=(0,s.Z)(function*(K){return new Promise((H,J)=>{try{const pe=indexedDB.deleteDatabase(K);pe.onsuccess=()=>{H()},pe.onerror=L=>{var j;J(`Error deleting indexedDB database "${K}": ${null===(j=L.target.error)||void 0===j?void 0:j.message}`)}}catch(pe){J(`Error deleting indexedDB database "${K}": ${pe.message}`)}})})).apply(this,arguments)}},5867:(gt,Ae,F)=>{F.d(Ae,{Mq:()=>s.getApp,C6:()=>s.getApps,ZF:()=>s.initializeApp,KN:()=>s.registerVersion});var s=F(9681);(0,s.registerVersion)("firebase","9.6.9","app")},127:(gt,Ae,F)=>{F.d(Ae,{Z:()=>s.Z});var s=F(3942);s.Z.registerVersion("firebase","9.6.9","app-compat")},5881:(gt,Ae,F)=>{F.r(Ae);var s=F(5861),z=F(3942),R=F(760),ae=F(2090),ne=(F(9681),F(1877),F(4859));function de(){return window}function Z(){return(Z=(0,s.Z)(function*(L,j,G){var ue;const{BuildInfo:Ge}=de();(0,R.ap)(j.sessionId,"AuthEvent did not contain a session ID");const Qe=yield Te(j.sessionId),At={};return(0,R.aq)()?At.ibi=Ge.packageName:(0,R.ar)()?At.apn=Ge.packageName:(0,R.as)(L,"operation-not-supported-in-this-environment"),Ge.displayName&&(At.appDisplayName=Ge.displayName),At.sessionId=Qe,(0,R.at)(L,G,j.type,void 0,null!==(ue=j.eventId)&&void 0!==ue?ue:void 0,At)})).apply(this,arguments)}function Je(){return(Je=(0,s.Z)(function*(L){const{BuildInfo:j}=de(),G={};(0,R.aq)()?G.iosBundleId=j.packageName:(0,R.ar)()?G.androidPackageName=j.packageName:(0,R.as)(L,"operation-not-supported-in-this-environment"),yield(0,R.au)(L,G)})).apply(this,arguments)}function He(){return(He=(0,s.Z)(function*(L,j,G){const{cordova:ue}=de();let Ge=()=>{};try{yield new Promise((Qe,At)=>{let at=null;function Pt(){var en;Qe();const ji=null===(en=ue.plugins.browsertab)||void 0===en?void 0:en.close;"function"==typeof ji&&ji(),"function"==typeof(null==G?void 0:G.close)&&G.close()}function Rn(){at||(at=window.setTimeout(()=>{At((0,R.av)(L,"redirect-cancelled-by-user"))},2e3))}function ui(){"visible"===(null==document?void 0:document.visibilityState)&&Rn()}j.addPassiveListener(Pt),document.addEventListener("resume",Rn,!1),(0,R.ar)()&&document.addEventListener("visibilitychange",ui,!1),Ge=()=>{j.removePassiveListener(Pt),document.removeEventListener("resume",Rn,!1),document.removeEventListener("visibilitychange",ui,!1),at&&window.clearTimeout(at)}})}finally{Ge()}})).apply(this,arguments)}function Te(L){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(function*(L){const j=qe(L),G=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(G)).map(Ge=>Ge.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qe(L){if((0,R.ap)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(L);const j=new ArrayBuffer(L.length),G=new Uint8Array(j);for(let ue=0;ue<L.length;ue++)G[ue]=L.charCodeAt(ue);return G}class Oe extends R.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(G=>G(j)),super.onEvent(j)}initialized(){var j=this;return(0,s.Z)(function*(){yield j.initPromise})()}}function re(L){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(L){const j=yield he()._get(_e(L));return j&&(yield he()._remove(_e(L))),j})).apply(this,arguments)}function fe(){const L=[],j="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let G=0;G<20;G++){const ue=Math.floor(Math.random()*j.length);L.push(j.charAt(ue))}return L.join("")}function he(){return(0,R.ax)(R.b)}function _e(L){return(0,R.ay)("authEvent",L.config.apiKey,L.name)}function kt(L){if(!(null==L?void 0:L.includes("?")))return{};const[j,...G]=L.split("?");return(0,ae.zd)(G.join("?"))}function bt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.av)("no-auth-event")}}function an(){var L;return(null===(L=null==self?void 0:self.location)||void 0===L?void 0:L.protocol)||null}function Bn(L=(0,ae.z$)()){return!("file:"!==an()&&"ionic:"!==an()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mr(){try{const L=self.localStorage,j=R.aG();if(L)return L.setItem(j,"1"),L.removeItem(j),!function ys(L=(0,ae.z$)()){return function Bi(){return(0,ae.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ii(L=(0,ae.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,ae.hl)()}catch(L){return Ci()&&(0,ae.hl)()}return!1}function Ci(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mi(){return(function un(){return"http:"===an()||"https:"===an()}()||(0,ae.ru)()||Bn())&&!function wi(){return(0,ae.b$)()||(0,ae.UG)()}()&&Mr()&&!Ci()}function Ns(){return Bn()&&"undefined"!=typeof document}function Ui(){return(Ui=(0,s.Z)(function*(){return!!Ns()&&new Promise(L=>{const j=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),L(!0)})})})).apply(this,arguments)}const fn={LOCAL:"local",NONE:"none",SESSION:"session"},Xn=R.aw,Ar="persistence";function Un(L){return er.apply(this,arguments)}function er(){return(er=(0,s.Z)(function*(L){yield L._initializationPromise;const j=Yt(),G=R.ay(Ar,L.config.apiKey,L.name);j&&j.setItem(G,L._getPersistence())})).apply(this,arguments)}function Yt(){var L;try{return(null===(L=function $n(){return"undefined"!=typeof window?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch(j){return null}}const yt=R.aw;class ct{constructor(){this.browserResolver=R.ax(R.k),this.cordovaResolver=R.ax(class Gn{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aA}_initialize(j){var G=this;return(0,s.Z)(function*(){const ue=j._key();let Ge=G.eventManagers.get(ue);return Ge||(Ge=new Oe(j),G.eventManagers.set(ue,Ge),G.attachCallbackListeners(j,Ge)),Ge})()}_openPopup(j){(0,R.as)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,G,ue,Ge){var Qe=this;return(0,s.Z)(function*(){!function ve(L){var j,G,ue,Ge,Qe,At,at,Pt,Rn,ui;const en=de();(0,R.aw)("function"==typeof(null===(j=null==en?void 0:en.universalLinks)||void 0===j?void 0:j.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.aw)(void 0!==(null===(G=null==en?void 0:en.BuildInfo)||void 0===G?void 0:G.packageName),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.aw)("function"==typeof(null===(Qe=null===(Ge=null===(ue=null==en?void 0:en.cordova)||void 0===ue?void 0:ue.plugins)||void 0===Ge?void 0:Ge.browsertab)||void 0===Qe?void 0:Qe.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aw)("function"==typeof(null===(Pt=null===(at=null===(At=null==en?void 0:en.cordova)||void 0===At?void 0:At.plugins)||void 0===at?void 0:at.browsertab)||void 0===Pt?void 0:Pt.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aw)("function"==typeof(null===(ui=null===(Rn=null==en?void 0:en.cordova)||void 0===Rn?void 0:Rn.InAppBrowser)||void 0===ui?void 0:ui.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const At=yield Qe._initialize(j);yield At.initialized(),At.resetRedirect(),(0,R.aB)(),yield Qe._originValidation(j);const at=function Ee(L,j,G=null){return{type:j,eventId:G,urlResponse:null,sessionId:fe(),postBody:null,tenantId:L.tenantId,error:(0,R.av)(L,"no-auth-event")}}(j,ue,Ge);yield function Xe(L,j){return he()._set(_e(L),j)}(j,at);const Pt=yield function Y(L,j,G){return Z.apply(this,arguments)}(j,at,G),Rn=yield function Pe(L){const{cordova:j}=de();return new Promise(G=>{j.plugins.browsertab.isAvailable(ue=>{let Ge=null;ue?j.plugins.browsertab.openUrl(L):Ge=j.InAppBrowser.open(L,(0,R.ao)()?"_blank":"_system","location=yes"),G(Ge)})})}(Pt);return function Be(L,j,G){return He.apply(this,arguments)}(j,At,Rn)})()}_isIframeWebStorageSupported(j,G){throw new Error("Method not implemented.")}_originValidation(j){const G=j._key();return this.originValidationPromises[G]||(this.originValidationPromises[G]=function ie(L){return Je.apply(this,arguments)}(j)),this.originValidationPromises[G]}attachCallbackListeners(j,G){const{universalLinks:ue,handleOpenURL:Ge,BuildInfo:Qe}=de(),At=setTimeout((0,s.Z)(function*(){yield re(j),G.onEvent(bt())}),500),at=function(){var ui=(0,s.Z)(function*(en){clearTimeout(At);const ji=yield re(j);let Jr=null;ji&&(null==en?void 0:en.url)&&(Jr=function Q(L,j){var G,ue;const Ge=function ce(L){const j=kt(L),G=j.link?decodeURIComponent(j.link):void 0,ue=kt(G).link,Ge=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return kt(Ge).link||Ge||ue||G||L}(j);if(Ge.includes("/__/auth/callback")){const Qe=kt(Ge),At=Qe.firebaseError?function Ve(L){try{return JSON.parse(L)}catch(j){return null}}(decodeURIComponent(Qe.firebaseError)):null,at=null===(ue=null===(G=null==At?void 0:At.code)||void 0===G?void 0:G.split("auth/"))||void 0===ue?void 0:ue[1],Pt=at?(0,R.av)(at):null;return Pt?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:Pt,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:Ge,postBody:null}}return null}(ji,en.url)),G.onEvent(Jr||bt())});return function(ji){return ui.apply(this,arguments)}}();void 0!==ue&&"function"==typeof ue.subscribe&&ue.subscribe(null,at);const Pt=Ge,Rn=`${Qe.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var ui=(0,s.Z)(function*(en){if(en.toLowerCase().startsWith(Rn)&&at({url:en}),"function"==typeof Pt)try{Pt(en)}catch(ji){console.error(ji)}});return function(en){return ui.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aA}_initialize(j){var G=this;return(0,s.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,G,ue,Ge){var Qe=this;return(0,s.Z)(function*(){return yield Qe.selectUnderlyingResolver(),Qe.assertedUnderlyingResolver._openPopup(j,G,ue,Ge)})()}_openRedirect(j,G,ue,Ge){var Qe=this;return(0,s.Z)(function*(){return yield Qe.selectUnderlyingResolver(),Qe.assertedUnderlyingResolver._openRedirect(j,G,ue,Ge)})()}_isIframeWebStorageSupported(j,G){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,G)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return Ns()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,s.Z)(function*(){if(j.underlyingResolver)return;const G=yield function _t(){return Ui.apply(this,arguments)}();j.underlyingResolver=G?j.cordovaResolver:j.browserResolver})()}}function gr(L){return L.unwrap()}function Jt(L){return qn(L)}function qn(L){const{_tokenResponse:j}=L instanceof ae.ZR?L.customData:L;if(!j)return null;if(!(L instanceof ae.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return R.P.credentialFromResult(L);const G=j.providerId;if(!G||G===R.o.PASSWORD)return null;let ue;switch(G){case R.o.GOOGLE:ue=R.N;break;case R.o.FACEBOOK:ue=R.M;break;case R.o.GITHUB:ue=R.Q;break;case R.o.TWITTER:ue=R.V;break;default:const{oauthIdToken:Ge,oauthAccessToken:Qe,oauthTokenSecret:At,pendingToken:at,nonce:Pt}=j;return Qe||At||Ge||at?at?G.startsWith("saml.")?R.aJ._create(G,at):R.I._fromParams({providerId:G,signInMethod:G,pendingToken:at,idToken:Ge,accessToken:Qe}):new R.T(G).credential({idToken:Ge,accessToken:Qe,rawNonce:Pt}):null}return L instanceof ae.ZR?ue.credentialFromError(L):ue.credentialFromResult(L)}function _n(L,j){return j.catch(G=>{throw G instanceof ae.ZR&&function bs(L,j){var G;const ue=null===(G=j.customData)||void 0===G?void 0:G._tokenResponse;if("auth/multi-factor-auth-required"===j.code)j.resolver=new Qt(L,R.am(L,j));else if(ue){const Ge=qn(j),Qe=j;Ge&&(Qe.credential=Ge,Qe.tenantId=ue.tenantId||void 0,Qe.email=ue.email||void 0,Qe.phoneNumber=ue.phoneNumber||void 0)}}(L,G),G}).then(G=>{const Ge=G.user;return{operationType:G.operationType,credential:Jt(G),additionalUserInfo:R.ak(G),user:Ke.getOrCreate(Ge)}})}function Ct(L,j){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(L,j){const G=yield j;return{verificationId:G.verificationId,confirm:ue=>_n(L,G.confirm(ue))}})).apply(this,arguments)}class Qt{constructor(j,G){this.resolver=G,this.auth=function vs(L){return L.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return _n(gr(this.auth),this.resolver.resolveSignIn(j))}}class Ke{constructor(j){this._delegate=j,this.multiFactor=R.an(j)}static getOrCreate(j){return Ke.USER_MAP.has(j)||Ke.USER_MAP.set(j,new Ke(j)),Ke.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var G=this;return(0,s.Z)(function*(){return _n(G.auth,R.Y(G._delegate,j))})()}linkWithPhoneNumber(j,G){var ue=this;return(0,s.Z)(function*(){return Ct(ue.auth,R.l(ue._delegate,j,G))})()}linkWithPopup(j){var G=this;return(0,s.Z)(function*(){return _n(G.auth,R.d(G._delegate,j,ct))})()}linkWithRedirect(j){var G=this;return(0,s.Z)(function*(){return yield Un(R.aC(G.auth)),R.g(G._delegate,j,ct)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var G=this;return(0,s.Z)(function*(){return _n(G.auth,R.Z(G._delegate,j))})()}reauthenticateWithPhoneNumber(j,G){return Ct(this.auth,R.r(this._delegate,j,G))}reauthenticateWithPopup(j){return _n(this.auth,R.e(this._delegate,j,ct))}reauthenticateWithRedirect(j){var G=this;return(0,s.Z)(function*(){return yield Un(R.aC(G.auth)),R.h(G._delegate,j,ct)})()}sendEmailVerification(j){return R.aa(this._delegate,j)}unlink(j){var G=this;return(0,s.Z)(function*(){return yield R.aj(G._delegate,j),G})()}updateEmail(j){return R.af(this._delegate,j)}updatePassword(j){return R.ag(this._delegate,j)}updatePhoneNumber(j){return R.u(this._delegate,j)}updateProfile(j){return R.ae(this._delegate,j)}verifyBeforeUpdateEmail(j,G){return R.ab(this._delegate,j,G)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ke.USER_MAP=new WeakMap;const Ie=R.aw;let st=(()=>{class L{constructor(G,ue){if(this.app=G,ue.isInitialized())return this._delegate=ue.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ge}=G.options;Ie(Ge,"invalid-api-key",{appName:G.name}),Ie(Ge,"invalid-api-key",{appName:G.name});const Qe="undefined"!=typeof window?ct:void 0;this._delegate=ue.initialize({options:{persistence:Ut(Ge,G.name),popupRedirectResolver:Qe}}),this._delegate._updateErrorMap(R.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ke.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(G){this._delegate.languageCode=G}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(G){this._delegate.tenantId=G}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(G,ue){R.E(this._delegate,G,ue)}applyActionCode(G){return R.a1(this._delegate,G)}checkActionCode(G){return R.a2(this._delegate,G)}confirmPasswordReset(G,ue){return R.a0(this._delegate,G,ue)}createUserWithEmailAndPassword(G,ue){var Ge=this;return(0,s.Z)(function*(){return _n(Ge._delegate,R.a4(Ge._delegate,G,ue))})()}fetchProvidersForEmail(G){return this.fetchSignInMethodsForEmail(G)}fetchSignInMethodsForEmail(G){return R.a9(this._delegate,G)}isSignInWithEmailLink(G){return R.a7(this._delegate,G)}getRedirectResult(){var G=this;return(0,s.Z)(function*(){Ie(Mi(),G._delegate,"operation-not-supported-in-this-environment");const ue=yield R.j(G._delegate,ct);return ue?_n(G._delegate,Promise.resolve(ue)):{credential:null,user:null}})()}addFrameworkForLogging(G){!function En(L,j){(0,R.aC)(L)._logFramework(j)}(this._delegate,G)}onAuthStateChanged(G,ue,Ge){const{next:Qe,error:At,complete:at}=vt(G,ue,Ge);return this._delegate.onAuthStateChanged(Qe,At,at)}onIdTokenChanged(G,ue,Ge){const{next:Qe,error:At,complete:at}=vt(G,ue,Ge);return this._delegate.onIdTokenChanged(Qe,At,at)}sendSignInLinkToEmail(G,ue){return R.a6(this._delegate,G,ue)}sendPasswordResetEmail(G,ue){return R.$(this._delegate,G,ue||void 0)}setPersistence(G){var ue=this;return(0,s.Z)(function*(){let Ge;switch(function zn(L,j){Xn(Object.values(fn).includes(j),L,"invalid-persistence-type"),(0,ae.b$)()?Xn(j!==fn.SESSION,L,"unsupported-persistence-type"):(0,ae.UG)()?Xn(j===fn.NONE,L,"unsupported-persistence-type"):Ci()?Xn(j===fn.NONE||j===fn.LOCAL&&(0,ae.hl)(),L,"unsupported-persistence-type"):Xn(j===fn.NONE||Mr(),L,"unsupported-persistence-type")}(ue._delegate,G),G){case fn.SESSION:Ge=R.a;break;case fn.LOCAL:Ge=(yield R.ax(R.i)._isAvailable())?R.i:R.b;break;case fn.NONE:Ge=R.K;break;default:return R.as("argument-error",{appName:ue._delegate.name})}return ue._delegate.setPersistence(Ge)})()}signInAndRetrieveDataWithCredential(G){return this.signInWithCredential(G)}signInAnonymously(){return _n(this._delegate,R.W(this._delegate))}signInWithCredential(G){return _n(this._delegate,R.X(this._delegate,G))}signInWithCustomToken(G){return _n(this._delegate,R._(this._delegate,G))}signInWithEmailAndPassword(G,ue){return _n(this._delegate,R.a5(this._delegate,G,ue))}signInWithEmailLink(G,ue){return _n(this._delegate,R.a8(this._delegate,G,ue))}signInWithPhoneNumber(G,ue){return Ct(this._delegate,R.s(this._delegate,G,ue))}signInWithPopup(G){var ue=this;return(0,s.Z)(function*(){return Ie(Mi(),ue._delegate,"operation-not-supported-in-this-environment"),_n(ue._delegate,R.c(ue._delegate,G,ct))})()}signInWithRedirect(G){var ue=this;return(0,s.Z)(function*(){return Ie(Mi(),ue._delegate,"operation-not-supported-in-this-environment"),yield Un(ue._delegate),R.f(ue._delegate,G,ct)})()}updateCurrentUser(G){return this._delegate.updateCurrentUser(G)}verifyPasswordResetCode(G){return R.a3(this._delegate,G)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=fn,L})();function vt(L,j,G){let ue=L;"function"!=typeof L&&({next:ue,error:j,complete:G}=L);const Ge=ue;return{next:At=>Ge(At&&Ke.getOrCreate(At)),error:j,complete:G}}function Ut(L,j){const G=function No(L,j){const G=Yt();if(!G)return[];const ue=R.ay(Ar,L,j);switch(G.getItem(ue)){case fn.NONE:return[R.K];case fn.LOCAL:return[R.i,R.a];case fn.SESSION:return[R.a];default:return[]}}(L,j);if("undefined"!=typeof self&&!G.includes(R.i)&&G.push(R.i),"undefined"!=typeof window)for(const ue of[R.b,R.a])G.includes(ue)||G.push(ue);return G.includes(R.K)||G.push(R.K),G}class jt{constructor(){this.providerId="phone",this._delegate=new R.P(gr(z.Z.auth()))}static credential(j,G){return R.P.credential(j,G)}verifyPhoneNumber(j,G){return this._delegate.verifyPhoneNumber(j,G)}unwrap(){return this._delegate}}jt.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,jt.PROVIDER_ID=R.P.PROVIDER_ID;const K=R.aw;class H{constructor(j,G,ue=z.Z.app()){var Ge;K(null===(Ge=ue.options)||void 0===Ge?void 0:Ge.apiKey,"invalid-api-key",{appName:ue.name}),this._delegate=new R.R(j,G,ue.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pe(L){L.INTERNAL.registerComponent(new ne.wA("auth-compat",j=>{const G=j.getProvider("app-compat").getImmediate(),ue=j.getProvider("auth");return new st(G,ue)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.L,FacebookAuthProvider:R.M,GithubAuthProvider:R.Q,GoogleAuthProvider:R.N,OAuthProvider:R.T,SAMLAuthProvider:R.U,PhoneAuthProvider:jt,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:H,TwitterAuthProvider:R.V,Auth:st,AuthCredential:R.G,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.2.10")}(z.Z)},8306:(gt,Ae,F)=>{F.d(Ae,{y:()=>Y});var s=F(930),z=F(727),R=F(8822),ae=F(4671);var ne=F(2416),de=F(576),ye=F(2806);let Y=(()=>{class Pe{constructor(He){He&&(this._subscribe=He)}lift(He){const ve=new Pe;return ve.source=this,ve.operator=He,ve}subscribe(He,ve,Te){const rt=function Je(Pe){return Pe&&Pe instanceof s.Lv||function ie(Pe){return Pe&&(0,de.m)(Pe.next)&&(0,de.m)(Pe.error)&&(0,de.m)(Pe.complete)}(Pe)&&(0,z.Nn)(Pe)}(He)?He:new s.Hp(He,ve,Te);return(0,ye.x)(()=>{const{operator:qe,source:Re}=this;rt.add(qe?qe.call(rt,Re):Re?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(He){try{return this._subscribe(He)}catch(ve){He.error(ve)}}forEach(He,ve){return new(ve=Z(ve))((Te,rt)=>{const qe=new s.Hp({next:Re=>{try{He(Re)}catch(Oe){rt(Oe),qe.unsubscribe()}},error:rt,complete:Te});this.subscribe(qe)})}_subscribe(He){var ve;return null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(He)}[R.L](){return this}pipe(...He){return function be(Pe){return 0===Pe.length?ae.y:1===Pe.length?Pe[0]:function(He){return Pe.reduce((ve,Te)=>Te(ve),He)}}(He)(this)}toPromise(He){return new(He=Z(He))((ve,Te)=>{let rt;this.subscribe(qe=>rt=qe,qe=>Te(qe),()=>ve(rt))})}}return Pe.create=Be=>new Pe(Be),Pe})();function Z(Pe){var Be;return null!==(Be=null!=Pe?Pe:ne.v.Promise)&&void 0!==Be?Be:Promise}},7579:(gt,Ae,F)=>{F.d(Ae,{x:()=>ne});var s=F(8306),z=F(727);const ae=(0,F(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=F(8737),be=F(2806);let ne=(()=>{class ye extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const ie=new de(this,this);return ie.operator=Z,ie}_throwIfClosed(){if(this.closed)throw new ae}next(Z){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(Z)}})}error(Z){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:ie}=this;for(;ie.length;)ie.shift().error(Z)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:ie,isStopped:Je,observers:Pe}=this;return ie||Je?z.Lc:(this.currentObservers=null,Pe.push(Z),new z.w0(()=>{this.currentObservers=null,(0,se.P)(Pe,Z)}))}_checkFinalizedStatuses(Z){const{hasError:ie,thrownError:Je,isStopped:Pe}=this;ie?Z.error(Je):Pe&&Z.complete()}asObservable(){const Z=new s.y;return Z.source=this,Z}}return ye.create=(Y,Z)=>new de(Y,Z),ye})();class de extends ne{constructor(Y,Z){super(),this.destination=Y,this.source=Z}next(Y){var Z,ie;null===(ie=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===ie||ie.call(Z,Y)}error(Y){var Z,ie;null===(ie=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===ie||ie.call(Z,Y)}complete(){var Y,Z;null===(Z=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===Z||Z.call(Y)}_subscribe(Y){var Z,ie;return null!==(ie=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(Y))&&void 0!==ie?ie:z.Lc}}},930:(gt,Ae,F)=>{F.d(Ae,{Hp:()=>He,Lv:()=>ie});var s=F(576),z=F(727),R=F(2416),ae=F(7849),se=F(5032);const be=ye("C",void 0,void 0);function ye(Re,Oe,Ee){return{kind:Re,value:Oe,error:Ee}}var Y=F(3410),Z=F(2806);class ie extends z.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,z.Nn)(Oe)&&Oe.add(this)):this.destination=qe}static create(Oe,Ee,Xe){return new He(Oe,Ee,Xe)}next(Oe){this.isStopped?rt(function de(Re){return ye("N",Re,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?rt(function ne(Re){return ye("E",void 0,Re)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?rt(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function Pe(Re,Oe){return Je.call(Re,Oe)}class Be{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Oe)}catch(Xe){ve(Xe)}}error(Oe){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Oe)}catch(Xe){ve(Xe)}else ve(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(Ee){ve(Ee)}}}class He extends ie{constructor(Oe,Ee,Xe){let re;if(super(),(0,s.m)(Oe)||!Oe)re={next:null!=Oe?Oe:void 0,error:null!=Ee?Ee:void 0,complete:null!=Xe?Xe:void 0};else{let tt;this&&R.v.useDeprecatedNextContext?(tt=Object.create(Oe),tt.unsubscribe=()=>this.unsubscribe(),re={next:Oe.next&&Pe(Oe.next,tt),error:Oe.error&&Pe(Oe.error,tt),complete:Oe.complete&&Pe(Oe.complete,tt)}):re=Oe}this.destination=new Be(re)}}function ve(Re){R.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Re):(0,ae.h)(Re)}function rt(Re,Oe){const{onStoppedNotification:Ee}=R.v;Ee&&Y.z.setTimeout(()=>Ee(Re,Oe))}const qe={closed:!0,next:se.Z,error:function Te(Re){throw Re},complete:se.Z}},727:(gt,Ae,F)=>{F.d(Ae,{Lc:()=>be,w0:()=>se,Nn:()=>ne});var s=F(576);const R=(0,F(3888).d)(ye=>function(Z){ye(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((ie,Je)=>`${Je+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var ae=F(8737);class se{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Pe of Z)Pe.remove(this);else Z.remove(this);const{initialTeardown:ie}=this;if((0,s.m)(ie))try{ie()}catch(Pe){Y=Pe instanceof R?Pe.errors:[Pe]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const Pe of Je)try{de(Pe)}catch(Be){Y=null!=Y?Y:[],Be instanceof R?Y=[...Y,...Be.errors]:Y.push(Be)}}if(Y)throw new R(Y)}}add(Y){var Z;if(Y&&Y!==this)if(this.closed)de(Y);else{if(Y instanceof se){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(Y)}}_hasParent(Y){const{_parentage:Z}=this;return Z===Y||Array.isArray(Z)&&Z.includes(Y)}_addParent(Y){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(Y),Z):Z?[Z,Y]:Y}_removeParent(Y){const{_parentage:Z}=this;Z===Y?this._parentage=null:Array.isArray(Z)&&(0,ae.P)(Z,Y)}remove(Y){const{_finalizers:Z}=this;Z&&(0,ae.P)(Z,Y),Y instanceof se&&Y._removeParent(this)}}se.EMPTY=(()=>{const ye=new se;return ye.closed=!0,ye})();const be=se.EMPTY;function ne(ye){return ye instanceof se||ye&&"closed"in ye&&(0,s.m)(ye.remove)&&(0,s.m)(ye.add)&&(0,s.m)(ye.unsubscribe)}function de(ye){(0,s.m)(ye)?ye():ye.unsubscribe()}},2416:(gt,Ae,F)=>{F.d(Ae,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(gt,Ae,F)=>{F.d(Ae,{E:()=>z});const z=new(F(8306).y)(se=>se.complete())},8996:(gt,Ae,F)=>{F.d(Ae,{D:()=>Oe});var s=F(8421),z=F(5363),R=F(9468),be=F(8306),de=F(2202),ye=F(576),Y=F(9672);function ie(Ee,Xe){if(!Ee)throw new Error("Iterable cannot be null");return new be.y(re=>{(0,Y.f)(re,Xe,()=>{const tt=Ee[Symbol.asyncIterator]();(0,Y.f)(re,Xe,()=>{tt.next().then(Q=>{Q.done?re.complete():re.next(Q.value)})},0,!0)})})}var Je=F(3670),Pe=F(8239),Be=F(1144),He=F(6495),ve=F(2206),Te=F(4532),rt=F(3260);function Oe(Ee,Xe){return Xe?function Re(Ee,Xe){if(null!=Ee){if((0,Je.c)(Ee))return function ae(Ee,Xe){return(0,s.Xf)(Ee).pipe((0,R.R)(Xe),(0,z.Q)(Xe))}(Ee,Xe);if((0,Be.z)(Ee))return function ne(Ee,Xe){return new be.y(re=>{let tt=0;return Xe.schedule(function(){tt===Ee.length?re.complete():(re.next(Ee[tt++]),re.closed||this.schedule())})})}(Ee,Xe);if((0,Pe.t)(Ee))return function se(Ee,Xe){return(0,s.Xf)(Ee).pipe((0,R.R)(Xe),(0,z.Q)(Xe))}(Ee,Xe);if((0,ve.D)(Ee))return ie(Ee,Xe);if((0,He.T)(Ee))return function Z(Ee,Xe){return new be.y(re=>{let tt;return(0,Y.f)(re,Xe,()=>{tt=Ee[de.h](),(0,Y.f)(re,Xe,()=>{let Q,fe;try{({value:Q,done:fe}=tt.next())}catch(he){return void re.error(he)}fe?re.complete():re.next(Q)},0,!0)}),()=>(0,ye.m)(null==tt?void 0:tt.return)&&tt.return()})}(Ee,Xe);if((0,rt.L)(Ee))return function qe(Ee,Xe){return ie((0,rt.Q)(Ee),Xe)}(Ee,Xe)}throw(0,Te.z)(Ee)}(Ee,Xe):(0,s.Xf)(Ee)}},8421:(gt,Ae,F)=>{F.d(Ae,{Xf:()=>Je});var s=F(655),z=F(1144),R=F(8239),ae=F(8306),se=F(3670),be=F(2206),ne=F(4532),de=F(6495),ye=F(3260),Y=F(576),Z=F(7849),ie=F(8822);function Je(Re){if(Re instanceof ae.y)return Re;if(null!=Re){if((0,se.c)(Re))return function Pe(Re){return new ae.y(Oe=>{const Ee=Re[ie.L]();if((0,Y.m)(Ee.subscribe))return Ee.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,z.z)(Re))return function Be(Re){return new ae.y(Oe=>{for(let Ee=0;Ee<Re.length&&!Oe.closed;Ee++)Oe.next(Re[Ee]);Oe.complete()})}(Re);if((0,R.t)(Re))return function He(Re){return new ae.y(Oe=>{Re.then(Ee=>{Oe.closed||(Oe.next(Ee),Oe.complete())},Ee=>Oe.error(Ee)).then(null,Z.h)})}(Re);if((0,be.D)(Re))return Te(Re);if((0,de.T)(Re))return function ve(Re){return new ae.y(Oe=>{for(const Ee of Re)if(Oe.next(Ee),Oe.closed)return;Oe.complete()})}(Re);if((0,ye.L)(Re))return function rt(Re){return Te((0,ye.Q)(Re))}(Re)}throw(0,ne.z)(Re)}function Te(Re){return new ae.y(Oe=>{(function qe(Re,Oe){var Ee,Xe,re,tt;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,s.KL)(Re);!(Xe=yield Ee.next()).done;)if(Oe.next(Xe.value),Oe.closed)return}catch(Q){re={error:Q}}finally{try{Xe&&!Xe.done&&(tt=Ee.return)&&(yield tt.call(Ee))}finally{if(re)throw re.error}}Oe.complete()})})(Re,Oe).catch(Ee=>Oe.error(Ee))})}},6451:(gt,Ae,F)=>{F.d(Ae,{T:()=>be});var s=F(8189),z=F(8421),R=F(515),ae=F(3269),se=F(8996);function be(...ne){const de=(0,ae.yG)(ne),ye=(0,ae._6)(ne,1/0),Y=ne;return Y.length?1===Y.length?(0,z.Xf)(Y[0]):(0,s.J)(ye)((0,se.D)(Y,de)):R.E}},5403:(gt,Ae,F)=>{F.d(Ae,{x:()=>z});var s=F(930);function z(ae,se,be,ne,de){return new R(ae,se,be,ne,de)}class R extends s.Lv{constructor(se,be,ne,de,ye,Y){super(se),this.onFinalize=ye,this.shouldUnsubscribe=Y,this._next=be?function(Z){try{be(Z)}catch(ie){se.error(ie)}}:super._next,this._error=de?function(Z){try{de(Z)}catch(ie){se.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(Z){se.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(gt,Ae,F)=>{F.d(Ae,{U:()=>R});var s=F(4482),z=F(5403);function R(ae,se){return(0,s.e)((be,ne)=>{let de=0;be.subscribe((0,z.x)(ne,ye=>{ne.next(ae.call(se,ye,de++))}))})}},8189:(gt,Ae,F)=>{F.d(Ae,{J:()=>R});var s=F(5577),z=F(4671);function R(ae=1/0){return(0,s.z)(z.y,ae)}},5577:(gt,Ae,F)=>{F.d(Ae,{z:()=>de});var s=F(4004),z=F(8421),R=F(4482),ae=F(9672),se=F(5403),ne=F(576);function de(ye,Y,Z=1/0){return(0,ne.m)(Y)?de((ie,Je)=>(0,s.U)((Pe,Be)=>Y(ie,Pe,Je,Be))((0,z.Xf)(ye(ie,Je))),Z):("number"==typeof Y&&(Z=Y),(0,R.e)((ie,Je)=>function be(ye,Y,Z,ie,Je,Pe,Be,He){const ve=[];let Te=0,rt=0,qe=!1;const Re=()=>{qe&&!ve.length&&!Te&&Y.complete()},Oe=Xe=>Te<ie?Ee(Xe):ve.push(Xe),Ee=Xe=>{Pe&&Y.next(Xe),Te++;let re=!1;(0,z.Xf)(Z(Xe,rt++)).subscribe((0,se.x)(Y,tt=>{null==Je||Je(tt),Pe?Oe(tt):Y.next(tt)},()=>{re=!0},void 0,()=>{if(re)try{for(Te--;ve.length&&Te<ie;){const tt=ve.shift();Be?(0,ae.f)(Y,Be,()=>Ee(tt)):Ee(tt)}Re()}catch(tt){Y.error(tt)}}))};return ye.subscribe((0,se.x)(Y,Oe,()=>{qe=!0,Re()})),()=>{null==He||He()}}(ie,Je,ye,Z)))}},5363:(gt,Ae,F)=>{F.d(Ae,{Q:()=>ae});var s=F(9672),z=F(4482),R=F(5403);function ae(se,be=0){return(0,z.e)((ne,de)=>{ne.subscribe((0,R.x)(de,ye=>(0,s.f)(de,se,()=>de.next(ye),be),()=>(0,s.f)(de,se,()=>de.complete(),be),ye=>(0,s.f)(de,se,()=>de.error(ye),be)))})}},3099:(gt,Ae,F)=>{F.d(Ae,{B:()=>be});var s=F(8996),z=F(5698),R=F(7579),ae=F(930),se=F(4482);function be(de={}){const{connector:ye=(()=>new R.x),resetOnError:Y=!0,resetOnComplete:Z=!0,resetOnRefCountZero:ie=!0}=de;return Je=>{let Pe=null,Be=null,He=null,ve=0,Te=!1,rt=!1;const qe=()=>{null==Be||Be.unsubscribe(),Be=null},Re=()=>{qe(),Pe=He=null,Te=rt=!1},Oe=()=>{const Ee=Pe;Re(),null==Ee||Ee.unsubscribe()};return(0,se.e)((Ee,Xe)=>{ve++,!rt&&!Te&&qe();const re=He=null!=He?He:ye();Xe.add(()=>{ve--,0===ve&&!rt&&!Te&&(Be=ne(Oe,ie))}),re.subscribe(Xe),Pe||(Pe=new ae.Hp({next:tt=>re.next(tt),error:tt=>{rt=!0,qe(),Be=ne(Re,Y,tt),re.error(tt)},complete:()=>{Te=!0,qe(),Be=ne(Re,Z),re.complete()}}),(0,s.D)(Ee).subscribe(Pe))})(Je)}}function ne(de,ye,...Y){return!0===ye?(de(),null):!1===ye?null:ye(...Y).pipe((0,z.q)(1)).subscribe(()=>de())}},9468:(gt,Ae,F)=>{F.d(Ae,{R:()=>z});var s=F(4482);function z(R,ae=0){return(0,s.e)((se,be)=>{be.add(R.schedule(()=>se.subscribe(be),ae))})}},5698:(gt,Ae,F)=>{F.d(Ae,{q:()=>ae});var s=F(515),z=F(4482),R=F(5403);function ae(se){return se<=0?()=>s.E:(0,z.e)((be,ne)=>{let de=0;be.subscribe((0,R.x)(ne,ye=>{++de<=se&&(ne.next(ye),se<=de&&ne.complete())}))})}},8505:(gt,Ae,F)=>{F.d(Ae,{b:()=>se});var s=F(576),z=F(4482),R=F(5403),ae=F(4671);function se(be,ne,de){const ye=(0,s.m)(be)||ne||de?{next:be,error:ne,complete:de}:be;return ye?(0,z.e)((Y,Z)=>{var ie;null===(ie=ye.subscribe)||void 0===ie||ie.call(ye);let Je=!0;Y.subscribe((0,R.x)(Z,Pe=>{var Be;null===(Be=ye.next)||void 0===Be||Be.call(ye,Pe),Z.next(Pe)},()=>{var Pe;Je=!1,null===(Pe=ye.complete)||void 0===Pe||Pe.call(ye),Z.complete()},Pe=>{var Be;Je=!1,null===(Be=ye.error)||void 0===Be||Be.call(ye,Pe),Z.error(Pe)},()=>{var Pe,Be;Je&&(null===(Pe=ye.unsubscribe)||void 0===Pe||Pe.call(ye)),null===(Be=ye.finalize)||void 0===Be||Be.call(ye)}))}):ae.y}},4408:(gt,Ae,F)=>{F.d(Ae,{o:()=>se});var s=F(727);class z extends s.w0{constructor(ne,de){super()}schedule(ne,de=0){return this}}const R={setInterval(be,ne,...de){const{delegate:ye}=R;return(null==ye?void 0:ye.setInterval)?ye.setInterval(be,ne,...de):setInterval(be,ne,...de)},clearInterval(be){const{delegate:ne}=R;return((null==ne?void 0:ne.clearInterval)||clearInterval)(be)},delegate:void 0};var ae=F(8737);class se extends z{constructor(ne,de){super(ne,de),this.scheduler=ne,this.work=de,this.pending=!1}schedule(ne,de=0){if(this.closed)return this;this.state=ne;const ye=this.id,Y=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(Y,ye,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(Y,this.id,de),this}requestAsyncId(ne,de,ye=0){return R.setInterval(ne.flush.bind(ne,this),ye)}recycleAsyncId(ne,de,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return de;R.clearInterval(de)}execute(ne,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(ne,de);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,de){let Y,ye=!1;try{this.work(ne)}catch(Z){ye=!0,Y=Z||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:ne,scheduler:de}=this,{actions:ye}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ye,this),null!=ne&&(this.id=this.recycleAsyncId(de,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(gt,Ae,F)=>{F.d(Ae,{v:()=>R});var s=F(6063);class z{constructor(se,be=z.now){this.schedulerActionCtor=se,this.now=be}schedule(se,be=0,ne){return new this.schedulerActionCtor(this,se).schedule(ne,be)}}z.now=s.l.now;class R extends z{constructor(se,be=z.now){super(se,be),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:be}=this;if(this._active)return void be.push(se);let ne;this._active=!0;do{if(ne=se.execute(se.state,se.delay))break}while(se=be.shift());if(this._active=!1,ne){for(;se=be.shift();)se.unsubscribe();throw ne}}}},4986:(gt,Ae,F)=>{F.d(Ae,{z:()=>R,P:()=>ae});var s=F(4408);const R=new(F(7565).v)(s.o),ae=R},6063:(gt,Ae,F)=>{F.d(Ae,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(gt,Ae,F)=>{F.d(Ae,{z:()=>s});const s={setTimeout(z,R,...ae){const{delegate:se}=s;return(null==se?void 0:se.setTimeout)?se.setTimeout(z,R,...ae):setTimeout(z,R,...ae)},clearTimeout(z){const{delegate:R}=s;return((null==R?void 0:R.clearTimeout)||clearTimeout)(z)},delegate:void 0}},2202:(gt,Ae,F)=>{F.d(Ae,{h:()=>z});const z=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gt,Ae,F)=>{F.d(Ae,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(gt,Ae,F)=>{F.d(Ae,{jO:()=>ae,yG:()=>se,_6:()=>be});var s=F(576),z=F(3532);function R(ne){return ne[ne.length-1]}function ae(ne){return(0,s.m)(R(ne))?ne.pop():void 0}function se(ne){return(0,z.K)(R(ne))?ne.pop():void 0}function be(ne,de){return"number"==typeof R(ne)?ne.pop():de}},8737:(gt,Ae,F)=>{function s(z,R){if(z){const ae=z.indexOf(R);0<=ae&&z.splice(ae,1)}}F.d(Ae,{P:()=>s})},3888:(gt,Ae,F)=>{function s(z){const ae=z(se=>{Error.call(se),se.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}F.d(Ae,{d:()=>s})},2806:(gt,Ae,F)=>{F.d(Ae,{x:()=>R,O:()=>ae});var s=F(2416);let z=null;function R(se){if(s.v.useDeprecatedSynchronousErrorHandling){const be=!z;if(be&&(z={errorThrown:!1,error:null}),se(),be){const{errorThrown:ne,error:de}=z;if(z=null,ne)throw de}}else se()}function ae(se){s.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=se)}},9672:(gt,Ae,F)=>{function s(z,R,ae,se=0,be=!1){const ne=R.schedule(function(){ae(),be?z.add(this.schedule(null,se)):this.unsubscribe()},se);if(z.add(ne),!be)return ne}F.d(Ae,{f:()=>s})},4671:(gt,Ae,F)=>{function s(z){return z}F.d(Ae,{y:()=>s})},1144:(gt,Ae,F)=>{F.d(Ae,{z:()=>s});const s=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(gt,Ae,F)=>{F.d(Ae,{D:()=>z});var s=F(576);function z(R){return Symbol.asyncIterator&&(0,s.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(gt,Ae,F)=>{function s(z){return"function"==typeof z}F.d(Ae,{m:()=>s})},3670:(gt,Ae,F)=>{F.d(Ae,{c:()=>R});var s=F(8822),z=F(576);function R(ae){return(0,z.m)(ae[s.L])}},6495:(gt,Ae,F)=>{F.d(Ae,{T:()=>R});var s=F(2202),z=F(576);function R(ae){return(0,z.m)(null==ae?void 0:ae[s.h])}},8239:(gt,Ae,F)=>{F.d(Ae,{t:()=>z});var s=F(576);function z(R){return(0,s.m)(null==R?void 0:R.then)}},3260:(gt,Ae,F)=>{F.d(Ae,{Q:()=>R,L:()=>ae});var s=F(655),z=F(576);function R(se){return(0,s.FC)(this,arguments,function*(){const ne=se.getReader();try{for(;;){const{value:de,done:ye}=yield(0,s.qq)(ne.read());if(ye)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(de)}}finally{ne.releaseLock()}})}function ae(se){return(0,z.m)(null==se?void 0:se.getReader)}},3532:(gt,Ae,F)=>{F.d(Ae,{K:()=>z});var s=F(576);function z(R){return R&&(0,s.m)(R.schedule)}},4482:(gt,Ae,F)=>{F.d(Ae,{A:()=>z,e:()=>R});var s=F(576);function z(ae){return(0,s.m)(null==ae?void 0:ae.lift)}function R(ae){return se=>{if(z(se))return se.lift(function(be){try{return ae(be,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(gt,Ae,F)=>{function s(){}F.d(Ae,{Z:()=>s})},7849:(gt,Ae,F)=>{F.d(Ae,{h:()=>R});var s=F(2416),z=F(3410);function R(ae){z.z.setTimeout(()=>{const{onUnhandledError:se}=s.v;if(!se)throw ae;se(ae)})}},4532:(gt,Ae,F)=>{function s(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ae,{z:()=>s})},655:(gt,Ae,F)=>{function ae(Q,fe){var he={};for(var _e in Q)Object.prototype.hasOwnProperty.call(Q,_e)&&fe.indexOf(_e)<0&&(he[_e]=Q[_e]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(_e=Object.getOwnPropertySymbols(Q);Ve<_e.length;Ve++)fe.indexOf(_e[Ve])<0&&Object.prototype.propertyIsEnumerable.call(Q,_e[Ve])&&(he[_e[Ve]]=Q[_e[Ve]])}return he}function de(Q,fe,he,_e){return new(he||(he=Promise))(function(ce,kt){function cn(bt){try{mt(_e.next(bt))}catch(En){kt(En)}}function Gn(bt){try{mt(_e.throw(bt))}catch(En){kt(En)}}function mt(bt){bt.done?ce(bt.value):function Ve(ce){return ce instanceof he?ce:new he(function(kt){kt(ce)})}(bt.value).then(cn,Gn)}mt((_e=_e.apply(Q,fe||[])).next())})}function ve(Q){return this instanceof ve?(this.v=Q,this):new ve(Q)}function Te(Q,fe,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,_e=he.apply(Q,fe||[]),ce=[];return Ve={},kt("next"),kt("throw"),kt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function kt(bn){_e[bn]&&(Ve[bn]=function(Ir){return new Promise(function(hn,an){ce.push([bn,Ir,hn,an])>1||cn(bn,Ir)})})}function cn(bn,Ir){try{!function Gn(bn){bn.value instanceof ve?Promise.resolve(bn.value.v).then(mt,bt):En(ce[0][2],bn)}(_e[bn](Ir))}catch(hn){En(ce[0][3],hn)}}function mt(bn){cn("next",bn)}function bt(bn){cn("throw",bn)}function En(bn,Ir){bn(Ir),ce.shift(),ce.length&&cn(ce[0][0],ce[0][1])}}function qe(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,fe=Q[Symbol.asyncIterator];return fe?fe.call(Q):(Q=function ie(Q){var fe="function"==typeof Symbol&&Symbol.iterator,he=fe&&Q[fe],_e=0;if(he)return he.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&_e>=Q.length&&(Q=void 0),{value:Q&&Q[_e++],done:!Q}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),he={},_e("next"),_e("throw"),_e("return"),he[Symbol.asyncIterator]=function(){return this},he);function _e(ce){he[ce]=Q[ce]&&function(kt){return new Promise(function(cn,Gn){!function Ve(ce,kt,cn,Gn){Promise.resolve(Gn).then(function(mt){ce({value:mt,done:cn})},kt)}(cn,Gn,(kt=Q[ce](kt)).done,kt.value)})}}}F.d(Ae,{_T:()=>ae,mG:()=>de,qq:()=>ve,FC:()=>Te,KL:()=>qe})},5e3:(gt,Ae,F)=>{F.d(Ae,{deG:()=>Id,tb:()=>ge,AFp:()=>vm,ip1:()=>LD,CZH:()=>wn,hGG:()=>np,z2F:()=>Xf,sBO:()=>QD,Sil:()=>wm,_Vd:()=>Ev,EJc:()=>kM,SBq:()=>sm,qLn:()=>mg,vpe:()=>kl,tBr:()=>Is,XFs:()=>_t,OlP:()=>Kn,zs3:()=>Yo,ZZ4:()=>tp,aQg:()=>jm,soG:()=>Ht,YKP:()=>XI,h0i:()=>Vu,PXZ:()=>WD,R0b:()=>na,FiY:()=>br,Lbi:()=>BD,g9A:()=>xM,n_E:()=>dm,Qsj:()=>OR,FYo:()=>ZI,JOm:()=>Zo,q3G:()=>Ei,tp0:()=>Zi,Rgc:()=>Zf,dDg:()=>Kv,q4F:()=>KI,GfV:()=>YI,s_b:()=>Rv,ifc:()=>Yt,eFA:()=>eb,G48:()=>ib,Gpc:()=>Z,f3M:()=>Ft,X6Q:()=>nb,_c5:()=>qM,VLi:()=>Jv,c2e:()=>hh,zSh:()=>Ow,wAp:()=>Nt,vHH:()=>Be,EiD:()=>fg,mCW:()=>x,qzn:()=>wl,JVY:()=>df,pB0:()=>hf,eBb:()=>Fd,L6k:()=>ag,LAX:()=>lg,cg1:()=>Uf,kL8:()=>hI,yhl:()=>uf,dqk:()=>Jt,sIi:()=>Rg,CqO:()=>hC,QGY:()=>qy,F4k:()=>dC,RDi:()=>po,AaK:()=>de,z3N:()=>Do,qOj:()=>Mf,TTD:()=>fa,_Bn:()=>GI,xp6:()=>RT,uIk:()=>Pg,Tol:()=>Lf,ekj:()=>Xy,Suo:()=>yM,Xpm:()=>jt,lG2:()=>ue,Yz7:()=>hn,cJS:()=>un,oAB:()=>L,Yjl:()=>Ge,Y36:()=>Rf,_UZ:()=>zy,BQk:()=>Pf,ynx:()=>th,qZA:()=>Hg,TgZ:()=>$y,EpF:()=>uC,n5z:()=>ic,Ikx:()=>uv,SDv:()=>VI,QtT:()=>Wf,pQV:()=>wv,LFG:()=>We,$8M:()=>rc,$Z:()=>jy,NdJ:()=>Gg,CRH:()=>vM,kcU:()=>$_,O4$:()=>yd,oxw:()=>pC,ALo:()=>Ov,lcZ:()=>pD,Hsn:()=>mC,F$t:()=>gC,Q6J:()=>Hy,s9C:()=>$g,MGl:()=>zg,DdM:()=>uD,VKq:()=>dD,WLB:()=>Mv,kEZ:()=>nM,iGM:()=>wD,MAs:()=>Kw,CHM:()=>Gh,LSH:()=>pg,Udp:()=>Qy,WFA:()=>Wy,d8E:()=>dv,YNc:()=>Lg,W1O:()=>pm,_uU:()=>XS,Oqu:()=>Jg,hij:()=>nv,AsE:()=>AC,Gf:()=>CD});var s=F(7579),z=F(727),R=F(8306),ae=F(6451),se=F(3099);function be(a){for(let l in a)if(a[l]===be)return l;throw Error("Could not find renamed property on target object.")}function ne(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function de(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(de).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function ye(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Y=be({__forward_ref__:be});function Z(a){return a.__forward_ref__=Z,a.toString=function(){return de(this())},a}function ie(a){return Je(a)?a():a}function Je(a){return"function"==typeof a&&a.hasOwnProperty(Y)&&a.__forward_ref__===Z}class Be extends Error{constructor(l,c){super(function He(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,c)),this.code=l}}function ve(a){return"string"==typeof a?a:null==a?"":String(a)}function Te(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ve(a)}function Oe(a,l){const c=l?` in ${l}`:"";throw new Be(-201,`No provider for ${Te(a)} found${c}`)}function bt(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}function hn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function un(a){return{providers:a.providers||[],imports:a.imports||[]}}function Bn(a){return wi(a,Mr)||wi(a,Mi)}function wi(a,l){return a.hasOwnProperty(l)?a[l]:null}function ys(a){return a&&(a.hasOwnProperty(Ci)||a.hasOwnProperty(Ns))?a[Ci]:null}const Mr=be({\u0275prov:be}),Ci=be({\u0275inj:be}),Mi=be({ngInjectableDef:be}),Ns=be({ngInjectorDef:be});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let Ui;function fn(a){const l=Ui;return Ui=a,l}function Xn(a,l,c){const d=Bn(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&_t.Optional?null:void 0!==l?l:void Oe(de(a),"Injector")}function zn(a){return{toString:a}.toString()}var Un=(()=>((Un=Un||{})[Un.OnPush=0]="OnPush",Un[Un.Default=1]="Default",Un))(),Yt=(()=>{return(a=Yt||(Yt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Yt;var a})();const yt="undefined"!=typeof globalThis&&globalThis,ct="undefined"!=typeof window&&window,gr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Jt=yt||"undefined"!=typeof global&&global||ct||gr,_n={},Ct=[],Wn=be({\u0275cmp:be}),Qt=be({\u0275dir:be}),Ke=be({\u0275pipe:be}),Ie=be({\u0275mod:be}),st=be({\u0275fac:be}),vt=be({__NG_ELEMENT_ID__:be});let Ut=0;function jt(a){return zn(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Un.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Ct,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Yt.Emulated,id:"c",styles:a.styles||Ct,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,g=a.features,v=a.pipes;return d.id+=Ut++,d.inputs=G(a.inputs,c),d.outputs=G(a.outputs),g&&g.forEach(w=>w(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(H):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(J):null,d})}function H(a){return Qe(a)||function At(a){return a[Qt]||null}(a)}function J(a){return function at(a){return a[Ke]||null}(a)}const pe={};function L(a){return zn(()=>{const l={type:a.type,bootstrap:a.bootstrap||Ct,declarations:a.declarations||Ct,imports:a.imports||Ct,exports:a.exports||Ct,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(pe[a.id]=a.type),l})}function G(a,l){if(null==a)return _n;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,l&&(l[f]=g)}return c}const ue=jt;function Ge(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Qe(a){return a[Wn]||null}function Pt(a,l){const c=a[Ie]||null;if(!c&&!0===l)throw new Error(`Type ${de(a)} does not have '\u0275mod' property.`);return c}function $i(a){return Array.isArray(a)&&"object"==typeof a[1]}function xr(a){return Array.isArray(a)&&!0===a[1]}function ql(a){return 0!=(8&a.flags)}function la(a){return 2==(2&a.flags)}function ca(a){return 1==(1&a.flags)}function Xr(a){return null!==a.template}function zc(a){return 0!=(512&a[2])}function kr(a,l){return a.hasOwnProperty(st)?a[st]:null}class Uh{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function fa(){return Zl}function Zl(a){return a.type.prototype.ngOnChanges&&(a.setInput=nl),jh}function jh(){const a=es(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===_n)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function nl(a,l,c,d){const f=es(a)||function Vs(a,l){return a[hi]=l}(a,{previous:_n,current:null}),g=f.current||(f.current={}),v=f.previous,w=this.declaredInputs[c],E=v[w];g[w]=new Uh(E&&E.currentValue,l,v===_n),a[d]=l}fa.ngInherit=!0;const hi="__ngSimpleChanges__";function es(a){return a[hi]||null}let Kl;function po(a){Kl=a}function Fo(){return void 0!==Kl?Kl:"undefined"!=typeof document?document:void 0}function kn(a){return!!a.listen}const Lo={createRenderer:(a,l)=>Fo()};function Mn(a){for(;Array.isArray(a);)a=a[0];return a}function go(a,l){return Mn(l[a])}function Ai(a,l){return Mn(l[a.index])}function Jl(a,l){return a.data[l]}function Or(a,l){return a[l]}function tr(a,l){const c=l[a];return $i(c)?c:c[0]}function Bs(a){return 4==(4&a[2])}function Bo(a){return 128==(128&a[2])}function ts(a,l){return null==l?null:a[l]}function Cs(a){a[18]=0}function Us(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const It={lFrame:eu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function va(){return It.bindingsEnabled}function ke(){return It.lFrame.lView}function Wt(){return It.lFrame.tView}function Gh(a){return It.lFrame.contextLView=a,a[8]}function On(){let a=Ql();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ql(){return It.lFrame.currentTNode}function mo(){const a=It.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function ns(a,l){const c=It.lFrame;c.currentTNode=a,c.isParent=l}function Yc(){return It.lFrame.isParent}function ol(){It.lFrame.isParent=!1}function ba(){return It.isInCheckNoChangesMode}function wa(a){It.isInCheckNoChangesMode=a}function fi(){const a=It.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Ds(){return It.lFrame.bindingIndex}function Da(){return It.lFrame.bindingIndex++}function _r(a){const l=It.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function Ea(a){It.lFrame.inI18n=a}function md(a,l){const c=It.lFrame;c.bindingIndex=c.bindingRootIndex=a,Jc(l)}function Jc(a){It.lFrame.currentDirectiveIndex=a}function js(a){const l=It.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function zh(){return It.lFrame.currentQueryIndex}function Qc(a){It.lFrame.currentQueryIndex=a}function Xc(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Xl(a,l,c){if(c&_t.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||c&_t.Host||(f=Xc(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,a=g}const d=It.lFrame=Uo();return d.currentTNode=l,d.lView=a,!0}function ll(a){const l=Uo(),c=a[1];It.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Uo(){const a=It.lFrame,l=null===a?null:a.child;return null===l?eu(a):l}function eu(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function qh(){const a=It.lFrame;return It.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const _d=qh;function jo(){const a=qh();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function nr(){return It.lFrame.selectedIndex}function yo(a){It.lFrame.selectedIndex=a}function Yn(){const a=It.lFrame;return Jl(a.tView,a.selectedIndex)}function yd(){It.lFrame.currentNamespace="svg"}function $_(){!function nu(){It.lFrame.currentNamespace=null}()}function cl(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const g=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:M,ngOnDestroy:k}=g;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),w&&((a.contentHooks||(a.contentHooks=[])).push(c,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,w)),E&&(a.viewHooks||(a.viewHooks=[])).push(-c,E),M&&((a.viewHooks||(a.viewHooks=[])).push(c,M),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,M)),null!=k&&(a.destroyHooks||(a.destroyHooks=[])).push(c,k)}}function iu(a,l,c){bd(a,l,3,c)}function ec(a,l,c,d){(3&a[2])===c&&bd(a,l,c,d)}function si(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function bd(a,l,c,d){const g=null!=d?d:-1,v=l.length-1;let w=0;for(let E=void 0!==d?65535&a[18]:0;E<v;E++)if("number"==typeof l[E+1]){if(w=l[E],null!=d&&w>=d)break}else l[E]<0&&(a[18]+=65536),(w<g||-1==g)&&(wd(a,c,l,E),a[18]=(4294901760&a[18])+E+2),E++}function wd(a,l,c,d){const f=c[d]<0,g=c[d+1],w=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class tc{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Ta(a,l,c){const d=kn(a);let f=0;for(;f<c.length;){const g=c[f];if("number"==typeof g){if(0!==g)break;f++;const v=c[f++],w=c[f++],E=c[f++];d?a.setAttribute(l,w,E,v):l.setAttributeNS(v,w,E)}else{const v=g,w=c[++f];su(v)?d&&a.setProperty(l,v,w):d?a.setAttribute(l,v,w):l.setAttribute(v,w),f++}}return f}function Dd(a){return 3===a||4===a||6===a}function su(a){return 64===a.charCodeAt(0)}function $s(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||ou(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function ou(a,l,c,d,f){let g=0,v=a.length;if(-1===l)v=-1;else for(;g<a.length;){const w=a[g++];if("number"==typeof w){if(w===l){v=-1;break}if(w>l){v=g-1;break}}}for(;g<a.length;){const w=a[g];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(a[g+1]=f));if(d===a[g+1])return void(a[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(a.splice(v,0,l),g=v+1),a.splice(g++,0,c),null!==d&&a.splice(g++,0,d),null!==f&&a.splice(g++,0,f)}function ei(a){return-1!==a}function pi(a){return 32767&a}function pn(a,l){let c=function Es(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let ut=!0;function Sa(a){const l=ut;return ut=a,l}let hl=0;function zi(a,l){const c=lu(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Hn(d.data,a),Hn(l,null),Hn(d.blueprint,null));const f=qi(a,l),g=a.injectorIndex;if(ei(f)){const v=pi(f),w=pn(f,l),E=w[1].data;for(let M=0;M<8;M++)l[g+M]=w[v+M]|E[v+M]}return l[g+8]=f,g}function Hn(a,l){a.push(0,0,0,0,0,0,0,0,l)}function lu(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function qi(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){const g=f[1],v=g.type;if(d=2===v?g.declTNode:1===v?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Ia(a,l,c){!function fl(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(vt)&&(d=c[vt]),null==d&&(d=c[vt]=hl++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function pl(a,l,c){if(c&_t.Optional)return a;Oe(l,"NodeInjector")}function ir(a,l,c,d){if(c&_t.Optional&&void 0===d&&(d=null),0==(c&(_t.Self|_t.Host))){const f=a[9],g=fn(void 0);try{return f?f.get(l,d,c&_t.Optional):Xn(l,d,c&_t.Optional)}finally{fn(g)}}return pl(d,l,c)}function is(a,l,c,d=_t.Default,f){if(null!==a){const g=function Ed(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(vt)?a[vt]:void 0;return"number"==typeof l?l>=0?255&l:oi:l}(c);if("function"==typeof g){if(!Xl(l,a,d))return d&_t.Host?pl(f,c,d):ir(l,c,d,f);try{const v=g(d);if(null!=v||d&_t.Optional)return v;Oe(c)}finally{_d()}}else if("number"==typeof g){let v=null,w=lu(a,l),E=-1,M=d&_t.Host?l[16][6]:null;for((-1===w||d&_t.SkipSelf)&&(E=-1===w?qi(a,l):l[w+8],-1!==E&&_l(d,!1)?(v=l[1],w=pi(E),l=pn(E,l)):w=-1);-1!==w;){const k=l[1];if(ml(g,w,k.data)){const B=Ma(w,l,c,v,d,M);if(B!==Go)return B}E=l[w+8],-1!==E&&_l(d,l[1].data[w+8]===M)&&ml(g,w,l)?(v=k,w=pi(E),l=pn(E,l)):w=-1}}}return ir(l,c,d,f)}const Go={};function oi(){return new zs(On(),ke())}function Ma(a,l,c,d,f,g){const v=l[1],w=v.data[a+8],k=gl(w,v,c,null==d?la(w)&&ut:d!=v&&0!=(3&w.type),f&_t.Host&&g===w);return null!==k?vo(l,v,k,w):Go}function gl(a,l,c,d,f){const g=a.providerIndexes,v=l.data,w=1048575&g,E=a.directiveStart,k=g>>20,q=f?w+k:a.directiveEnd;for(let ee=d?w:w+k;ee<q;ee++){const Ce=v[ee];if(ee<E&&c===Ce||ee>=E&&Ce.type===c)return ee}if(f){const ee=v[E];if(ee&&Xr(ee)&&ee.type===c)return E}return null}function vo(a,l,c,d){let f=a[c];const g=l.data;if(function ul(a){return a instanceof tc}(f)){const v=f;v.resolving&&function rt(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Be(-200,`Circular dependency in DI detected for ${a}${c}`)}(Te(g[c]));const w=Sa(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?fn(v.injectImpl):null;Xl(a,d,_t.Default);try{f=a[c]=v.factory(void 0,g,a,d),l.firstCreatePass&&c>=d.directiveStart&&function Ho(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(d){const v=Zl(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,g))}(c,g[c],l)}finally{null!==E&&fn(E),Sa(w),v.resolving=!1,_d()}}return f}function ml(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function _l(a,l){return!(a&_t.Self||a&_t.Host&&l)}class zs{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return is(this._tNode,this._lView,l,d,c)}}function ic(a){return zn(()=>{const l=a.prototype.constructor,c=l[st]||$o(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const g=f[st]||$o(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function $o(a){return Je(a)?()=>{const l=$o(ie(a));return l&&l()}:kr(a)}function rc(a){return function nc(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(Dd(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===l)return c[f+1];f+=2}}}return null}(On(),a)}const Nr="__parameters__";function Zs(a,l,c){return zn(()=>{const d=function sc(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return w.annotation=v,w;function w(E,M,k){const B=E.hasOwnProperty(Nr)?E[Nr]:Object.defineProperty(E,Nr,{value:[]})[Nr];for(;B.length<=k;)B.push(null);return(B[k]=B[k]||[]).push(v),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class Kn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=hn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Id=new Kn("AnalyzeForEntryComponents");function yr(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),yr(d,l)):l!==a&&l.push(d)}return l}function Ts(a,l){a.forEach(c=>Array.isArray(c)?Ts(c,l):l(c))}function Pr(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function zo(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Wi(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function rs(a,l,c){let d=ka(a,l);return d>=0?a[1|d]=c:(d=~d,function yl(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function Kh(a,l){const c=ka(a,l);if(c>=0)return a[1|c]}function ka(a,l){return function lc(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const g=d+(f-d>>1),v=a[g<<c];if(l===v)return g<<c;v>l?f=g:d=g+1}return~(f<<c)}(a,l,1)}const Ss={},Na="__NG_DI_FLAG__",vl="ngTempTokenPath",T=/\n/gm,O="__source",$=be({provide:String,useValue:be});let X;function le(a){const l=X;return X=a,l}function Le(a,l=_t.Default){if(void 0===X)throw new Be(203,"");return null===X?Xn(a,void 0,l):X.get(a,l&_t.Optional?null:void 0,l)}function We(a,l=_t.Default){return(function $n(){return Ui}()||Le)(ie(a),l)}const Ft=We;function Xt(a){const l=[];for(let c=0;c<a.length;c++){const d=ie(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Be(900,"");let f,g=_t.Default;for(let v=0;v<d.length;v++){const w=d[v],E=ki(w);"number"==typeof E?-1===E?f=w.token:g|=E:f=w}l.push(We(f,g))}else l.push(We(d))}return l}function Mt(a,l){return a[Na]=l,a.prototype[Na]=l,a}function ki(a){return a[Na]}const Is=Mt(Zs("Inject",a=>({token:a})),-1),br=Mt(Zs("Optional"),8),Zi=Mt(Zs("SkipSelf"),4);let Pa;function bl(a){var l;return(null===(l=function Wo(){if(void 0===Pa&&(Pa=null,Jt.trustedTypes))try{Pa=Jt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Pa}())||void 0===l?void 0:l.createHTML(a))||a}class Lr{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pd extends Lr{getTypeName(){return"HTML"}}class K_ extends Lr{getTypeName(){return"Style"}}class mu extends Lr{getTypeName(){return"Script"}}class J_ extends Lr{getTypeName(){return"URL"}}class og extends Lr{getTypeName(){return"ResourceURL"}}function Do(a){return a instanceof Lr?a.changingThisBreaksApplicationSecurity:a}function wl(a,l){const c=uf(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function uf(a){return a instanceof Lr&&a.getTypeName()||null}function df(a){return new Pd(a)}function ag(a){return new K_(a)}function Fd(a){return new mu(a)}function lg(a){return new J_(a)}function hf(a){return new og(a)}function cg(a){const l=new Q_(a);return function b(){try{return!!(new window.DOMParser).parseFromString(bl(""),"text/html")}catch(a){return!1}}()?new Ld(l):l}class Ld{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(bl(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Q_{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=bl(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=bl(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const m=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,D=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function x(a){return(a=String(a)).match(m)||a.match(D)?a:"unsafe:"+a}function V(a){return(a=String(a)).split(",").map(l=>x(l.trim())).join(", ")}function te(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function Ne(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const dt=te("area,br,col,hr,img,wbr"),Tt=te("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qt=te("rp,rt"),_u=Ne(dt,Ne(Tt,te("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ne(qt,te("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ne(qt,Tt)),pc=te("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gc=te("srcset"),yu=Ne(pc,gc,te("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),te("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fa=te("script,style,template");class dg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!_u.hasOwnProperty(c))return this.sanitizedSomething=!0,!Fa.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,w=v.toLowerCase();if(!yu.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=g.value;pc[w]&&(E=x(E)),gc[w]&&(E=V(E)),this.buf.push(" ",v,'="',ff(E),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();_u.hasOwnProperty(c)&&!dt.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(ff(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const Vd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hg=/([^\#-~ |!])/g;function ff(a){return a.replace(/&/g,"&amp;").replace(Vd,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(hg,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mc;function fg(a,l){let c=null;try{mc=mc||cg(a);let d=l?String(l):"";c=mc.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=mc.getInertBodyElement(d)}while(d!==g);return bl((new dg).sanitizeChildren(Bd(c)||c))}finally{if(c){const d=Bd(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Bd(a){return"content"in a&&function F0(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Ei=(()=>((Ei=Ei||{})[Ei.NONE=0]="NONE",Ei[Ei.HTML=1]="HTML",Ei[Ei.STYLE=2]="STYLE",Ei[Ei.SCRIPT=3]="SCRIPT",Ei[Ei.URL=4]="URL",Ei[Ei.RESOURCE_URL=5]="RESOURCE_URL",Ei))();function pg(a){const l=function Ud(){const a=ke();return a&&a[12]}();return l?l.sanitize(Ei.URL,a)||"":wl(a,"URL")?Do(a):x(ve(a))}const dT="__ngContext__";function nn(a,l){a[dT]=l}function ey(a){const l=function pf(a){return a[dT]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function ny(a){return a.ngOriginalError}function gT(a,...l){a.error(...l)}class mg{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=function pT(a){return a&&a.ngErrorLogger||gT}(l);d(this._console,"ERROR",l),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&ny(l);for(;c&&ny(c);)c=ny(c);return c||null}}const mf=/^>|^->|<!--|-->|--!>|<!-$/g,z0=/(<|>)/;const _f=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Jt))();function Va(a){return a instanceof Function?a():a}var Zo=(()=>((Zo=Zo||{})[Zo.Important=1]="Important",Zo[Zo.DashCase=2]="DashCase",Zo))();let Dl;function yf(a,l){return Dl(a,l)}function ht(a){const l=a[3];return xr(l)?l[3]:l}function ry(a){return _c(a[13])}function K0(a){return _c(a[4])}function _c(a){for(;null!==a&&!xr(a);)a=a[4];return a}function Gd(a,l,c,d,f){if(null!=d){let g,v=!1;xr(d)?g=d:$i(d)&&(v=!0,d=d[0]);const w=Mn(d);0===a&&null!==c?null==f?wT(l,c,w):zd(l,c,w,f||null,!0):1===a&&null!==c?zd(l,c,w,f||null,!0):2===a?ST(l,w,v):3===a&&l.destroyNode(w),null!=g&&function DN(a,l,c,d,f){const g=c[7];g!==Mn(c)&&Gd(l,a,d,g,f);for(let w=10;w<c.length;w++){const E=c[w];Dg(E[1],E,a,l,d,g)}}(l,a,g,c,f)}}function sy(a,l){return kn(a)?a.createText(l):a.createTextNode(l)}function vT(a,l,c){kn(a)?a.setValue(l,c):l.textContent=c}function _N(a,l){return a.createComment(function Vr(a){return a.replace(mf,l=>l.replace(z0,"\u200b$1\u200b"))}(l))}function vg(a,l,c){if(kn(a))return a.createElement(l,c);{const d=null!==c?function fd(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?a.createElement(l):a.createElementNS(d,l)}}function bu(a,l){const c=a[9],d=c.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,Us(f,-1)),c.splice(d,1)}function $d(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&bu(f,d),l>0&&(a[c-1][4]=d[4]);const g=zo(a,10+l);!function vu(a,l){Dg(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function wu(a,l){if(!(256&l[2])){const c=l[11];kn(c)&&c.destroyNode&&Dg(a,l,c,3,null,null),function bg(a){let l=a[13];if(!l)return J0(a[1],a);for(;l;){let c=null;if($i(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)$i(l)&&J0(l[1],l),l=l[3];null===l&&(l=a),$i(l)&&J0(l[1],l),c=l&&l[4]}l=c}}(l)}}function J0(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function vN(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof tc)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const w=f[g[v]],E=g[v+1];try{E.call(w)}finally{}}else try{g.call(f)}finally{}}}}(a,l),function yN(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],w="function"==typeof v?v(l):Mn(l[v]),E=d[f=c[g+2]],M=c[g+3];"boolean"==typeof M?w.removeEventListener(c[g],E,M):M>=0?d[f=M]():d[f=-M].unsubscribe(),g+=2}else{const v=d[f=c[g+1]];c[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)d[g]();l[7]=null}}(a,l),1===l[1].type&&kn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&xr(l[3])){c!==l[3]&&bu(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function bT(a,l,c){return Q0(a,l.parent,c)}function Q0(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===Yt.None||f===Yt.Emulated)return null}return Ai(d,c)}function zd(a,l,c,d,f){kn(a)?a.insertBefore(l,c,d,f):l.insertBefore(c,d,f)}function wT(a,l,c){kn(a)?a.appendChild(l,c):l.appendChild(c)}function CT(a,l,c,d,f){null!==d?zd(a,l,c,d,f):wT(a,l,c)}function ly(a,l){return kn(a)?a.parentNode(l):l.parentNode}function DT(a,l,c){return X0(a,l,c)}function ET(a,l,c){return 40&a.type?Ai(a,c):null}let ew,X0=ET;function TT(a,l){X0=a,ew=l}function cy(a,l,c,d){const f=bT(a,d,l),g=l[11],w=DT(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)CT(g,f,c[E],w,!1);else CT(g,f,c,w,!1);void 0!==ew&&ew(g,d,l,c,f)}function uy(a,l){if(null!==l){const c=l.type;if(3&c)return Ai(l,a);if(4&c)return tw(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return uy(a,d);{const f=a[l.index];return xr(f)?tw(-1,f):Mn(f)}}if(32&c)return yf(l,a)()||Mn(a[l.index]);{const d=dy(a,l);return null!==d?Array.isArray(d)?d[0]:uy(ht(a[16]),d):uy(a,l.next)}}return null}function dy(a,l){return null!==l?a[16][6].projection[l.projection]:null}function tw(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return uy(d,f)}return l[7]}function ST(a,l,c){const d=ly(a,l);d&&function bN(a,l,c,d){kn(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}function nw(a,l,c,d,f,g,v){for(;null!=c;){const w=d[c.index],E=c.type;if(v&&0===l&&(w&&nn(Mn(w),d),c.flags|=4),64!=(64&c.flags))if(8&E)nw(a,l,c.child,d,f,g,!1),Gd(l,a,f,w,g);else if(32&E){const M=yf(c,d);let k;for(;k=M();)Gd(l,a,f,k,g);Gd(l,a,f,w,g)}else 16&E?IT(a,l,d,c,f,g):Gd(l,a,f,w,g);c=v?c.projectionNext:c.next}}function Dg(a,l,c,d,f,g){nw(c,d,a.firstChild,l,f,g,!1)}function IT(a,l,c,d,f,g){const v=c[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let M=0;M<E.length;M++)Gd(l,a,f,E[M],g);else nw(a,l,E,v[3],f,g,!0)}function MT(a,l,c){kn(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function iw(a,l,c){kn(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function AT(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===d||a.charCodeAt(f+g)<=32)return f}c=f+1}}const xT="ng-template";function TN(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==AT(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function kT(a){return 4===a.type&&a.value!==xT}function SN(a,l,c){return l===(4!==a.type||c?a.value:xT)}function IN(a,l,c){let d=4;const f=a.attrs||[],g=function xN(a){for(let l=0;l<a.length;l++)if(Dd(a[l]))return l;return a.length}(f);let v=!1;for(let w=0;w<l.length;w++){const E=l[w];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!SN(a,E,c)||""===E&&1===l.length){if(Ba(d))return!1;v=!0}}else{const M=8&d?E:l[++w];if(8&d&&null!==a.attrs){if(!TN(a.attrs,M,c)){if(Ba(d))return!1;v=!0}continue}const B=MN(8&d?"class":E,f,kT(a),c);if(-1===B){if(Ba(d))return!1;v=!0;continue}if(""!==M){let q;q=B>g?"":f[B+1].toLowerCase();const ee=8&d?q:null;if(ee&&-1!==AT(ee,M,0)||2&d&&M!==q){if(Ba(d))return!1;v=!0}}}}else{if(!v&&!Ba(d)&&!Ba(E))return!1;if(v&&Ba(E))continue;v=!1,d=E|1&d}}return Ba(d)||v}function Ba(a){return 0==(1&a)}function MN(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let g=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let w=l[++f];for(;"string"==typeof w;)w=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function kN(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function OT(a,l,c=!1){for(let d=0;d<l.length;d++)if(IN(a,l[d],c))return!0;return!1}function ON(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function rw(a,l){return a?":not("+l.trim()+")":l}function NT(a){let l=a[0],c=1,d=2,f="",g=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const w=a[++c];f+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Ba(v)&&(l+=rw(g,f),f=""),d=v,g=g||!Ba(d);c++}return""!==f&&(l+=rw(g,f)),l}const Zt={};function RT(a){PT(Wt(),ke(),nr()+a,ba())}function PT(a,l,c,d){if(!d)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&iu(l,g,c)}else{const g=a.preOrderHooks;null!==g&&ec(l,g,0,c)}yo(c)}function hy(a,l){return a<<17|l<<2}function Ua(a){return a>>17&32767}function sw(a){return 2|a}function yc(a){return(131068&a)>>2}function ow(a,l){return-131069&a|l<<2}function aw(a){return 1|a}function Du(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],g=c[d+1];if(-1!==g){const v=a.data[g];Qc(f),v.contentQueries(2,l[g],g)}}}function vc(a,l,c,d,f,g,v,w,E,M){const k=l.blueprint.slice();return k[0]=f,k[2]=140|d,Cs(k),k[3]=k[15]=a,k[8]=c,k[10]=v||a&&a[10],k[11]=w||a&&a[11],k[12]=E||a&&a[12]||null,k[9]=M||a&&a[9]||null,k[6]=g,k[16]=2==l.type?a[16]:k,k}function gn(a,l,c,d,f){let g=a.data[l];if(null===g)g=Eg(a,l,c,d,f),function $h(){return It.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const v=mo();g.injectorIndex=null===v?-1:v.injectorIndex}return ns(g,!0),g}function Eg(a,l,c,d,f){const g=Ql(),v=Yc(),E=a.data[l]=function QT(a,l,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=E),null!==g&&(v?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E)),E}function bf(a,l,c,d){if(0===c)return-1;const f=l.length;for(let g=0;g<c;g++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function Tg(a,l,c){ll(l);try{const d=a.viewQuery;null!==d&&Ig(1,d,c);const f=a.template;null!==f&&mw(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Du(a,l),a.staticViewQueries&&Ig(2,a.viewQuery,c);const g=a.components;null!==g&&function qT(a,l){for(let c=0;c<l.length;c++)hS(a,l[c])}(l,g)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,jo()}}function Eu(a,l,c,d){const f=l[2];if(256==(256&f))return;ll(l);const g=ba();try{Cs(l),function Ca(a){return It.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&mw(a,l,c,2,d);const v=3==(3&f);if(!g)if(v){const M=a.preOrderCheckHooks;null!==M&&iu(l,M,null)}else{const M=a.preOrderHooks;null!==M&&ec(l,M,0,null),si(l,0)}if(function dS(a){for(let l=ry(a);null!==l;l=K0(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],g=f[3];0==(1024&f[2])&&Us(g,1),f[2]|=1024}}}(l),function KN(a){for(let l=ry(a);null!==l;l=K0(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];Bo(d)&&Eu(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&Du(a,l),!g)if(v){const M=a.contentCheckHooks;null!==M&&iu(l,M)}else{const M=a.contentHooks;null!==M&&ec(l,M,1),si(l,1)}!function gw(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)yo(~f);else{const g=f,v=c[++d],w=c[++d];md(v,g),w(2,l[g])}}}finally{yo(-1)}}(a,l);const w=a.components;null!==w&&function vf(a,l){for(let c=0;c<l.length;c++)Sg(a,l[c])}(l,w);const E=a.viewQuery;if(null!==E&&Ig(2,E,d),!g)if(v){const M=a.viewCheckHooks;null!==M&&iu(l,M)}else{const M=a.viewHooks;null!==M&&ec(l,M,2),si(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,Us(l[3],-1))}finally{jo()}}function GN(a,l,c,d){const f=l[10],g=!ba(),v=Bs(l);try{g&&!v&&f.begin&&f.begin(),v&&Tg(a,l,d),Eu(a,l,c,d)}finally{g&&!v&&f.end&&f.end()}}function mw(a,l,c,d,f){const g=nr(),v=2&d;try{yo(-1),v&&l.length>20&&PT(a,l,20,ba()),c(d,f)}finally{yo(g)}}function WT(a,l,c){if(ql(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function gy(a,l,c){!va()||(function qN(a,l,c,d){const f=c.directiveStart,g=c.directiveEnd;a.firstCreatePass||zi(c,l),nn(d,l);const v=c.initialInputs;for(let w=f;w<g;w++){const E=a.data[w],M=Xr(E);M&&Sw(l,c,E);const k=vo(l,a,w,c);nn(k,l),null!==v&&YN(0,w-f,k,E,0,v),M&&(tr(c.index,l)[8]=k)}}(a,l,c,Ai(c,l)),128==(128&c.flags)&&function WN(a,l,c){const d=c.directiveStart,f=c.directiveEnd,v=c.index,w=function al(){return It.lFrame.currentDirectiveIndex}();try{yo(v);for(let E=d;E<f;E++){const M=a.data[E],k=l[E];Jc(E),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&aS(M,k)}}finally{yo(-1),Jc(w)}}(a,l,c))}function _w(a,l,c=Ai){const d=l.localNames;if(null!==d){let f=l.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],w=-1===v?c(l,a):a[v];a[f++]=w}}}function ZT(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=my(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function my(a,l,c,d,f,g,v,w,E,M){const k=20+d,B=k+f,q=function YT(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Zt);return c}(k,B),ee="function"==typeof M?M():M;return q[1]={type:a,blueprint:q,template:c,queries:null,viewQuery:w,declTNode:l,data:q.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:ee,incompleteFirstPass:!1}}function yw(a,l,c,d){const f=Wd(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&bc(a).push(d,f.length-1))}function vw(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function Js(a,l,c,d,f,g,v,w){const E=Ai(l,c);let k,M=l.inputs;!w&&null!=M&&(k=M[d])?(Ur(a,c,k,d,f),la(l)&&function tS(a,l){const c=tr(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function eS(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,kn(g)?g.setProperty(E,d,f):su(d)||(E.setProperty?E.setProperty(d,f):E[d]=f))}function _y(a,l,c,d){let f=!1;if(va()){const g=function ZN(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];OT(c,v.selectors,!1)&&(f||(f=[]),Ia(zi(c,l),a,v.type),Xr(v)?(lS(a,c),f.unshift(v)):f.push(v))}return f}(a,l,c),v=null===d?null:{"":-1};if(null!==g){f=!0,Ew(c,a.data.length,g.length);for(let k=0;k<g.length;k++){const B=g[k];B.providersResolver&&B.providersResolver(B)}let w=!1,E=!1,M=bf(a,l,g.length,null);for(let k=0;k<g.length;k++){const B=g[k];c.mergedAttrs=$s(c.mergedAttrs,B.hostAttrs),Tw(a,c,l,M,B),Dw(M,B,v),null!==B.contentQueries&&(c.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(c.flags|=128);const q=B.type.prototype;!w&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),w=!0),!E&&(q.ngOnChanges||q.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),E=!0),M++}!function XT(a,l){const d=l.directiveEnd,f=a.data,g=l.attrs,v=[];let w=null,E=null;for(let M=l.directiveStart;M<d;M++){const k=f[M],B=k.inputs,q=null===g||kT(l)?null:cS(B,g);v.push(q),w=vw(B,M,w),E=vw(k.outputs,M,E)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=w,l.outputs=E}(a,c)}v&&function Cw(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=c[l[f+1]];if(null==g)throw new Be(-301,!1);d.push(l[f],g)}}}(c,d,v)}return c.mergedAttrs=$s(c.mergedAttrs,c.attrs),f}function ww(a,l,c,d,f,g){const v=g.hostBindings;if(v){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const E=~l.index;(function oS(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(w)!=E&&w.push(E),w.push(d,f,v)}}function aS(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function lS(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Dw(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;Xr(l)&&(c[""]=a)}}function Ew(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function Tw(a,l,c,d,f){a.data[d]=f;const g=f.factory||(f.factory=kr(f.type)),v=new tc(g,Xr(f),null);a.blueprint[d]=v,c[d]=v,ww(a,l,0,d,bf(a,c,f.hostVars,Zt),f)}function Sw(a,l,c){const d=Ai(l,a),f=ZT(c),g=a[10],v=Cf(a,vc(a,f,null,c.onPush?64:16,d,l,g,g.createRenderer(d,c),null,null));a[l.index]=v}function yy(a,l,c,d,f,g,v){if(null==g)kn(a)?a.removeAttribute(l,f,c):l.removeAttribute(f);else{const w=null==v?ve(g):v(g,d||"",f);kn(a)?a.setAttribute(l,f,w,c):c?l.setAttributeNS(c,f,w):l.setAttribute(f,w)}}function YN(a,l,c,d,f,g){const v=g[l];if(null!==v){const w=d.setInput;for(let E=0;E<v.length;){const M=v[E++],k=v[E++],B=v[E++];null!==w?d.setInput(c,B,M,k):c[k]=B}}}function cS(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function uS(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function Sg(a,l){const c=tr(l,a);if(Bo(c)){const d=c[1];80&c[2]?Eu(d,c,d.template,c[8]):c[5]>0&&wf(c)}}function wf(a){for(let d=ry(a);null!==d;d=K0(d))for(let f=10;f<d.length;f++){const g=d[f];if(1024&g[2]){const v=g[1];Eu(v,g,v.template,g[8])}else g[5]>0&&wf(g)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=tr(c[d],a);Bo(f)&&f[5]>0&&wf(f)}}function hS(a,l){const c=tr(l,a),d=c[1];(function Iw(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),Tg(d,c,c[8])}function Cf(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Df(a){for(;a;){a[2]|=64;const l=ht(a);if(zc(a)&&!l)return a;a=l}return null}function qd(a,l,c){const d=l[10];d.begin&&d.begin();try{Eu(a,l,a.template,c)}catch(f){throw by(l,f),f}finally{d.end&&d.end()}}function Aw(a){!function vy(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=ey(c),f=d[1];GN(f,d,f.template,c)}}(a[8])}function Ig(a,l,c){Qc(0),l(a,c)}const El=(()=>Promise.resolve(null))();function Wd(a){return a[7]||(a[7]=[])}function bc(a){return a.cleanup||(a.cleanup=[])}function fS(a,l,c){return(null===a||Xr(a))&&(c=function Zc(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function by(a,l){const c=a[9],d=c?c.get(mg,null):null;d&&d.handleError(l)}function Ur(a,l,c,d,f){for(let g=0;g<c.length;){const v=c[g++],w=c[g++],E=l[v],M=a.data[v];null!==M.setInput?M.setInput(E,f,d,w):E[w]=f}}function Ms(a,l,c){const d=go(l,a);vT(a[11],d,c)}function Tf(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const w=l[v];"number"==typeof w?g=w:1==g?f=ye(f,w):2==g&&(d=ye(d,w+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}const xw=new Kn("INJECTOR",-1);class kw{get(l,c=Ss){if(c===Ss){const d=new Error(`NullInjectorError: No provider for ${de(l)}!`);throw d.name="NullInjectorError",d}return c}}const Ow=new Kn("Set Injector scope."),Zd={},Sf={};let Mg;function Ag(){return void 0===Mg&&(Mg=new kw),Mg}function rn(a,l=null,c=null,d){const f=If(a,l,c,d);return f._resolveInjectorDefTypes(),f}function If(a,l=null,c=null,d){return new Nw(a,c,l||Ag(),d)}class Nw{constructor(l,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];c&&Ts(c,w=>this.processProvider(w,l,c)),Ts([l],w=>this.processInjectorType(w,[],g)),this.records.set(xw,Yd(void 0,this));const v=this.records.get(Ow);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof l?null:de(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=Ss,d=_t.Default){this.assertNotDestroyed();const f=le(this),g=fn(void 0);try{if(!(d&_t.SkipSelf)){let w=this.records.get(l);if(void 0===w){const E=function bS(a){return"function"==typeof a||"object"==typeof a&&a instanceof Kn}(l)&&Bn(l);w=E&&this.injectableDefInScope(E)?Yd(wy(l),Zd):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(d&_t.Self?Ag():this.parent).get(l,c=d&_t.Optional&&c===Ss?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[vl]=v[vl]||[]).unshift(de(l)),f)throw v;return function Di(a,l,c,d){const f=a[vl];throw l[O]&&f.unshift(l[O]),a.message=function Co(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=de(l);if(Array.isArray(l))f=l.map(de).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let w=l[v];g.push(v+":"+("string"==typeof w?JSON.stringify(w):de(w)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(T,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[vl]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{fn(g),le(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,f)=>l.push(de(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processInjectorType(l,c,d){if(!(l=ie(l)))return!1;let f=ys(l);const g=null==f&&l.ngModule||void 0,v=void 0===g?l:g,w=-1!==d.indexOf(v);if(void 0!==g&&(f=ys(g)),null==f)return!1;if(null!=f.imports&&!w){let k;d.push(v);try{Ts(f.imports,B=>{this.processInjectorType(B,c,d)&&(void 0===k&&(k=[]),k.push(B))})}finally{}if(void 0!==k)for(let B=0;B<k.length;B++){const{ngModule:q,providers:ee}=k[B];Ts(ee,Ce=>this.processProvider(Ce,q,ee||Ct))}}this.injectorDefTypes.add(v);const E=kr(v)||(()=>new v);this.records.set(v,Yd(E,Zd));const M=f.providers;if(null!=M&&!w){const k=l;Ts(M,B=>this.processProvider(B,k,M))}return void 0!==g&&void 0!==l.providers}processProvider(l,c,d){let f=Kd(l=ie(l))?l:ie(l&&l.provide);const g=function gS(a,l,c){return Pw(a)?Yd(void 0,a.useValue):Yd(Rw(a),Zd)}(l);if(Kd(l)||!0!==l.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=Yd(void 0,Zd,!0),v.factory=()=>Xt(v.multi),this.records.set(f,v)),f=l,v.multi.push(l)}this.records.set(f,g)}hydrate(l,c){return c.value===Zd&&(c.value=Sf,c.value=c.factory()),"object"==typeof c.value&&c.value&&function vS(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=ie(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function wy(a){const l=Bn(a),c=null!==l?l.factory:kr(a);if(null!==c)return c;if(a instanceof Kn)throw new Be(204,!1);if(a instanceof Function)return function pS(a){const l=a.length;if(l>0)throw Wi(l,"?"),new Be(204,!1);const c=function Bi(a){const l=a&&(a[Mr]||a[Mi]);if(l){const c=function Ii(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Be(204,!1)}function Rw(a,l,c){let d;if(Kd(a)){const f=ie(a);return kr(f)||wy(f)}if(Pw(a))d=()=>ie(a.useValue);else if(function _S(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Xt(a.deps||[]));else if(function mS(a){return!(!a||!a.useExisting)}(a))d=()=>We(ie(a.useExisting));else{const f=ie(a&&(a.useClass||a.provide));if(!function eR(a){return!!a.deps}(a))return kr(f)||wy(f);d=()=>new f(...Xt(a.deps))}return d}function Yd(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function Pw(a){return null!==a&&"object"==typeof a&&$ in a}function Kd(a){return"function"==typeof a}let Yo=(()=>{class a{static create(c,d){var f;if(Array.isArray(c))return rn({name:""},d,c,"");{const g=null!==(f=c.name)&&void 0!==f?f:"";return rn({name:g},c.parent,c.providers,g)}}}return a.THROW_IF_NOT_FOUND=Ss,a.NULL=new kw,a.\u0275prov=hn({token:a,providedIn:"any",factory:()=>We(xw)}),a.__NG_ELEMENT_ID__=-1,a})();function Ty(a,l){cl(ey(a)[1],On())}function Mf(a){let l=function Sy(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(Xr(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Be(903,"");f=l.\u0275dir}if(f){if(c){d.push(f);const v=a;v.inputs=Og(a.inputs),v.declaredInputs=Og(a.declaredInputs),v.outputs=Og(a.outputs);const w=f.hostBindings;w&&AS(a,w);const E=f.viewQuery,M=f.contentQueries;if(E&&Iy(a,E),M&&sR(a,M),ne(a.inputs,f.inputs),ne(a.declaredInputs,f.declaredInputs),ne(a.outputs,f.outputs),Xr(f)&&f.data.animation){const k=a.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const w=g[v];w&&w.ngInherit&&w(a),w===Mf&&(c=!1)}}l=Object.getPrototypeOf(l)}!function $w(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=$s(f.hostAttrs,c=$s(c,f.hostAttrs))}}(d)}function Og(a){return a===_n?{}:a===Ct?[]:a}function Iy(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function sR(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,g)=>{l(d,f,g),c(d,f,g)}:l}function AS(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let Ng=null;function Iu(){if(!Ng){const a=Jt.Symbol;if(a&&a.iterator)Ng=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Ng=d)}}}return Ng}function Rg(a){return!!Ay(a)&&(Array.isArray(a)||!(a instanceof Map)&&Iu()in a)}function Ay(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Jo(a,l,c){return a[l]=c}function sr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function ja(a,l,c,d){const f=sr(a,l,c);return sr(a,l+1,d)||f}function Pg(a,l,c,d){const f=ke();return sr(f,Da(),l)&&(Wt(),function os(a,l,c,d,f,g){const v=Ai(a,l);yy(l[11],v,g,a.value,c,d,f)}(Yn(),f,a,l,c,d)),Pg}function Io(a,l,c,d){return sr(a,Da(),c)?l+ve(c)+d:Zt}function Lg(a,l,c,d,f,g,v,w){const E=ke(),M=Wt(),k=a+20,B=M.firstCreatePass?function xS(a,l,c,d,f,g,v,w,E){const M=l.consts,k=gn(l,a,4,v||null,ts(M,w));_y(l,c,k,ts(M,E)),cl(l,k);const B=k.tViews=my(2,k,d,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,M);return null!==l.queries&&(l.queries.template(l,k),B.queries=l.queries.embeddedTView(k)),k}(k,M,E,l,c,d,f,g,v):M.data[k];ns(B,!1);const q=E[11].createComment("");cy(M,E,q,B),nn(q,E),Cf(E,E[k]=uS(q,E,q,B)),ca(B)&&gy(M,E,B),null!=v&&_w(E,B,w)}function Kw(a){return Or(function Kc(){return It.lFrame.contextLView}(),20+a)}function Rf(a,l=_t.Default){const c=ke();return null===c?We(a,l):is(On(),c,ie(a),l)}function jy(){throw new Error("invalid")}function Hy(a,l,c){const d=ke();return sr(d,Da(),l)&&Js(Wt(),Yn(),d,a,l,d[11],c,!1),Hy}function aC(a,l,c,d,f){const v=f?"class":"style";Ur(a,c,l.inputs[v],v,d)}function $y(a,l,c,d){const f=ke(),g=Wt(),v=20+a,w=f[11],E=f[v]=vg(w,l,function vd(){return It.lFrame.currentNamespace}()),M=g.firstCreatePass?function Gy(a,l,c,d,f,g,v){const w=l.consts,M=gn(l,a,2,f,ts(w,g));return _y(l,c,M,ts(w,v)),null!==M.attrs&&Tf(M,M.attrs,!1),null!==M.mergedAttrs&&Tf(M,M.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,M),M}(v,g,f,0,l,c,d):g.data[v];ns(M,!0);const k=M.mergedAttrs;null!==k&&Ta(w,E,k);const B=M.classes;null!==B&&iw(w,E,B);const q=M.styles;return null!==q&&MT(w,E,q),64!=(64&M.flags)&&cy(g,f,E,M),0===function pd(){return It.lFrame.elementDepthCount}()&&nn(E,f),function ya(){It.lFrame.elementDepthCount++}(),ca(M)&&(gy(g,f,M),WT(g,M,f)),null!==d&&_w(f,M),$y}function Hg(){let a=On();Yc()?ol():(a=a.parent,ns(a,!1));const l=a;!function gd(){It.lFrame.elementDepthCount--}();const c=Wt();return c.firstCreatePass&&(cl(c,a),ql(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Cd(a){return 0!=(16&a.flags)}(l)&&aC(c,l,ke(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function z_(a){return 0!=(32&a.flags)}(l)&&aC(c,l,ke(),l.stylesWithoutHost,!1),Hg}function zy(a,l,c,d){return $y(a,l,c,d),Hg(),zy}function th(a,l,c){const d=ke(),f=Wt(),g=a+20,v=f.firstCreatePass?function lC(a,l,c,d,f){const g=l.consts,v=ts(g,d),w=gn(l,a,8,"ng-container",v);return null!==v&&Tf(w,v,!0),_y(l,c,w,ts(g,f)),null!==l.queries&&l.queries.elementStart(l,w),w}(g,f,d,l,c):f.data[g];ns(v,!0);const w=d[g]=d[11].createComment("");return cy(f,d,w,v),nn(w,d),ca(v)&&(gy(f,d,v),WT(f,v,d)),null!=c&&_w(d,v),th}function Pf(){let a=On();const l=Wt();return Yc()?ol():(a=a.parent,ns(a,!1)),l.firstCreatePass&&(cl(l,a),ql(a)&&l.queries.elementEnd(a)),Pf}function uC(){return ke()}function qy(a){return!!a&&"function"==typeof a.then}function dC(a){return!!a&&"function"==typeof a.subscribe}const hC=dC;function Gg(a,l,c,d){const f=ke(),g=Wt(),v=On();return Zy(g,f,f[11],v,a,l,!!c,d),Gg}function Wy(a,l){const c=On(),d=ke(),f=Wt();return Zy(f,d,fS(js(f.data),c,d),c,a,l,!1),Wy}function Zy(a,l,c,d,f,g,v,w){const E=ca(d),k=a.firstCreatePass&&bc(a),B=l[8],q=Wd(l);let ee=!0;if(3&d.type||w){const Ye=Ai(d,l),lt=w?w(Ye):Ye,Me=q.length,St=w?sn=>w(Mn(sn[d.index])):d.index;if(kn(c)){let sn=null;if(!w&&E&&(sn=function BS(a,l,c,d){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===c&&f[g+1]===d){const w=l[7],E=f[g+2];return w.length>E?w[E]:null}"string"==typeof v&&(g+=2)}return null}(a,l,f,d.index)),null!==sn)(sn.__ngLastListenerFn__||sn).__ngNextListenerFn__=g,sn.__ngLastListenerFn__=g,ee=!1;else{g=Ff(d,l,B,g,!1);const Cn=c.listen(lt,f,g);q.push(g,Cn),k&&k.push(f,St,Me,Me+1)}}else g=Ff(d,l,B,g,!0),lt.addEventListener(f,g,v),q.push(g),k&&k.push(f,St,Me,v)}else g=Ff(d,l,B,g,!1);const Ce=d.outputs;let Ue;if(ee&&null!==Ce&&(Ue=Ce[f])){const Ye=Ue.length;if(Ye)for(let lt=0;lt<Ye;lt+=2){const Hr=l[Ue[lt]][Ue[lt+1]].subscribe(g),Nl=q.length;q.push(g,Hr),k&&k.push(f,d.index,Nl,-(Nl+1))}}}function fC(a,l,c,d){try{return!1!==c(d)}catch(f){return by(a,f),!1}}function Ff(a,l,c,d,f){return function g(v){if(v===Function)return d;const w=2&a.flags?tr(a.index,l):l;0==(32&l[2])&&Df(w);let E=fC(l,0,d,v),M=g.__ngNextListenerFn__;for(;M;)E=fC(l,0,M,v)&&E,M=M.__ngNextListenerFn__;return f&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function pC(a=1){return function _o(a){return(It.lFrame.contextLView=function tu(a,l){for(;a>0;)l=l[15],a--;return l}(a,It.lFrame.contextLView))[8]}(a)}function US(a,l){let c=null;const d=function AN(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===d?OT(a,g,!0):ON(d,g))return f}else c=f}return c}function gC(a){const l=ke()[16][6];if(!l.projection){const d=l.projection=Wi(a?a.length:1,null),f=d.slice();let g=l.child;for(;null!==g;){const v=a?US(g,a):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function mC(a,l=0,c){const d=ke(),f=Wt(),g=gn(f,20+a,16,null,c||null);null===g.projection&&(g.projection=l),ol(),64!=(64&g.flags)&&function CN(a,l,c){IT(l[11],0,l,c,bT(a,c,l),DT(c.parent||l[6],c,l))}(f,d,g)}function $g(a,l,c){return zg(a,"",l,"",c),$g}function zg(a,l,c,d,f){const g=ke(),v=Io(g,l,c,d);return v!==Zt&&Js(Wt(),Yn(),g,a,v,g[11],f,!1),zg}function Yy(a,l,c,d,f){const g=a[c+1],v=null===l;let w=d?Ua(g):yc(g),E=!1;for(;0!==w&&(!1===E||v);){const k=a[w+1];bC(a[w],l)&&(E=!0,a[w+1]=d?aw(k):sw(k)),w=d?Ua(k):yc(k)}E&&(a[c+1]=d?sw(g):aw(g))}function bC(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&ka(a,l)>=0}const Fi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function to(a){return a.substring(Fi.key,Fi.keyEnd)}function wC(a,l){const c=Fi.textEnd;return c===l?-1:(l=Fi.keyEnd=function GS(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,Fi.key=l,c),Sl(a,l,c))}function Sl(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function Qy(a,l,c){return ta(a,l,c,!1),Qy}function Xy(a,l){return ta(a,l,null,!0),Xy}function Lf(a){!function Mo(a,l,c,d){const f=Wt(),g=_r(2);f.firstUpdatePass&&SC(f,null,g,d);const v=ke();if(c!==Zt&&sr(v,g,c)){const w=f.data[nr()];if(QS(w,d)&&!TC(f,g)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(c=ye(E,c||"")),aC(f,w,v,c,d)}else!function KS(a,l,c,d,f,g,v,w){f===Zt&&(f=Ct);let E=0,M=0,k=0<f.length?f[0]:null,B=0<g.length?g[0]:null;for(;null!==k||null!==B;){const q=E<f.length?f[E+1]:void 0,ee=M<g.length?g[M+1]:void 0;let Ue,Ce=null;k===B?(E+=2,M+=2,q!==ee&&(Ce=B,Ue=ee)):null===B||null!==k&&k<B?(E+=2,Ce=k):(M+=2,Ce=B,Ue=ee),null!==Ce&&MC(a,l,c,d,Ce,Ue,v,w),k=E<f.length?f[E]:null,B=M<g.length?g[M]:null}}(f,w,v,v[11],v[g+1],v[g+1]=function IC(a,l,c){if(null==c||""===c)return Ct;const d=[],f=Do(c);if(Array.isArray(f))for(let g=0;g<f.length;g++)a(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&a(d,g,f[g]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,g)}}(rs,ea,a,!0)}function ea(a,l){for(let c=function HS(a){return function Ky(a){Fi.key=0,Fi.keyEnd=0,Fi.value=0,Fi.valueEnd=0,Fi.textEnd=a.length}(a),wC(a,Sl(a,0,Fi.textEnd))}(l);c>=0;c=wC(l,c))rs(a,to(l),!0)}function ta(a,l,c,d){const f=ke(),g=Wt(),v=_r(2);g.firstUpdatePass&&SC(g,a,v,d),l!==Zt&&sr(f,v,l)&&MC(g,g.data[nr()],f,f[11],a,f[v+1]=function fR(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=de(Do(a)))),a}(l,c),d,v)}function TC(a,l){return l>=a.expandoStartIndex}function SC(a,l,c,d){const f=a.data;if(null===f[c+1]){const g=f[nr()],v=TC(a,c);QS(g,d)&&null===l&&!v&&(l=!1),l=function qS(a,l,c,d){const f=js(a);let g=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=rh(c=Il(null,a,l,c,d),l.attrs,d),g=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(c=Il(f,a,l,c,d),null===g){let E=function WS(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==yc(d))return a[Ua(d)]}(a,l,d);void 0!==E&&Array.isArray(E)&&(E=Il(null,a,l,E[1],d),E=rh(E,l.attrs,d),function ZS(a,l,c,d){a[Ua(c?l.classBindings:l.styleBindings)]=d}(a,l,d,E))}else g=function YS(a,l,c){let d;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)d=rh(d,a[g].hostAttrs,c);return rh(d,l.attrs,c)}(a,l,d)}return void 0!==g&&(d?l.residualClasses=g:l.residualStyles=g),c}(f,g,l,d),function Yg(a,l,c,d,f,g){let v=g?l.classBindings:l.styleBindings,w=Ua(v),E=yc(v);a[d]=c;let k,M=!1;if(Array.isArray(c)){const B=c;k=B[1],(null===k||ka(B,k)>0)&&(M=!0)}else k=c;if(f)if(0!==E){const q=Ua(a[w+1]);a[d+1]=hy(q,w),0!==q&&(a[q+1]=ow(a[q+1],d)),a[w+1]=function PN(a,l){return 131071&a|l<<17}(a[w+1],d)}else a[d+1]=hy(w,0),0!==w&&(a[w+1]=ow(a[w+1],d)),w=d;else a[d+1]=hy(E,0),0===w?w=d:a[E+1]=ow(a[E+1],d),E=d;M&&(a[d+1]=sw(a[d+1])),Yy(a,k,d,!0),Yy(a,k,d,!1),function jS(a,l,c,d,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&ka(g,l)>=0&&(c[d+1]=aw(c[d+1]))}(l,k,a,d,g),v=hy(w,E),g?l.classBindings=v:l.styleBindings=v}(f,g,l,c,v,d)}}function Il(a,l,c,d,f){let g=null;const v=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<v&&(g=l[w],d=rh(d,g.hostAttrs,f),g!==a);)w++;return null!==a&&(c.directiveStylingLast=w),d}function rh(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),rs(a,v,!!c||l[++g]))}return void 0===a?null:a}function MC(a,l,c,d,f,g,v,w){if(!(3&l.type))return;const E=a.data,M=E[w+1];tv(function VT(a){return 1==(1&a)}(M)?JS(E,l,c,f,yc(M),v):void 0)||(tv(g)||function LT(a){return 2==(2&a)}(M)&&(g=JS(E,null,c,f,w,v)),function EN(a,l,c,d,f){const g=kn(a);if(l)f?g?a.addClass(c,d):c.classList.add(d):g?a.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:Zo.DashCase;if(null==f)g?a.removeStyle(c,d,v):c.style.removeProperty(d);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),v|=Zo.Important),g?a.setStyle(c,d,f,v):c.style.setProperty(d,f,w?"important":"")}}}(d,v,go(nr(),c),f,g))}function JS(a,l,c,d,f,g){const v=null===l;let w;for(;f>0;){const E=a[f],M=Array.isArray(E),k=M?E[1]:E,B=null===k;let q=c[f+1];q===Zt&&(q=B?Ct:void 0);let ee=B?Kh(q,d):k===d?q:void 0;if(M&&!tv(ee)&&(ee=Kh(E,d)),tv(ee)&&(w=ee,v))return w;const Ce=a[f+1];f=v?Ua(Ce):yc(Ce)}if(null!==l){let E=g?l.residualClasses:l.residualStyles;null!=E&&(w=Kh(E,d))}return w}function tv(a){return void 0!==a}function QS(a,l){return 0!=(a.flags&(l?16:32))}function XS(a,l=""){const c=ke(),d=Wt(),f=a+20,g=d.firstCreatePass?gn(d,f,1,l,null):d.data[f],v=c[f]=sy(c[11],l);cy(d,c,v,g),ns(g,!1)}function Jg(a){return nv("",a,""),Jg}function nv(a,l,c){const d=ke(),f=Io(d,a,l,c);return f!==Zt&&Ms(d,nr(),f),nv}function AC(a,l,c,d,f){const g=ke(),v=function Dc(a,l,c,d,f,g){const w=ja(a,Ds(),c,f);return _r(2),w?l+ve(c)+d+ve(f)+g:Zt}(g,a,l,c,d,f);return v!==Zt&&Ms(g,nr(),v),AC}function uv(a,l,c){const d=ke();return sr(d,Da(),l)&&Js(Wt(),Yn(),d,a,l,d[11],c,!0),uv}function dv(a,l,c){const d=ke();if(sr(d,Da(),l)){const g=Wt(),v=Yn();Js(g,v,d,a,l,fS(js(g.data),v,d),c,!0)}return dv}const Ru=void 0;var Xg=["en",[["a","p"],["AM","PM"],Ru],[["AM","PM"],Ru,Ru],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ru,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ru,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ru,"{1} 'at' {0}",Ru],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dI(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Tc={};function Uf(a){const l=function yR(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=fI(l);if(c)return c;const d=l.split("-")[0];if(c=fI(d),c)return c;if("en"===d)return Xg;throw new Error(`Missing locale data for the locale "${a}".`)}function hI(a){return Uf(a)[Nt.PluralCase]}function fI(a){return a in Tc||(Tc[a]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[a]),Tc[a]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const vR=["zero","one","two","few","many"],hv="en-US",fv={marker:"element"},pv={marker:"ICU"};var ai=(()=>((ai=ai||{})[ai.SHIFT=2]="SHIFT",ai[ai.APPEND_EAGERLY=1]="APPEND_EAGERLY",ai[ai.COMMENT=2]="COMMENT",ai))();let Ki=hv;function FC(a,l,c){const d=l.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?ET(a,0,c):Mn(c[f])}function LC(a,l,c,d,f){const g=l.insertBeforeIndex;if(Array.isArray(g)){let v=d,w=null;if(3&l.type||(w=v,v=f),null!==v&&0==(2&l.flags))for(let E=1;E<g.length;E++)zd(a,v,c[g[E]],w,!1)}}function VC(a,l){if(a.push(l),a.length>1)for(let c=a.length-2;c>=0;c--){const d=a[c];or(d)||BC(d,l)&&null===gI(d)&&mI(d,l.index)}}function or(a){return!(64&a.type)}function BC(a,l){return or(l)||a.index>l.index}function gI(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function mI(a,l){const c=a.insertBeforeIndex;Array.isArray(c)?c[0]=l:(TT(FC,LC),a.insertBeforeIndex=l)}function Hf(a,l){const c=a.data[l];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function vI(a,l,c){const d=Eg(a,c,64,null,null);return VC(l,d),d}function em(a,l){const c=l[a.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function UC(a){return a>>>17}function jC(a){return(131070&a)>>>1}let Gf=0,$f=0;function GC(a,l,c,d){const f=c[11];let v,g=null;for(let w=0;w<l.length;w++){const E=l[w];if("string"==typeof E){const M=l[++w];null===c[M]&&(c[M]=sy(f,E))}else if("number"==typeof E)switch(1&E){case 0:const M=UC(E);let k,B;if(null===g&&(g=M,v=ly(f,d)),M===g?(k=d,B=v):(k=null,B=Mn(c[M])),null!==B){const Ue=jC(E);zd(f,B,c[Ue],k,!1);const lt=Hf(a,Ue);if(null!==lt&&"object"==typeof lt){const Me=em(lt,c);null!==Me&&GC(a,lt.create[Me],c,c[lt.anchorIdx])}}break;case 1:const ee=l[++w],Ce=l[++w];yy(f,go(E>>>1,c),null,null,ee,Ce,null)}else switch(E){case pv:const M=l[++w],k=l[++w];null===c[k]&&nn(c[k]=_N(f,M),c);break;case fv:const B=l[++w],q=l[++w];null===c[q]&&nn(c[q]=vg(f,B,null),c)}}}function $C(a,l,c,d,f){for(let g=0;g<c.length;g++){const v=c[g],w=c[++g];if(v&f){let E="";for(let M=g+1;M<=g+w;M++){const k=c[M];if("string"==typeof k)E+=k;else if("number"==typeof k)if(k<0)E+=ve(l[d-k]);else{const B=k>>>2;switch(3&k){case 1:const q=c[++M],ee=c[++M],Ce=a.data[B];"string"==typeof Ce?yy(l[11],l[B],null,Ce,q,E,ee):Js(a,Ce,l,q,E,l[11],ee,!1);break;case 0:const Ue=l[B];null!==Ue&&vT(l[11],Ue,E);break;case 2:CR(a,Hf(a,B),l,E);break;case 3:zC(a,Hf(a,B),d,l)}}}}else{const E=c[g+1];if(E>0&&3==(3&E)){const k=Hf(a,E>>>2);l[k.currentCaseLViewIndex]<0&&zC(a,k,d,l)}}g+=w}}function zC(a,l,c,d){let f=d[l.currentCaseLViewIndex];if(null!==f){let g=Gf;f<0&&(f=d[l.currentCaseLViewIndex]=~f,g=-1),$C(a,d,l.update[f],c,g)}}function CR(a,l,c,d){const f=function DR(a,l){let c=a.cases.indexOf(l);if(-1===c)switch(a.type){case 1:{const d=function bR(a,l){const c=hI(l)(parseInt(a,10)),d=vR[c];return void 0!==d?d:"other"}(l,function Ga(){return Ki}());c=a.cases.indexOf(d),-1===c&&"other"!==d&&(c=a.cases.indexOf("other"));break}case 0:c=a.cases.indexOf("other")}return-1===c?null:c}(l,d);if(em(l,c)!==f&&(qC(a,l,c),c[l.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const v=c[l.anchorIdx];v&&GC(a,l.create[f],c,v)}}function qC(a,l,c){let d=em(l,c);if(null!==d){const f=l.remove[d];for(let g=0;g<f.length;g++){const v=f[g];if(v>0){const w=go(v,c);null!==w&&ST(c[11],w)}else qC(a,Hf(a,~v),c)}}}function EI(){const a=[];let c,d,l=-1;function g(w,E){l=0;const M=em(w,E);d=null!==M?w.remove[M]:Ct}function v(){if(l<d.length){const w=d[l++];return w>0?c[w]:(a.push(l,d),g(c[1].data[~w],c),v())}return 0===a.length?null:(d=a.pop(),l=a.pop(),v())}return function f(w,E){for(c=E;a.length;)a.pop();return g(w.value,E),v}}const zf=/\ufffd(\d+):?\d*\ufffd/gi,Ml=/\ufffd(\d+)\ufffd/,YC=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,SI=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,KC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ah=/\uE500/g;function gv(a,l,c,d,f,g,v){const w=bf(a,d,1,null);let E=w<<ai.SHIFT,M=mo();l===M&&(M=null),null===M&&(E|=ai.APPEND_EAGERLY),v&&(E|=ai.COMMENT,function Br(a){void 0===Dl&&(Dl=a())}(EI)),f.push(E,null===g?"":g);const k=Eg(a,w,v?32:1,null===g?"":g,null);VC(c,k);const B=k.index;return ns(k,!1),null!==M&&l!==M&&function yI(a,l){let c=a.insertBeforeIndex;null===c?(TT(FC,LC),c=a.insertBeforeIndex=[null,l]):(function Q(a,l,c){a!=l&&bt(c,a,l,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(l))}(M,B),k}function MI(a,l,c,d,f,g,v){const w=v.match(zf),E=gv(a,l,c,g,d,w?null:v,!1);w&&Sc(f,v,E.index,null,0,null)}function Sc(a,l,c,d,f,g){const v=a.length,w=v+1;a.push(null,null);const E=v+2,M=l.split(zf);let k=0;for(let B=0;B<M.length;B++){const q=M[B];if(1&B){const ee=f+parseInt(q,10);a.push(-1-ee),k|=qf(ee)}else""!==q&&a.push(q)}return a.push(c<<2|(d?1:0)),d&&a.push(d,g),a[v]=k,a[w]=a.length-E,k}function qf(a){return 1<<Math.min(a,31)}function mv(a){let l,g,c="",d=0,f=!1;for(;null!==(l=SI.exec(a));)f?l[0]===`\ufffd/*${g}\ufffd`&&(d=l.index,f=!1):(c+=a.substring(d,l.index+l[0].length),g=l[1],f=!0);return c+=a.substr(d),c}function kI(a,l,c,d,f,g){let v=0;const w={type:f.type,currentCaseLViewIndex:bf(a,l,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function NI(a,l,c){a.push(qf(l.mainBinding),2,-1-l.mainBinding,c<<2|2)})(c,f,g),function _I(a,l,c){const d=a.data[l];null===d?a.data[l]=c:d.value=c}(a,g,w);const E=f.values;for(let M=0;M<E.length;M++){const k=E[M],B=[];for(let q=0;q<k.length;q++){const ee=k[q];if("string"!=typeof ee){const Ce=B.push(ee)-1;k[q]=`\x3c!--\ufffd${Ce}\ufffd--\x3e`}}v=TR(a,w,l,c,d,f.cases[M],k.join(""),B)|v}v&&function Fu(a,l,c){a.push(l,1,c<<2|3)}(c,v,g)}function ER(a){const l=[],c=[];let d=1,f=0;const g=tm(a=a.replace(YC,function(v,w,E){return d="select"===E?0:1,f=parseInt(w.substr(1),10),""}));for(let v=0;v<g.length;){let w=g[v++].trim();1===d&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&l.push(w);const E=tm(g[v++]);l.length>c.length&&c.push(E)}return{type:d,mainBinding:f,cases:l,values:c}}function tm(a){if(!a)return[];let l=0;const c=[],d=[],f=/[{}]/g;let g;for(f.lastIndex=0;g=f.exec(a);){const w=g.index;if("}"==g[0]){if(c.pop(),0==c.length){const E=a.substring(l,w);YC.test(E)?d.push(ER(E)):d.push(E),l=w+1}}else{if(0==c.length){const E=a.substring(l,w);d.push(E),l=w+1}c.push("{")}}const v=a.substring(l);return d.push(v),d}function TR(a,l,c,d,f,g,v,w){const E=[],M=[],k=[];l.cases.push(g),l.create.push(E),l.remove.push(M),l.update.push(k);const q=cg(Fo()).getInertBodyElement(v),ee=Bd(q)||q;return ee?_v(a,l,c,d,E,M,k,ee,f,w,0):0}function _v(a,l,c,d,f,g,v,w,E,M,k){let B=0,q=w.firstChild;for(;q;){const ee=bf(a,c,1,null);switch(q.nodeType){case Node.ELEMENT_NODE:const Ce=q,Ue=Ce.tagName.toLowerCase();if(_u.hasOwnProperty(Ue)){yv(f,fv,Ue,E,ee),a.data[ee]=Ue;const St=Ce.attributes;for(let sn=0;sn<St.length;sn++){const Cn=St.item(sn),Hr=Cn.name.toLowerCase();Cn.value.match(zf)?yu.hasOwnProperty(Hr)&&Sc(v,Cn.value,ee,Cn.name,0,pc[Hr]?x:gc[Hr]?V:null):XC(f,ee,Cn)}B=_v(a,l,c,d,f,g,v,q,ee,M,k+1)|B,QC(g,ee,k)}break;case Node.TEXT_NODE:const Ye=q.textContent||"",lt=Ye.match(zf);yv(f,null,lt?"":Ye,E,ee),QC(g,ee,k),lt&&(B=Sc(v,Ye,ee,null,0,null)|B);break;case Node.COMMENT_NODE:const Me=Ml.exec(q.textContent||"");if(Me){const sn=M[parseInt(Me[1],10)];yv(f,pv,"",E,ee),kI(a,c,d,E,sn,ee),OI(g,ee,k)}}q=q.nextSibling}return B}function QC(a,l,c){0===c&&a.push(l)}function OI(a,l,c){0===c&&(a.push(~l),a.push(l))}function yv(a,l,c,d,f){null!==l&&a.push(l),a.push(c,f,function bI(a,l,c){return a|l<<17|c<<1}(0,d,f))}function XC(a,l,c){a.push(l<<1|1,c.name,c.value)}function bv(a,l,c=-1){const d=Wt(),f=ke(),g=20+a,v=ts(d.consts,l),w=mo();d.firstCreatePass&&function II(a,l,c,d,f,g){const v=mo(),w=[],E=[],M=[[]];f=function xI(a,l){if(function Al(a){return-1===a}(l))return mv(a);{const c=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,d=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return mv(a.substring(c,d))}}(f,g);const k=function JC(a){return a.replace(ah," ")}(f).split(KC);for(let B=0;B<k.length;B++){let q=k[B];if(0==(1&B)){const ee=tm(q);for(let Ce=0;Ce<ee.length;Ce++){let Ue=ee[Ce];if(0==(1&Ce)){const Ye=Ue;""!==Ye&&MI(a,v,M[0],w,E,c,Ye)}else{const Ye=Ue;if("object"!=typeof Ye)throw new Error(`Unable to parse ICU expression in "${f}" message.`);kI(a,c,E,l,Ye,gv(a,v,M[0],c,w,"",!0).index)}}}else{const ee=47===q.charCodeAt(0),Ue=(q.charCodeAt(ee?1:0),20+Number.parseInt(q.substring(ee?2:1)));if(ee)M.shift(),ns(mo(),!1);else{const Ye=vI(a,M[0],Ue);M.unshift([]),ns(Ye,!0)}}}a.data[d]={create:w,update:E}}(d,null===w?0:w.index,f,g,v,c);const E=d.data[g],k=Q0(d,w===f[6]?null:w,f);(function DI(a,l,c,d){const f=a[11];for(let g=0;g<l.length;g++){const v=l[g++],w=l[g],E=(v&ai.COMMENT)===ai.COMMENT,M=(v&ai.APPEND_EAGERLY)===ai.APPEND_EAGERLY,k=v>>>ai.SHIFT;let B=a[k];null===B&&(B=a[k]=E?f.createComment(w):sy(f,w)),M&&null!==c&&zd(f,c,B,d,!1)}})(f,E.create,k,w&&8&w.type?f[w.index]:null),Ea(!0)}function VI(a,l,c){bv(a,l,c),function tD(){Ea(!1)}()}function wv(a){return function wI(a){a&&(Gf|=1<<Math.min($f,31)),$f++}(sr(ke(),Da(),a)),wv}function Wf(a){!function CI(a,l,c){if($f>0){const d=a.data[c];$C(a,l,Array.isArray(d)?d:d.update,Ds()-$f-1,Gf)}Gf=0,$f=0}(Wt(),ke(),a+20)}function Cv(a,l,c,d,f){if(a=ie(a),Array.isArray(a))for(let g=0;g<a.length;g++)Cv(a[g],l,c,d,f);else{const g=Wt(),v=ke();let w=Kd(a)?a:ie(a.provide),E=Rw(a);const M=On(),k=1048575&M.providerIndexes,B=M.directiveStart,q=M.providerIndexes>>20;if(Kd(a)||!a.multi){const ee=new tc(E,f,Rf),Ce=Dv(w,l,f?k:k+q,B);-1===Ce?(Ia(zi(M,v),g,w),nD(g,a,l.length),l.push(w),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),c.push(ee),v.push(ee)):(c[Ce]=ee,v[Ce]=ee)}else{const ee=Dv(w,l,k+q,B),Ce=Dv(w,l,k,k+q),Ue=ee>=0&&c[ee],Ye=Ce>=0&&c[Ce];if(f&&!Ye||!f&&!Ue){Ia(zi(M,v),g,w);const lt=function IR(a,l,c,d,f){const g=new tc(a,c,Rf);return g.multi=[],g.index=l,g.componentProviders=0,iD(g,f,d&&!c),g}(f?im:HI,c.length,f,d,E);!f&&Ye&&(c[Ce].providerFactory=lt),nD(g,a,l.length,0),l.push(w),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),c.push(lt),v.push(lt)}else nD(g,a,ee>-1?ee:Ce,iD(c[f?Ce:ee],E,!f&&d));!f&&d&&Ye&&c[Ce].componentProviders++}}}function nD(a,l,c,d){const f=Kd(l),g=function yS(a){return!!a.useClass}(l);if(f||g){const E=(g?ie(l.useClass):l).prototype.ngOnDestroy;if(E){const M=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const k=M.indexOf(c);-1===k?M.push(c,[d,E]):M[k+1].push(d,E)}else M.push(c,E)}}}function iD(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function Dv(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function HI(a,l,c,d){return rm(this.multi,[])}function im(a,l,c,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=vo(c,c[1],this.providerFactory.index,d);g=w.slice(0,v),rm(f,g);for(let E=v;E<w.length;E++)g.push(w[E])}else g=[],rm(f,g);return g}function rm(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function GI(a,l=[]){return c=>{c.providersResolver=(d,f)=>function jI(a,l,c){const d=Wt();if(d.firstCreatePass){const f=Xr(a);Cv(c,d.data,d.blueprint,f,!0),Cv(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class $I{}class qI{resolveComponentFactory(l){throw function AR(a){const l=Error(`No component factory found for ${de(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Ev=(()=>{class a{}return a.NULL=new qI,a})();function WI(){return Lu(On(),ke())}function Lu(a,l){return new sm(Ai(a,l))}let sm=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=WI,a})();function kR(a){return a instanceof sm?a.nativeElement:a}class ZI{}let OR=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function rD(){const a=ke(),c=tr(On().index,a);return function om(a){return a[11]}($i(c)?c:a)}(),a})(),NR=(()=>{class a{}return a.\u0275prov=hn({token:a,providedIn:"root",factory:()=>null}),a})();class YI{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const KI=new YI("13.2.7"),sD={};function Tv(a,l,c,d,f=!1){for(;null!==c;){const g=l[c.index];if(null!==g&&d.push(Mn(g)),xr(g))for(let w=10;w<g.length;w++){const E=g[w],M=E[1].firstChild;null!==M&&Tv(E[1],E,M,d)}const v=c.type;if(8&v)Tv(a,l,c.child,d);else if(32&v){const w=yf(c,l);let E;for(;E=w();)d.push(E)}else if(16&v){const w=dy(l,c);if(Array.isArray(w))d.push(...w);else{const E=ht(l[16]);Tv(E[1],E,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class am{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Tv(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(xr(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&($d(l,d),zo(c,d))}this._attachedToViewContainer=!1}wu(this._lView[1],this._lView)}onDestroy(l){yw(this._lView[1],this._lView,null,l)}markForCheck(){Df(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){qd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Ef(a,l,c){wa(!0);try{qd(a,l,c)}finally{wa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Be(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ay(a,l){Dg(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Be(902,"");this._appRef=l}}class Sv extends am{constructor(l){super(l),this._view=l}detectChanges(){Aw(this._view)}checkNoChanges(){!function as(a){wa(!0);try{Aw(a)}finally{wa(!1)}}(this._view)}get context(){return null}}class lm extends Ev{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=Qe(l);return new lD(c,this.ngModule)}}function oD(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class lD extends $I{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function NN(a){return a.map(NT).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return oD(this.componentDef.inputs)}get outputs(){return oD(this.componentDef.outputs)}create(l,c,d,f){const g=(f=f||this.ngModule)?function aD(a,l){return{get:(c,d,f)=>{const g=a.get(c,sD,f);return g!==sD||d===sD?g:l.get(c,d,f)}}}(l,f.injector):l,v=g.get(ZI,Lo),w=g.get(NR,null),E=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=d?function JT(a,l,c){if(kn(a))return a.selectRootElement(l,c===Yt.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(E,d,this.componentDef.encapsulation):vg(v.createRenderer(null,this.componentDef),M,function JI(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(M)),B=this.componentDef.onPush?576:528,q=function kg(a,l){return{components:[],scheduler:a||_f,clean:El,playerHandler:l||null,flags:0}}(),ee=my(0,null,null,1,0,null,null,null,null,null),Ce=vc(null,ee,q,B,null,null,v,E,w,g);let Ue,Ye;ll(Ce);try{const lt=function Ey(a,l,c,d,f,g){const v=c[1];c[20]=a;const E=gn(v,20,2,"#host",null),M=E.mergedAttrs=l.hostAttrs;null!==M&&(Tf(E,M,!0),null!==a&&(Ta(f,a,M),null!==E.classes&&iw(f,a,E.classes),null!==E.styles&&MT(f,a,E.styles)));const k=d.createRenderer(a,l),B=vc(c,ZT(l),null,l.onPush?64:16,c[20],E,d,k,g||null,null);return v.firstCreatePass&&(Ia(zi(E,c),v,l.type),lS(v,E),Ew(E,c.length,1)),Cf(c,B),c[20]=B}(k,this.componentDef,Ce,v,E);if(k)if(d)Ta(E,k,["ng-version",KI.full]);else{const{attrs:Me,classes:St}=function RN(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let g=a[d];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++d]):8===f&&c.push(g);else{if(!Ba(f))break;f=g}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Me&&Ta(E,k,Me),St&&St.length>0&&iw(E,k,St.join(" "))}if(Ye=Jl(ee,20),void 0!==c){const Me=Ye.projection=[];for(let St=0;St<this.ngContentSelectors.length;St++){const sn=c[St];Me.push(null!=sn?Array.from(sn):null)}}Ue=function xg(a,l,c,d,f){const g=c[1],v=function sS(a,l,c){const d=On();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Tw(a,d,l,bf(a,l,1,null),c));const f=vo(l,a,d.directiveStart,d);nn(f,l);const g=Ai(d,l);return g&&nn(g,l),f}(g,c,l);if(d.components.push(v),a[8]=v,f&&f.forEach(E=>E(v,l)),l.contentQueries){const E=On();l.contentQueries(1,v,E.directiveStart)}const w=On();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(yo(w.index),ww(c[1],w,0,w.directiveStart,w.directiveEnd,l),aS(l,v)),v}(lt,this.componentDef,Ce,q,[Ty]),Tg(ee,Ce,null)}finally{jo()}return new RR(this.componentType,Ue,Lu(Ye,Ce),Ce,Ye)}}class RR extends class MR{}{constructor(l,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new Sv(f),this.componentType=l}get injector(){return new zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Vu{}class XI{}const Bu=new Map;class cm extends Vu{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new lm(this);const d=Pt(l);this._bootstrapComponents=Va(d.bootstrap),this._r3Injector=If(l,c,[{provide:Vu,useValue:this},{provide:Ev,useValue:this.componentFactoryResolver}],de(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=Yo.THROW_IF_NOT_FOUND,d=_t.Default){return l===Yo||l===Vu||l===xw?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class um extends XI{constructor(l){super(),this.moduleType=l,null!==Pt(l)&&function eM(a){const l=new Set;!function c(d){const f=Pt(d,!0),g=f.id;null!==g&&(function Iv(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${de(l)} vs ${de(l.name)}`)}(g,Bu.get(g),d),Bu.set(g,d));const v=Va(f.imports);for(const w of v)l.has(w)||(l.add(w),c(w))}(a)}(l)}create(l){return new cm(this.moduleType,l)}}function uD(a,l,c){const d=fi()+a,f=ke();return f[d]===Zt?Jo(f,d,c?l.call(c):l()):function Af(a,l){return a[l]}(f,d)}function dD(a,l,c,d){return fD(ke(),fi(),a,l,c,d)}function Mv(a,l,c,d,f){return function Av(a,l,c,d,f,g,v){const w=l+c;return ja(a,w,f,g)?Jo(a,w+2,v?d.call(v,f,g):d(f,g)):ch(a,w+2)}(ke(),fi(),a,l,c,d,f)}function nM(a,l,c,d,f,g){return function Ic(a,l,c,d,f,g,v,w){const E=l+c;return function Mu(a,l,c,d,f){const g=ja(a,l,c,d);return sr(a,l+2,f)||g}(a,E,f,g,v)?Jo(a,E+3,w?d.call(w,f,g,v):d(f,g,v)):ch(a,E+3)}(ke(),fi(),a,l,c,d,f,g)}function ch(a,l){const c=a[l];return c===Zt?void 0:c}function fD(a,l,c,d,f,g){const v=l+c;return sr(a,v,f)?Jo(a,v+1,g?d.call(g,f):d(f)):ch(a,v+1)}function Ov(a,l){const c=Wt();let d;const f=a+20;c.firstCreatePass?(d=function sM(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const g=d.factory||(d.factory=kr(d.type)),v=fn(Rf);try{const w=Sa(!1),E=g();return Sa(w),function kS(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,ke(),f,E),E}finally{fn(v)}}function pD(a,l,c){const d=a+20,f=ke(),g=Or(f,d);return function xl(a,l){return a[1].data[l].pure}(f,d)?fD(f,fi(),l,g.transform,c,g):g.transform(c)}function Nv(a){return l=>{setTimeout(a,void 0,l)}}const kl=class BR extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var f,g,v;let w=l,E=c||(()=>null),M=d;if(l&&"object"==typeof l){const B=l;w=null===(f=B.next)||void 0===f?void 0:f.bind(B),E=null===(g=B.error)||void 0===g?void 0:g.bind(B),M=null===(v=B.complete)||void 0===v?void 0:v.bind(B)}this.__isAsync&&(E=Nv(E),w&&(w=Nv(w)),M&&(M=Nv(M)));const k=super.subscribe({next:w,error:E,complete:M});return l instanceof z.w0&&l.add(k),k}};function UR(){return this._results[Iu()]()}class dm{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Iu(),d=dm.prototype;d[c]||(d[c]=UR)}get changes(){return this._changes||(this._changes=new kl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=yr(l);(this._changesDetected=!function xa(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],g=l[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Zf=(()=>{class a{}return a.__NG_ELEMENT_ID__=cM,a})();const mD=Zf,jR=class extends mD{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=vc(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(c)),Tg(c,d,l),new am(d)}};function cM(){return hm(On(),ke())}function hm(a,l){return 4&a.type?new jR(l,a,Lu(a,l)):null}let Rv=(()=>{class a{}return a.__NG_ELEMENT_ID__=uM,a})();function uM(){return Pv(On(),ke())}const dM=Rv,_D=class extends dM{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return Lu(this._hostTNode,this._hostLView)}get injector(){return new zs(this._hostTNode,this._hostLView)}get parentInjector(){const l=qi(this._hostTNode,this._hostLView);if(ei(l)){const c=pn(l,this._hostLView),d=pi(l);return new zs(c[1].data[d+8],c)}return new zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=jr(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const f=l.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(l,c,d,f,g){const v=l&&!function Rr(a){return"function"==typeof a}(l);let w;if(v)w=c;else{const B=c||{};w=B.index,d=B.injector,f=B.projectableNodes,g=B.ngModuleRef}const E=v?l:new lD(Qe(l)),M=d||this.parentInjector;if(!g&&null==E.ngModule){const q=(v?M:this.parentInjector).get(Vu,null);q&&(g=q)}const k=E.create(M,f,void 0,g);return this.insert(k.hostView,w),k}insert(l,c){const d=l._lView,f=d[1];if(function _a(a){return xr(a[3])}(d)){const k=this.indexOf(l);if(-1!==k)this.detach(k);else{const B=d[3],q=new _D(B,B[6],B[3]);q.detach(q.indexOf(l))}}const g=this._adjustIndex(c),v=this._lContainer;!function wg(a,l,c,d){const f=10+d,g=c.length;d>0&&(c[f-1][4]=l),d<g-10?(l[4]=c[f],Pr(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function Cg(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const w=l[19];null!==w&&w.insertView(a),l[2]|=128}(f,d,v,g);const w=tw(g,v),E=d[11],M=ly(E,v[7]);return null!==M&&function oy(a,l,c,d,f,g){d[0]=f,d[6]=l,Dg(a,d,c,1,f,g)}(f,v[6],E,d,M,w),l.attachToViewContainerRef(),Pr(yD(v),g,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=jr(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=$d(this._lContainer,c);d&&(zo(yD(this._lContainer),c),wu(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=$d(this._lContainer,c);return d&&null!=zo(yD(this._lContainer),c)?new am(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function jr(a){return a[8]}function yD(a){return a[8]||(a[8]=[])}function Pv(a,l){let c;const d=l[a.index];if(xr(d))c=d;else{let f;if(8&a.type)f=Mn(d);else{const g=l[11];f=g.createComment("");const v=Ai(a,l);zd(g,ly(g,v),f,function wN(a,l){return kn(a)?a.nextSibling(l):l.nextSibling}(g,v),!1)}l[a.index]=c=uS(d,l,f,a),Cf(l,c)}return new _D(c,a,l)}class Fv{constructor(l){this.queryList=l,this.matches=null}clone(){return new Fv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lv{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new Lv(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==jv(l,c).matches&&this.queries[c].setDirty()}}class vD{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class Vv{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(l,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Vv(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Bv{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Bv(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(l,c,pM(c,g)),this.matchTNodeWithReadOption(l,c,gl(c,l,g,!1,!1))}else d===Zf?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,gl(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===sm||f===Rv||f===Zf&&4&c.type)this.addMatch(c.index,-2);else{const g=gl(c,l,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function pM(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function mM(a,l,c,d){return-1===c?function gM(a,l){return 11&a.type?Lu(a,l):4&a.type?hm(a,l):null}(l,a):-2===c?function _M(a,l,c){return c===sm?Lu(l,a):c===Zf?hm(l,a):c===Rv?Pv(l,a):void 0}(a,l,d):vo(a,a[1],c,l)}function bD(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const g=a.data,v=c.matches,w=[];for(let E=0;E<v.length;E+=2){const M=v[E];w.push(M<0?null:mM(l,g[M],v[E+1],c.metadata.read))}f.matches=w}return f.matches}function Uv(a,l,c,d){const f=a.queries.getByIndex(c),g=f.matches;if(null!==g){const v=bD(a,l,f,c);for(let w=0;w<g.length;w+=2){const E=g[w];if(E>0)d.push(v[w/2]);else{const M=g[w+1],k=l[-E];for(let B=10;B<k.length;B++){const q=k[B];q[17]===q[3]&&Uv(q[1],q,M,d)}if(null!==k[9]){const B=k[9];for(let q=0;q<B.length;q++){const ee=B[q];Uv(ee[1],ee,M,d)}}}}}return d}function wD(a){const l=ke(),c=Wt(),d=zh();Qc(d+1);const f=jv(c,d);if(a.dirty&&Bs(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?Uv(c,l,d,[]):bD(c,l,f,d);a.reset(g,kR),a.notifyOnChanges()}return!0}return!1}function CD(a,l,c){const d=Wt();d.firstCreatePass&&(fm(d,new vD(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),bM(d,ke(),l)}function yM(a,l,c,d){const f=Wt();if(f.firstCreatePass){const g=On();fm(f,new vD(l,c,d),g.index),function uh(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}bM(f,ke(),c)}function vM(){return function GR(a,l){return a[19].queries[l].queryList}(ke(),zh())}function bM(a,l,c){const d=new dm(4==(4&c));yw(a,l,d,d.destroy),null===l[19]&&(l[19]=new Lv),l[19].queries.push(new Fv(d))}function fm(a,l,c){null===a.queries&&(a.queries=new Vv),a.queries.track(new Bv(l,c))}function jv(a,l){return a.queries.getByIndex(l)}function pm(a,l){return hm(a,l)}function Zv(...a){}const LD=new Kn("Application Initializer");let wn=(()=>{class a{constructor(c){this.appInits=c,this.resolve=Zv,this.reject=Zv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(qy(g))c.push(g);else if(hC(g)){const v=new Promise((w,E)=>{g.subscribe({complete:w,error:E})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(We(LD,8))},a.\u0275prov=hn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const vm=new Kn("AppId",{providedIn:"root",factory:function VD(){return`${no()}${no()}${no()}`}});function no(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xM=new Kn("Platform Initializer"),BD=new Kn("Platform ID"),ge=new Kn("appBootstrapListener");let hh=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();const Ht=new Kn("LocaleId",{providedIn:"root",factory:()=>Ft(Ht,_t.Optional|_t.SkipSelf)||function xc(){return"undefined"!=typeof $localize&&$localize.locale||hv}()}),kM=new Kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Gt{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let wm=(()=>{class a{compileModuleSync(c){return new um(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Va(Pt(c).declarations).reduce((v,w)=>{const E=Qe(w);return E&&v.push(new lD(E)),v},[]);return new Gt(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const OM=(()=>Promise.resolve(0))();function Qf(a){"undefined"==typeof Zone?OM.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class na{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kl(!1),this.onMicrotaskEmpty=new kl(!1),this.onStable=new kl(!1),this.onError=new kl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function NM(){let a=Jt.requestAnimationFrame,l=Jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Dr(a){const l=()=>{!function Dm(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Jt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,$a(a),a.isCheckStableRunning=!0,Ji(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),$a(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,v,w)=>{try{return jD(a),c.invokeTask(f,g,v,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),HD(a)}},onInvoke:(c,d,f,g,v,w,E)=>{try{return jD(a),c.invoke(f,g,v,w,E)}finally{a.shouldCoalesceRunChangeDetection&&l(),HD(a)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,$a(a),Ji(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!na.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(na.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,l,RM,Zv,Zv);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const RM={};function Ji(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function $a(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function jD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function HD(a){a._nesting--,Ji(a)}class GD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kl,this.onMicrotaskEmpty=new kl,this.onStable=new kl,this.onError=new kl}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}let Kv=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{na.assertNotInAngularZone(),Qf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qf(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(We(na))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})(),$D=(()=>{class a{constructor(){this._applications=new Map,fh.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return fh.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();class zD{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function Jv(a){fh=a}let Ao,fh=new zD;const Qv=new Kn("AllowMultipleToken");class WD{constructor(l,c){this.name=l,this.token=c}}function eb(a,l,c=[]){const d=`Platform: ${l}`,f=new Kn(d);return(g=[])=>{let v=Em();if(!v||v.injector.get(Qv,!1))if(a)a(c.concat(g).concat({provide:f,useValue:!0}));else{const w=c.concat(g).concat({provide:f,useValue:!0},{provide:Ow,useValue:"platform"});!function Xv(a){if(Ao&&!Ao.destroyed&&!Ao.injector.get(Qv,!1))throw new Be(400,"");Ao=a.get(YD);const l=a.get(xM,null);l&&l.forEach(c=>c())}(Yo.create({providers:w,name:d}))}return function ZD(a){const l=Em();if(!l)throw new Be(401,"");return l}()}}function Em(){return Ao&&!Ao.destroyed?Ao:null}let YD=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function FM(a,l){let c;return c="noop"===a?new GD:("zone.js"===a?void 0:a)||new na({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:na,useValue:w}];return w.run(()=>{const M=Yo.create({providers:E,parent:this.injector,name:c.moduleType.name}),k=c.create(M),B=k.injector.get(mg,null);if(!B)throw new Be(402,"");return w.runOutsideAngular(()=>{const q=w.onError.subscribe({next:ee=>{B.handleError(ee)}});k.onDestroy(()=>{Tm(this._modules,k),q.unsubscribe()})}),function ph(a,l,c){try{const d=c();return qy(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(B,w,()=>{const q=k.injector.get(wn);return q.runInitializers(),q.donePromise.then(()=>(function pI(a){(function mt(a,l){null==a&&bt(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(Ki=a.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Ht,hv)||hv),this._moduleDoBootstrap(k),k))})})}bootstrapModule(c,d=[]){const f=tb({},d);return function us(a,l,c){const d=new um(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(Xf);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Be(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(We(Yo))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();function tb(a,l){return Array.isArray(l)?l.reduce(tb,a):Object.assign(Object.assign({},a),l)}let Xf=(()=>{class a{constructor(c,d,f,g,v){this._zone=c,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new R.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),E=new R.y(M=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{na.assertNotInAngularZone(),Qf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{na.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{k.unsubscribe(),B.unsubscribe()}});this.isStable=(0,ae.T)(w,E.pipe((0,se.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Be(405,"");let f;f=c instanceof $I?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(f.componentType);const g=function ds(a){return a.isBoundToModule}(f)?void 0:this._injector.get(Vu),w=f.create(Yo.NULL,[],d||f.selector,g),E=w.location.nativeElement,M=w.injector.get(Kv,null),k=M&&w.injector.get($D);return M&&k&&k.registerApplication(E,M),w.onDestroy(()=>{this.detachView(w.hostView),Tm(this.components,w),k&&k.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Be(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Tm(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(ge,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(We(na),We(Yo),We(mg),We(Ev),We(wn))},a.\u0275prov=hn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Tm(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let ep=!0,Sm=!1;function nb(){return Sm=!0,ep}function ib(){if(Sm)throw new Error("Cannot enable prod mode after platform setup.");ep=!1}let QD=(()=>{class a{}return a.__NG_ELEMENT_ID__=LM,a})();function LM(a){return function VM(a,l,c){if(la(a)&&!c){const d=tr(a.index,l);return new am(d,d)}return 47&a.type?new am(l[16],l):null}(On(),ke(),16==(16&a))}class Lm{constructor(){}supports(l){return Rg(l)}create(l){return new Er(l)}}const ar=(a,l)=>l;class Er{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||ar}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<nE(d,f,g)?c:d,w=nE(v,f,g),E=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{g||(g=[]);const M=w-f,k=E-f;if(M!=k){for(let q=0;q<M;q++){const ee=q<g.length?g[q]:g[q]=0,Ce=ee+q;k<=Ce&&Ce<M&&(g[q]=ee+1)}g[v.previousIndex]=k-M}}w!==E&&l(v,w,E)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Rg(l))throw new Be(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)g=l[w],v=this._trackByFn(w,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,w)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,w),d=!0),c=c._next}else f=0,function My(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Iu()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,w=>{v=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,w,v,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,g,f)):l=this._addAfter(new Vm(c,d),g,f),l}_verifyReinsertion(l,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new tE),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tE),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Vm{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sb{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class tE{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new sb,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nE(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class ob{constructor(){}supports(l){return l instanceof Map||Ay(l)}create(){return new HM}}class HM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||Ay(l)))throw new Be(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new GM(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class GM{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bm(){return new tp([new Lm])}let tp=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Bm()),deps:[[a,new Zi,new br]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Be(901,"")}}return a.\u0275prov=hn({token:a,providedIn:"root",factory:Bm}),a})();function Um(){return new jm([new ob])}let jm=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Um()),deps:[[a,new Zi,new br]]}}find(c){const d=this.factories.find(g=>g.supports(c));if(d)return d;throw new Be(901,"")}}return a.\u0275prov=hn({token:a,providedIn:"root",factory:Um}),a})();const qM=eb(null,"core",[{provide:BD,useValue:"unknown"},{provide:YD,deps:[Yo]},{provide:$D,deps:[]},{provide:hh,deps:[]}]);let np=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(We(Xf))},a.\u0275mod=L({type:a}),a.\u0275inj=un({}),a})()},3942:(gt,Ae,F)=>{F.d(Ae,{Z:()=>Be});var s=F(2090),z=F(4859),R=F(9681),ae=F(1877);class se{constructor(ve,Te){this._delegate=ve,this.firebase=Te,(0,R._addComponent)(ve,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(ve,Te=R._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(ve);return!qe.isInitialized()&&"EXPLICIT"===(null===(rt=qe.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:Te})}_removeServiceInstance(ve,Te=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(Te)}_addComponent(ve){(0,R._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,R._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function ye(){const He=function de(He){const ve={},Te={__esModule:!0,initializeApp:function Re(re,tt={}){const Q=R.initializeApp(re,tt);if((0,s.r3)(ve,Q.name))return ve[Q.name];const fe=new He(Q,Te);return ve[Q.name]=fe,fe},app:qe,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Ee(re){const tt=re.name,Q=tt.replace("-compat","");if(R._registerComponent(re)&&"PUBLIC"===re.type){const fe=(he=qe())=>{if("function"!=typeof he[Q])throw ne.create("invalid-app-argument",{appName:tt});return he[Q]()};void 0!==re.serviceProps&&(0,s.ZB)(fe,re.serviceProps),Te[Q]=fe,He.prototype[Q]=function(...he){return this._getService.bind(this,tt).apply(this,re.multipleInstances?he:[])}}return"PUBLIC"===re.type?Te[Q]:null},removeApp:function rt(re){delete ve[re]},useAsService:function Xe(re,tt){return"serverAuth"===tt?null:tt},modularAPIs:R}};function qe(re){if(!(0,s.r3)(ve,re=re||R._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:re});return ve[re]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function Oe(){return Object.keys(ve).map(re=>ve[re])}}),qe.App=He,Te}(se);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function ve(Te){(0,s.ZB)(He,Te)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),He}(),Z=new ae.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=Y;!function Pe(He){(0,R.registerVersion)("@firebase/app-compat","0.1.20",He)}()},9681:(gt,Ae,F)=>{F.r(Ae),F.d(Ae,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>ys,_DEFAULT_ENTRY_NAME:()=>Gn,_addComponent:()=>bn,_addOrOverwriteComponent:()=>Ir,_apps:()=>bt,_clearComponents:()=>Bn,_components:()=>En,_getProvider:()=>an,_registerComponent:()=>hn,_removeServiceInstance:()=>un,deleteApp:()=>Ns,getApp:()=>Ci,getApps:()=>Mi,initializeApp:()=>Mr,onLog:()=>$n,registerVersion:()=>Ui,setLogLevel:()=>fn});var s=F(5861),z=F(4859),R=F(1877),ae=F(2090);class se{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function be(Ke){const Ie=Ke.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(st)){const vt=st.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(st=>st).join(" ")}}const ne="@firebase/app",ye=new R.Yd("@firebase/app"),Gn="[DEFAULT]",mt={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bt=new Map,En=new Map;function bn(Ke,Ie){try{Ke.container.addComponent(Ie)}catch(st){ye.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Ke.name}`,st)}}function Ir(Ke,Ie){Ke.container.addOrOverwriteComponent(Ie)}function hn(Ke){const Ie=Ke.name;if(En.has(Ie))return ye.debug(`There were multiple attempts to register component ${Ie}.`),!1;En.set(Ie,Ke);for(const st of bt.values())bn(st,Ke);return!0}function an(Ke,Ie){const st=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),Ke.container.getProvider(Ie)}function un(Ke,Ie,st=Gn){an(Ke,Ie).clearInstance(st)}function Bn(){En.clear()}const Bi=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ii{constructor(Ie,st,vt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}const ys="9.6.9";function Mr(Ke,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const st=Object.assign({name:Gn,automaticDataCollectionEnabled:!1},Ie),vt=st.name;if("string"!=typeof vt||!vt)throw Bi.create("bad-app-name",{appName:String(vt)});const Ut=bt.get(vt);if(Ut){if((0,ae.vZ)(Ke,Ut.options)&&(0,ae.vZ)(st,Ut.config))return Ut;throw Bi.create("duplicate-app",{appName:vt})}const jt=new z.H0(vt);for(const H of En.values())jt.addComponent(H);const K=new Ii(Ke,st,jt);return bt.set(vt,K),K}function Ci(Ke=Gn){const Ie=bt.get(Ke);if(!Ie)throw Bi.create("no-app",{appName:Ke});return Ie}function Mi(){return Array.from(bt.values())}function Ns(Ke){return _t.apply(this,arguments)}function _t(){return(_t=(0,s.Z)(function*(Ke){const Ie=Ke.name;bt.has(Ie)&&(bt.delete(Ie),yield Promise.all(Ke.container.getProviders().map(st=>st.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function Ui(Ke,Ie,st){var vt;let Ut=null!==(vt=mt[Ke])&&void 0!==vt?vt:Ke;st&&(Ut+=`-${st}`);const jt=Ut.match(/\s|\//),K=Ie.match(/\s|\//);if(jt||K){const H=[`Unable to register library "${Ut}" with version "${Ie}":`];return jt&&H.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),jt&&K&&H.push("and"),K&&H.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void ye.warn(H.join(" "))}hn(new z.wA(`${Ut}-version`,()=>({library:Ut,version:Ie}),"VERSION"))}function $n(Ke,Ie){if(null!==Ke&&"function"!=typeof Ke)throw Bi.create("invalid-log-argument");(0,R.Am)(Ke,Ie)}function fn(Ke){(0,R.Ub)(Ke)}const zn="firebase-heartbeat-store";let Un=null;function er(){return Un||(Un=(0,ae.X3)("firebase-heartbeat-database",1,(Ke,Ie)=>{0===Ie&&Ke.createObjectStore(zn)}).catch(Ke=>{throw Bi.create("storage-open",{originalErrorMessage:Ke.message})})),Un}function Yt(){return(Yt=(0,s.Z)(function*(Ke){try{return(yield er()).transaction(zn).objectStore(zn).get(gr(Ke))}catch(Ie){throw Bi.create("storage-get",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function yt(Ke,Ie){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.Z)(function*(Ke,Ie){try{const vt=(yield er()).transaction(zn,"readwrite");return yield vt.objectStore(zn).put(Ie,gr(Ke)),vt.complete}catch(st){throw Bi.create("storage-set",{originalErrorMessage:st.message})}})).apply(this,arguments)}function gr(Ke){return`${Ke.name}!${Ke.options.appId}`}class bs{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new Ct(st),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var Ie=this;return(0,s.Z)(function*(){const vt=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=qn();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!Ie._heartbeatsCache.heartbeats.some(jt=>jt.date===Ut))return Ie._heartbeatsCache.heartbeats.push({date:Ut,agent:vt}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(jt=>{const K=new Date(jt.date).valueOf();return Date.now()-K<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,s.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const st=qn(),{heartbeatsToSend:vt,unsentEntries:Ut}=function _n(Ke,Ie=1024){const st=[];let vt=Ke.slice();for(const Ut of Ke){const jt=st.find(K=>K.agent===Ut.agent);if(jt){if(jt.dates.push(Ut.date),Wn(st)>Ie){jt.dates.pop();break}}else if(st.push({agent:Ut.agent,dates:[Ut.date]}),Wn(st)>Ie){st.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:st,unsentEntries:vt}}(Ie._heartbeatsCache.heartbeats),jt=(0,ae.L)(JSON.stringify({version:2,heartbeats:vt}));return Ie._heartbeatsCache.lastSentHeartbeatDate=st,Ut.length>0?(Ie._heartbeatsCache.heartbeats=Ut,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),jt})()}}function qn(){return(new Date).toISOString().substring(0,10)}class Ct{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,s.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function No(Ke){return Yt.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var st=this;return(0,s.Z)(function*(){var vt;if(yield st._canUseIndexedDBPromise){const jt=yield st.read();return yt(st.app,{lastSentHeartbeatDate:null!==(vt=Ie.lastSentHeartbeatDate)&&void 0!==vt?vt:jt.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var st=this;return(0,s.Z)(function*(){var vt;if(yield st._canUseIndexedDBPromise){const jt=yield st.read();return yt(st.app,{lastSentHeartbeatDate:null!==(vt=Ie.lastSentHeartbeatDate)&&void 0!==vt?vt:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...Ie.heartbeats]})}})()}}function Wn(Ke){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function Qt(Ke){hn(new z.wA("platform-logger",Ie=>new se(Ie),"PRIVATE")),hn(new z.wA("heartbeat",Ie=>new bs(Ie),"PRIVATE")),Ui(ne,"0.7.19",Ke),Ui(ne,"0.7.19","esm2017"),Ui("fire-js","")}("")},4859:(gt,Ae,F)=>{F.d(Ae,{wA:()=>R,H0:()=>de});var s=F(5861),z=F(2090);class R{constructor(Y,Z,ie){this.name=Y,this.instanceFactory=Z,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const ae="[DEFAULT]";class se{constructor(Y,Z){this.name=Y,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const Z=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(Z)){const ie=new z.BH;if(this.instancesDeferred.set(Z,ie),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:Z});Je&&ie.resolve(Je)}catch(Je){}}return this.instancesDeferred.get(Z).promise}getImmediate(Y){var Z;const ie=this.normalizeInstanceIdentifier(null==Y?void 0:Y.identifier),Je=null!==(Z=null==Y?void 0:Y.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Pe){if(Je)return null;throw Pe}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function ne(ye){return"EAGER"===ye.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(Z){}for(const[Z,ie]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(Z);try{const Pe=this.getOrInitializeService({instanceIdentifier:Je});ie.resolve(Pe)}catch(Pe){}}}}clearInstance(Y=ae){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,s.Z)(function*(){const Z=Array.from(Y.instances.values());yield Promise.all([...Z.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...Z.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=ae){return this.instances.has(Y)}getOptions(Y=ae){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:Z={}}=Y,ie=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:ie,options:Z});for(const[Pe,Be]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Pe)&&Be.resolve(Je);return Je}onInit(Y,Z){var ie;const Je=this.normalizeInstanceIdentifier(Z),Pe=null!==(ie=this.onInitCallbacks.get(Je))&&void 0!==ie?ie:new Set;Pe.add(Y),this.onInitCallbacks.set(Je,Pe);const Be=this.instances.get(Je);return Be&&Y(Be,Je),()=>{Pe.delete(Y)}}invokeOnInitCallbacks(Y,Z){const ie=this.onInitCallbacks.get(Z);if(ie)for(const Je of ie)try{Je(Y,Z)}catch(Pe){}}getOrInitializeService({instanceIdentifier:Y,options:Z={}}){let ie=this.instances.get(Y);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=Y,ye===ae?void 0:ye),options:Z}),this.instances.set(Y,ie),this.instancesOptions.set(Y,Z),this.invokeOnInitCallbacks(ie,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,ie)}catch(Je){}var ye;return ie||null}normalizeInstanceIdentifier(Y=ae){return this.component?this.component.multipleInstances?Y:ae:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const Z=this.getProvider(Y.name);if(Z.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);Z.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const Z=new se(Y,this);return this.providers.set(Y,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(gt,Ae,F)=>{F.d(Ae,{in:()=>z,Yd:()=>ne,Ub:()=>de,Am:()=>ye});const s=[];var z=(()=>{return(Y=z||(z={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",z;var Y})();const R={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},ae=z.INFO,se={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},be=(Y,Z,...ie)=>{if(Z<Y.logLevel)return;const Je=(new Date).toISOString(),Pe=se[Z];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Pe](`[${Je}]  ${Y.name}:`,...ie)};class ne{constructor(Z){this.name=Z,this._logLevel=ae,this._logHandler=be,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in z))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?R[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...Z),this._logHandler(this,z.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...Z),this._logHandler(this,z.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,z.INFO,...Z),this._logHandler(this,z.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,z.WARN,...Z),this._logHandler(this,z.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...Z),this._logHandler(this,z.ERROR,...Z)}}function de(Y){s.forEach(Z=>{Z.setLogLevel(Y)})}function ye(Y,Z){for(const ie of s){let Je=null;Z&&Z.level&&(Je=R[Z.level]),ie.userLogHandler=null===Y?null:(Pe,Be,...He)=>{const ve=He.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch(rt){return null}}).filter(Te=>Te).join(" ");Be>=(null!=Je?Je:Pe.logLevel)&&Y({level:z[Be].toLowerCase(),message:ve,args:He,type:Pe.name})}}}},5861:(gt,Ae,F)=>{function s(R,ae,se,be,ne,de,ye){try{var Y=R[de](ye),Z=Y.value}catch(ie){return void se(ie)}Y.done?ae(Z):Promise.resolve(Z).then(be,ne)}function z(R){return function(){var ae=this,se=arguments;return new Promise(function(be,ne){var de=R.apply(ae,se);function ye(Z){s(de,be,ne,ye,Y,"next",Z)}function Y(Z){s(de,be,ne,ye,Y,"throw",Z)}ye(void 0)})}}F.d(Ae,{Z:()=>z})}},gt=>{gt(gt.s=9046)}]);