"use strict";(self.webpackChunkUniCar=self.webpackChunkUniCar||[]).push([[179],{2011:(_t,Ie,L)=>{L.d(Ie,{xv:()=>me,Dh:()=>fe,GT:()=>De,cc:()=>Ye,on:()=>xe,pX:()=>de});var c=L(5e3),j=L(127);_t=L.hmd(_t);const F=["ngOnDestroy"],de=(te,Te,Je,$e={})=>new Proxy(te,{get:(Ae,be)=>Je.runOutsideAngular(()=>{var pe;if(te[be])return(null===(pe=null==$e?void 0:$e.spy)||void 0===pe?void 0:pe.get)&&$e.spy.get(be,te[be]),te[be];if(F.indexOf(be)>-1)return()=>{};const je=Te.toPromise().then(ee=>{const ze=ee&&ee[be];return"function"==typeof ze?ze.bind(ee):ze&&ze.then?ze.then(J=>Je.run(()=>J)):Je.run(()=>ze)});return new Proxy(()=>{},{get:(ee,ze)=>je[ze],apply:(ee,ze,J)=>je.then(le=>{var ie;const ce=le&&le(...J);return(null===(ie=null==$e?void 0:$e.spy)||void 0===ie?void 0:ie.apply)&&$e.spy.apply(be,J,ce),ce})})})}),De=(te,Te)=>{Te.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach($e=>{Object.defineProperty(te.prototype,$e,Object.getOwnPropertyDescriptor(Je.prototype||Je,$e))})})};class Ce{constructor(Te){return Te}}const fe=new c.OlP("angularfire2.app.options"),me=new c.OlP("angularfire2.app.name");function xe(te,Te,Je){const Ae="object"==typeof Je&&Je||{};Ae.name=Ae.name||"string"==typeof Je&&Je||"[DEFAULT]";const pe=j.Z.apps.filter(je=>je&&je.name===Ae.name)[0]||Te.runOutsideAngular(()=>j.Z.initializeApp(te,Ae));try{JSON.stringify(te)!==JSON.stringify(pe.options)&&W("error",`${pe.name} Firebase App already initialized with different options${_t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new Ce(pe)}const W=(te,...Te)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[te](...Te)};function Ye(te,Te,Je,$e,Ae){const[,be,pe]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===te)||[];if(be)return function Ne(te,Te){try{return te.toString()===Te.toString()}catch(Je){return te===Te}}(Ae,pe)||(ke("error",`${Te} was already initialized on the ${Je} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),ke("warn",{is:Ae,was:pe})),be;{const je=$e();return globalThis.\u0275AngularfireInstanceCache.push([te,je,Ae]),je}}const Ve=!!_t.hot,ke=(te,...Te)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[te](...Te)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},760:(_t,Ie,L)=>{L.d(Ie,{$:()=>Sf,A:()=>$,E:()=>Bt,G:()=>Ui,I:()=>ys,K:()=>B,L:()=>Ef,M:()=>om,N:()=>tl,P:()=>yl,Q:()=>dc,R:()=>Em,T:()=>Lr,U:()=>pa,V:()=>lm,W:()=>f0,X:()=>yi,Y:()=>mc,Z:()=>ji,_:()=>bs,a:()=>va,a0:()=>um,a1:()=>dm,a2:()=>we,a3:()=>hm,a4:()=>bc,a5:()=>Vr,a6:()=>ed,a7:()=>p0,a8:()=>Af,a9:()=>ws,aA:()=>As,aB:()=>Ia,aC:()=>un,aG:()=>Qs,aJ:()=>nl,aa:()=>ya,ab:()=>fm,ae:()=>nd,af:()=>gm,ag:()=>id,aj:()=>Tf,ak:()=>vm,am:()=>od,an:()=>Ic,ao:()=>gn,ap:()=>J,aq:()=>Tt,ar:()=>We,as:()=>$e,at:()=>Fc,au:()=>Cl,av:()=>Ae,aw:()=>ee,ax:()=>ie,ay:()=>q,az:()=>Ms,b:()=>An,c:()=>Lf,d:()=>Vf,e:()=>$E,f:()=>jf,g:()=>Hf,h:()=>xm,i:()=>pl,j:()=>Gf,k:()=>qo,l:()=>Vn,m:()=>qf,o:()=>me,r:()=>tr,s:()=>eo,u:()=>Is,z:()=>Ne});var c=L(5861),j=L(2090),F=L(9681),de=L(655),De=L(1877),Ce=L(4859);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ke=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new De.Yd("@firebase/auth");function Je(b,...m){Te.logLevel<=De.in.ERROR&&Te.error(`Auth (${F.SDK_VERSION}): ${b}`,...m)}function $e(b,...m){throw je(b,...m)}function Ae(b,...m){return je(b,...m)}function be(b,m,_){const D=Object.assign(Object.assign({},Ve()),{[m]:_});return new j.LL("auth","Firebase",D).create(m,{appName:b.name})}function pe(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&$e(b,"argument-error"),be(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(b,...m){if("string"!=typeof b){const _=m[0],D=[...m.slice(1)];return D[0]&&(D[0].appName=b.name),b._errorFactory.create(_,...D)}return ke.create(b,...m)}function ee(b,m,..._){if(!b)throw je(m,..._)}function ze(b){const m="INTERNAL ASSERTION FAILED: "+b;throw Je(m),new Error(m)}function J(b,m){b||ze(m)}const le=new Map;function ie(b){J(b instanceof Function,"Expected a class definition");let m=le.get(b);return m?(J(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,le.set(b,m),m)}function ne(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function It(){return"http:"===Xt()||"https:"===Xt()}function Xt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class ht{constructor(m,_){this.shortDelay=m,this.longDelay=_,J(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function zn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function En(b,m){J(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class wn{static initialize(m,_,D){this.fetchImpl=m,_&&(this.headersImpl=_),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nn=new ht(3e4,6e4);function Jt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function rn(b,m,_,D){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(b,m,_,D,M={}){return kr(b,M,(0,c.Z)(function*(){let R={},Q={};D&&("GET"===m?Q=D:R={body:JSON.stringify(D)});const ve=(0,j.xO)(Object.assign({key:b.config.apiKey},Q)).slice(1),rt=yield b._getAdditionalHeaders();return rt["Content-Type"]="application/json",b.languageCode&&(rt["X-Firebase-Locale"]=b.languageCode),wn.fetch()(br(b,b.config.apiHost,_,ve),Object.assign({method:m,headers:rt,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function kr(b,m,_){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(b,m,_){b._canInitEmulator=!1;const D=Object.assign(Object.assign({},Nr),m);try{const M=new Rr(b),R=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Q=yield R.json();if("needConfirmation"in Q)throw Vi(b,"account-exists-with-different-credential",Q);if(R.ok&&!("errorMessage"in Q))return Q;{const ve=R.ok?Q.errorMessage:Q.error.message,[rt,mt]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rt)throw Vi(b,"credential-already-in-use",Q);if("EMAIL_EXISTS"===rt)throw Vi(b,"email-already-in-use",Q);const kt=D[rt]||rt.toLowerCase().replace(/[_\s]+/g,"-");if(mt)throw be(b,kt,mt);$e(b,kt)}}catch(M){if(M instanceof j.ZR)throw M;$e(b,"network-request-failed")}})).apply(this,arguments)}function Mi(b,m,_,D){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(b,m,_,D,M={}){const R=yield rn(b,m,_,D,M);return"mfaPendingCredential"in R&&$e(b,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function br(b,m,_,D){const M=`${m}${_}?${D}`;return b.config.emulator?En(b.config,M):`${b.config.apiScheme}://${M}`}class Rr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,D)=>{this.timer=setTimeout(()=>D(Ae(this.auth,"network-request-failed")),nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vi(b,m,_){const D={appName:b.name};_.email&&(D.email=_.email),_.phoneNumber&&(D.phoneNumber=_.phoneNumber);const M=Ae(b,m,D);return M.customData._tokenResponse=_,M}function pt(){return(pt=(0,c.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Qi(b,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function an(b,m){return pi.apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Jr(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Bi(){return(Bi=(0,c.Z)(function*(b,m=!1){const _=(0,j.m9)(b),D=yield _.getIdToken(m),M=Vt(D);ee(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const R="object"==typeof M.firebase?M.firebase:void 0,Q=null==R?void 0:R.sign_in_provider;return{claims:M,token:D,authTime:Jr(So(M.auth_time)),issuedAtTime:Jr(So(M.iat)),expirationTime:Jr(So(M.exp)),signInProvider:Q||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function So(b){return 1e3*Number(b)}function Vt(b){const[m,_,D]=b.split(".");if(void 0===m||void 0===_||void 0===D)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(_);return M?JSON.parse(M):(Je("Failed to decode base64 JWT payload"),null)}catch(M){return Je("Caught error parsing JWT payload as JSON",M),null}}function it(b,m){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(D){throw D instanceof j.ZR&&ms(D)&&b.auth.currentUser===b&&(yield b.auth.signOut()),D}})).apply(this,arguments)}function ms({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Ht{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const D=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),D)}iteration(){var m=this;return(0,c.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class Qr{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jr(this.lastLoginAt),this.creationTime=Jr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kn(b){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(b){var m;const _=b.auth,D=yield b.getIdToken(),M=yield it(b,an(_,{idToken:D}));ee(null==M?void 0:M.users.length,_,"internal-error");const R=M.users[0];b._notifyReloadListener(R);const Q=(null===(m=R.providerUserInfo)||void 0===m?void 0:m.length)?Ue(R.providerUserInfo):[],ve=$t(b.providerData,Q),kt=!!b.isAnonymous&&!(b.email&&R.passwordHash||(null==ve?void 0:ve.length)),Dn={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ve,metadata:new Qr(R.createdAt,R.lastLoginAt),isAnonymous:kt};Object.assign(b,Dn)})).apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(b){const m=(0,j.m9)(b);yield kn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function $t(b,m){return[...b.filter(D=>!m.some(M=>M.providerId===D.providerId)),...m]}function Ue(b){return b.map(m=>{var{providerId:_}=m,D=(0,de._T)(m,["providerId"]);return{providerId:_,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Xe(){return(Xe=(0,c.Z)(function*(b,m){const _=yield kr(b,{},(0,c.Z)(function*(){const D=(0,j.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:R}=b.config,Q=br(b,M,"/v1/token",`key=${R}`),ve=yield b._getAdditionalHeaders();return ve["Content-Type"]="application/x-www-form-urlencoded",wn.fetch()(Q,{method:"POST",headers:ve,body:D})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class dt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ee(m.idToken,"internal-error"),ee(void 0!==m.idToken,"internal-error"),ee(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function ft(b){const m=Vt(b);return ee(m,"internal-error"),ee(void 0!==m.exp,"internal-error"),ee(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var D=this;return(0,c.Z)(function*(){return ee(!D.accessToken||D.refreshToken,m,"user-token-expired"),_||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(m,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var D=this;return(0,c.Z)(function*(){const{accessToken:M,refreshToken:R,expiresIn:Q}=yield function _e(b,m){return Xe.apply(this,arguments)}(m,_);D.updateTokensAndExpiration(M,R,Number(Q))})()}updateTokensAndExpiration(m,_,D){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(m,_){const{refreshToken:D,accessToken:M,expirationTime:R}=_,Q=new dt;return D&&(ee("string"==typeof D,"internal-error",{appName:m}),Q.refreshToken=D),M&&(ee("string"==typeof M,"internal-error",{appName:m}),Q.accessToken=M),R&&(ee("number"==typeof R,"internal-error",{appName:m}),Q.expirationTime=R),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new dt,this.toJSON())}_performRefresh(){return ze("not implemented")}}function Ft(b,m){ee("string"==typeof b||void 0===b,"internal-error",{appName:m})}class Pt{constructor(m){var{uid:_,auth:D,stsTokenManager:M}=m,R=(0,de._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ht(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=D,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Qr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,c.Z)(function*(){const D=yield it(_,_.stsTokenManager.getToken(_.auth,m));return ee(D,_.auth,"internal-error"),_.accessToken!==D&&(_.accessToken=D,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),D})()}getIdTokenResult(m){return function Fn(b){return Bi.apply(this,arguments)}(this,m)}reload(){return function gt(b){return Yn.apply(this,arguments)}(this)}_assign(m){this!==m&&(ee(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Pt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var D=this;return(0,c.Z)(function*(){let M=!1;m.idToken&&m.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield kn(D)),yield D.auth._persistUserIfCurrent(D),M&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var m=this;return(0,c.Z)(function*(){const _=yield m.getIdToken();return yield it(m,function To(b,m){return pt.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var D,M,R,Q,ve,rt,mt,kt;const Dn=null!==(D=_.displayName)&&void 0!==D?D:void 0,rs=null!==(M=_.email)&&void 0!==M?M:void 0,Yo=null!==(R=_.phoneNumber)&&void 0!==R?R:void 0,Il=null!==(Q=_.photoURL)&&void 0!==Q?Q:void 0,Na=null!==(ve=_.tenantId)&&void 0!==ve?ve:void 0,Tl=null!==(rt=_._redirectEventId)&&void 0!==rt?rt:void 0,Kf=null!==(mt=_.createdAt)&&void 0!==mt?mt:void 0,Vm=null!==(kt=_.lastLoginAt)&&void 0!==kt?kt:void 0,{uid:Sl,emailVerified:so,isAnonymous:Jf,providerData:Bc,stsTokenManager:Qf}=_;ee(Sl&&Qf,m,"internal-error");const Bd=dt.fromJSON(this.name,Qf);ee("string"==typeof Sl,m,"internal-error"),Ft(Dn,m.name),Ft(rs,m.name),ee("boolean"==typeof so,m,"internal-error"),ee("boolean"==typeof Jf,m,"internal-error"),Ft(Yo,m.name),Ft(Il,m.name),Ft(Na,m.name),Ft(Tl,m.name),Ft(Kf,m.name),Ft(Vm,m.name);const ka=new Pt({uid:Sl,auth:m,email:rs,emailVerified:so,displayName:Dn,isAnonymous:Jf,photoURL:Il,phoneNumber:Yo,tenantId:Na,stsTokenManager:Bd,createdAt:Kf,lastLoginAt:Vm});return Bc&&Array.isArray(Bc)&&(ka.providerData=Bc.map(Xf=>Object.assign({},Xf))),Tl&&(ka._redirectEventId=Tl),ka}static _fromIdTokenResponse(m,_,D=!1){return(0,c.Z)(function*(){const M=new dt;M.updateFromServerResponse(_);const R=new Pt({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:D});return yield kn(R),R})()}}const B=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,D){var M=this;return(0,c.Z)(function*(){M.storage[_]=D})()}_get(_){var D=this;return(0,c.Z)(function*(){const M=D.storage[_];return void 0===M?null:M})()}_remove(_){var D=this;return(0,c.Z)(function*(){delete D.storage[_]})()}_addListener(_,D){}_removeListener(_,D){}}return b.type="NONE",b})();function q(b,m,_){return`firebase:${b}:${m}:${_}`}class ae{constructor(m,_,D){this.persistence=m,this.auth=_,this.userKey=D;const{config:M,name:R}=this.auth;this.fullUserKey=q(this.userKey,M.apiKey,R),this.fullPersistenceKey=q("persistence",M.apiKey,R),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Pt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,c.Z)(function*(){if(_.persistence===m)return;const D=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,D?_.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,D="authUser"){return(0,c.Z)(function*(){if(!_.length)return new ae(ie(B),m,D);const M=(yield Promise.all(_.map(function(){var mt=(0,c.Z)(function*(kt){if(yield kt._isAvailable())return kt});return function(kt){return mt.apply(this,arguments)}}()))).filter(mt=>mt);let R=M[0]||ie(B);const Q=q(D,m.config.apiKey,m.name);let ve=null;for(const mt of _)try{const kt=yield mt._get(Q);if(kt){const Dn=Pt._fromJSON(m,kt);mt!==R&&(ve=Dn),R=mt;break}}catch(kt){}const rt=M.filter(mt=>mt._shouldAllowMigration);return R._shouldAllowMigration&&rt.length?(R=rt[0],ve&&(yield R._set(Q,ve.toJSON())),yield Promise.all(_.map(function(){var mt=(0,c.Z)(function*(kt){if(kt!==R)try{yield kt._remove(Q)}catch(Dn){}});return function(kt){return mt.apply(this,arguments)}}())),new ae(R,m,D)):new ae(R,m,D)})()}}function k(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Fe(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(P(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Dt(m))return"Blackberry";if(tt(m))return"Webos";if(U(m))return"Safari";if((m.includes("chrome/")||re(m))&&!m.includes("edge/"))return"Chrome";if(We(m))return"Android";{const D=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function P(b=(0,j.z$)()){return/firefox\//i.test(b)}function U(b=(0,j.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function re(b=(0,j.z$)()){return/crios\//i.test(b)}function Fe(b=(0,j.z$)()){return/iemobile/i.test(b)}function We(b=(0,j.z$)()){return/android/i.test(b)}function Dt(b=(0,j.z$)()){return/blackberry/i.test(b)}function tt(b=(0,j.z$)()){return/webos/i.test(b)}function Tt(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)}function gn(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function mi(b=(0,j.z$)()){return Tt(b)||We(b)||tt(b)||Dt(b)||/windows phone/i.test(b)||Fe(b)}function ai(b,m=[]){let _;switch(b){case"Browser":_=k((0,j.z$)());break;case"Worker":_=`${k((0,j.z$)())}-${b}`;break;default:_=b}const D=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${F.SDK_VERSION}/${D}`}class $u{constructor(m,_,D){this.app=m,this.heartbeatServiceProvider=_,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ge(this),this.idTokenSubscription=new Ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(m,_){var D=this;return _&&(this._popupRedirectResolver=ie(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var M,R;if(!D._deleted&&(D.persistenceManager=yield ae.create(D,m),!D._deleted)){if(null===(M=D._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(Q){}yield D.initializeCurrentUser(_),D.lastNotifiedUid=(null===(R=D.currentUser)||void 0===R?void 0:R.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_)}})()}initializeCurrentUser(m){var _=this;return(0,c.Z)(function*(){var D;let M=yield _.assertedPersistence.getCurrentUser();if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const R=null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId,Q=null==M?void 0:M._redirectEventId,ve=yield _.tryRedirectSignIn(m);(!R||R===Q)&&(null==ve?void 0:ve.user)&&(M=ve.user)}return M?M._redirectEventId?(ee(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)):_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var _=this;return(0,c.Z)(function*(){let D=null;try{D=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(M){yield _._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,c.Z)(function*(){try{yield kn(m)}catch(D){if("auth/network-request-failed"!==D.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ut(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,c.Z)(function*(){const D=m?(0,j.m9)(m):null;return D&&ee(D.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(D&&D._clone(_))})()}_updateCurrentUser(m){var _=this;return(0,c.Z)(function*(){if(!_._deleted)return m&&ee(_.tenantId===m.tenantId,_,"tenant-id-mismatch"),_.queue((0,c.Z)(function*(){yield _.directlySetCurrentUser(m),_.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(ie(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new j.LL("auth","Firebase",m())}onAuthStateChanged(m,_,D){return this.registerStateListener(this.authStateSubscription,m,_,D)}onIdTokenChanged(m,_,D){return this.registerStateListener(this.idTokenSubscription,m,_,D)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var D=this;return(0,c.Z)(function*(){const M=yield D.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const D=m&&ie(m)||_._popupRedirectResolver;ee(D,_,"argument-error"),_.redirectPersistenceManager=yield ae.create(_,[ie(D._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,c.Z)(function*(){var D,M;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(D=_._currentUser)||void 0===D?void 0:D._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,c.Z)(function*(){if(m===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,D,M){if(this._deleted)return()=>{};const R="function"==typeof _?_:_.next.bind(_),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(Q,this,"internal-error"),Q.then(()=>R(this.currentUser)),"function"==typeof _?m.addObserver(_,D,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=ai(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.Z)(function*(){var _;const D={"X-Client-Version":m.clientVersion};m.app.options.appId&&(D["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(D["X-Firebase-Client"]=M),D})()}}function un(b){return(0,j.m9)(b)}class Ge{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bt(b,m,_){const D=un(b);ee(D._canInitEmulator,D,"emulator-config-failed"),ee(/^https?:\/\//.test(m),D,"invalid-emulator-scheme");const M=!!(null==_?void 0:_.disableWarnings),R=dn(m),{host:Q,port:ve}=function Xi(b){const m=dn(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const D=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(D);if(M){const R=M[1];return{host:R,port:$s(D.substr(R.length+1))}}{const[R,Q]=D.split(":");return{host:R,port:$s(Q)}}}(m);D.config.emulator={url:`${R}//${Q}${null===ve?"":`:${ve}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Q,port:ve,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function ei(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function dn(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function $s(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Ui{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return ze("not implemented")}_getIdTokenResponse(m){return ze("not implemented")}_linkToIdToken(m,_){return ze("not implemented")}_getReauthenticationResolver(m){return ze("not implemented")}}function _n(b,m){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:resetPassword",Jt(b,m))})).apply(this,arguments)}function Ao(b,m){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function cc(b,m){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,c.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:update",Jt(b,m))})).apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(b,m){return Mi(b,"POST","/v1/accounts:signInWithPassword",Jt(b,m))})).apply(this,arguments)}function Tn(b,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:sendOobCode",Jt(b,m))})).apply(this,arguments)}function Qa(b,m){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(b,m){return Tn(b,m)})).apply(this,arguments)}function hn(b,m){return uc.apply(this,arguments)}function uc(){return(uc=(0,c.Z)(function*(b,m){return Tn(b,m)})).apply(this,arguments)}function Wu(b,m){return xi.apply(this,arguments)}function xi(){return(xi=(0,c.Z)(function*(b,m){return Tn(b,m)})).apply(this,arguments)}function wr(b,m){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(b,m){return Tn(b,m)})).apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(b,m){return Mi(b,"POST","/v1/accounts:signInWithEmailLink",Jt(b,m))})).apply(this,arguments)}function Yu(){return(Yu=(0,c.Z)(function*(b,m){return Mi(b,"POST","/v1/accounts:signInWithEmailLink",Jt(b,m))})).apply(this,arguments)}class _s extends Ui{constructor(m,_,D,M=null){super("password",D),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new _s(m,_,"password")}static _fromEmailAndCode(m,_,D=null){return new _s(m,_,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return function zu(b,m){return qs.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function qu(b,m){return Mo.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:$e(m,"internal-error")}})()}_linkToIdToken(m,_){var D=this;return(0,c.Z)(function*(){switch(D.signInMethod){case"password":return Ao(m,{idToken:_,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Fr(b,m){return Yu.apply(this,arguments)}(m,{idToken:_,email:D._email,oobCode:D._password});default:$e(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Zs(b,m){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(b,m){return Mi(b,"POST","/v1/accounts:signInWithIdp",Jt(b,m))})).apply(this,arguments)}class ys extends Ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new ys(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):$e("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:M}=_,R=(0,de._T)(_,["providerId","signInMethod"]);if(!D||!M)return null;const Q=new ys(D,M);return Q.idToken=R.idToken||void 0,Q.accessToken=R.accessToken||void 0,Q.secret=R.secret,Q.nonce=R.nonce,Q.pendingToken=R.pendingToken||null,Q}_getIdTokenResponse(m){return Zs(m,this.buildRequest())}_linkToIdToken(m,_){const D=this.buildRequest();return D.idToken=_,Zs(m,D)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Zs(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,j.xO)(_)}return m}}function o0(b,m){return vf.apply(this,arguments)}function vf(){return(vf=(0,c.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:sendVerificationCode",Jt(b,m))})).apply(this,arguments)}function bf(){return(bf=(0,c.Z)(function*(b,m){return Mi(b,"POST","/v1/accounts:signInWithPhoneNumber",Jt(b,m))})).apply(this,arguments)}function wf(){return(wf=(0,c.Z)(function*(b,m){const _=yield Mi(b,"POST","/v1/accounts:signInWithPhoneNumber",Jt(b,m));if(_.temporaryProof)throw Vi(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const c0={USER_NOT_FOUND:"user-not-found"};function Df(){return(Df=(0,c.Z)(function*(b,m){return Mi(b,"POST","/v1/accounts:signInWithPhoneNumber",Jt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),c0)})).apply(this,arguments)}class ha extends Ui{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new ha({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new ha({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function a0(b,m){return bf.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function l0(b,m){return wf.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function u0(b,m){return Df.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:D,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:D,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:D,phoneNumber:M,temporaryProof:R}=m;return D||_||M||R?new ha({verificationId:_,verificationCode:D,phoneNumber:M,temporaryProof:R}):null}}class fa{constructor(m){var _,D,M,R,Q,ve;const rt=(0,j.zd)((0,j.pd)(m)),mt=null!==(_=rt.apiKey)&&void 0!==_?_:null,kt=null!==(D=rt.oobCode)&&void 0!==D?D:null,Dn=function d0(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=rt.mode)&&void 0!==M?M:null);ee(mt&&kt&&Dn,"argument-error"),this.apiKey=mt,this.operation=Dn,this.code=kt,this.continueUrl=null!==(R=rt.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(Q=rt.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(ve=rt.tenantId)&&void 0!==ve?ve:null}static parseLink(m){const _=function h0(b){const m=(0,j.zd)((0,j.pd)(b)).link,_=m?(0,j.zd)((0,j.pd)(m)).deep_link_id:null,D=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(D?(0,j.zd)((0,j.pd)(D)).link:null)||D||_||m||b}(m);try{return new fa(_)}catch(D){return null}}}let Ef=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,D){return _s._fromEmailAndPassword(_,D)}static credentialWithLink(_,D){const M=fa.parseLink(D);return ee(M,"argument-error"),_s._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class vs{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class el extends vs{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Lr extends el{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return ee("providerId"in _&&"signInMethod"in _,"argument-error"),ys._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ee(m.idToken||m.accessToken,"argument-error"),ys._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Lr.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Lr.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:D,oauthTokenSecret:M,pendingToken:R,nonce:Q,providerId:ve}=m;if(!D&&!M&&!_&&!R||!ve)return null;try{return new Lr(ve)._credential({idToken:_,accessToken:D,nonce:Q,pendingToken:R})}catch(rt){return null}}}let om=(()=>{class b extends el{constructor(){super("facebook.com")}static credential(_){return ys._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(D){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),tl=(()=>{class b extends el{constructor(){super("google.com"),this.addScope("profile")}static credential(_,D){return ys._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:D,oauthAccessToken:M}=_;if(!D&&!M)return null;try{return b.credential(D,M)}catch(R){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),dc=(()=>{class b extends el{constructor(){super("github.com")}static credential(_){return ys._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(D){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class nl extends Ui{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Zs(m,this.buildRequest())}_linkToIdToken(m,_){const D=this.buildRequest();return D.idToken=_,Zs(m,D)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Zs(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:M,pendingToken:R}=_;return D&&M&&R&&D===M?new nl(D,R):null}static _create(m,_){return new nl(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pa extends vs{constructor(m){ee(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return pa.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return pa.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=nl.fromJSON(m);return ee(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:D}=m;if(!_||!D)return null;try{return nl._create(D,_)}catch(M){return null}}}let lm=(()=>{class b extends el{constructor(){super("twitter.com")}static credential(_,D){return ys._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:D,oauthTokenSecret:M}=_;if(!D||!M)return null;try{return b.credential(D,M)}catch(R){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function hc(b,m){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,c.Z)(function*(b,m){return Mi(b,"POST","/v1/accounts:signUp",Jt(b,m))})).apply(this,arguments)}class yn{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,D,M=!1){return(0,c.Z)(function*(){const R=yield Pt._fromIdTokenResponse(m,D,M),Q=il(D);return new yn({user:R,providerId:Q,_tokenResponse:D,operationType:_})})()}static _forOperation(m,_,D){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(D,!0);const M=il(D);return new yn({user:m,providerId:M,_tokenResponse:D,operationType:_})})()}}function il(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function f0(b){return fc.apply(this,arguments)}function fc(){return(fc=(0,c.Z)(function*(b){var m;const _=un(b);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new yn({user:_.currentUser,providerId:null,operationType:"signIn"});const D=yield hc(_,{returnSecureToken:!0}),M=yield yn._fromIdTokenResponse(_,"signIn",D,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ku extends j.ZR{constructor(m,_,D,M){var R;super(_.code,_.message),this.operationType=D,this.user=M,Object.setPrototypeOf(this,Ku.prototype),this.customData={appName:m.name,tenantId:null!==(R=m.tenantId)&&void 0!==R?R:void 0,_serverResponse:_.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(m,_,D,M){return new Ku(m,_,D,M)}}function If(b,m,_,D){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Ku._fromErrorAndOperation(b,R,m,D):R})}function pc(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Tf(b,m){return rl.apply(this,arguments)}function rl(){return(rl=(0,c.Z)(function*(b,m){const _=(0,j.m9)(b);yield sl(!0,_,m);const{providerUserInfo:D}=yield Qi(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=pc(D||[]);return _.providerData=_.providerData.filter(R=>M.has(R.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function cm(b,m){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(b,m,_=!1){const D=yield it(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return yn._forOperation(b,"link",D)})).apply(this,arguments)}function sl(b,m,_){return ol.apply(this,arguments)}function ol(){return(ol=(0,c.Z)(function*(b,m,_){yield kn(m);const M=!1===b?"provider-already-linked":"no-such-provider";ee(pc(m.providerData).has(_)===b,m.auth,M)})).apply(this,arguments)}function mn(b,m){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,c.Z)(function*(b,m,_=!1){const{auth:D}=b,M="reauthenticate";try{const R=yield it(b,If(D,M,m,b),_);ee(R.idToken,D,"internal-error");const Q=Vt(R.idToken);ee(Q,D,"internal-error");const{sub:ve}=Q;return ee(b.uid===ve,D,"user-mismatch"),yn._forOperation(b,M,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&$e(D,"user-mismatch"),R}})).apply(this,arguments)}function gc(b,m){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(b,m,_=!1){const D="signIn",M=yield If(b,D,m),R=yield yn._fromIdTokenResponse(b,D,M);return _||(yield b._updateCurrentUser(R.user)),R})).apply(this,arguments)}function yi(b,m){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,c.Z)(function*(b,m){return gc(un(b),m)})).apply(this,arguments)}function mc(b,m){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(b,m){const _=(0,j.m9)(b);return yield sl(!1,_,m.providerId),cm(_,m)})).apply(this,arguments)}function ji(b,m){return xo.apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(b,m){return mn((0,j.m9)(b),m)})).apply(this,arguments)}function ma(b,m){return _c.apply(this,arguments)}function _c(){return(_c=(0,c.Z)(function*(b,m){return Mi(b,"POST","/v1/accounts:signInWithCustomToken",Jt(b,m))})).apply(this,arguments)}function bs(b,m){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(b,m){const _=un(b),D=yield ma(_,{token:m,returnSecureToken:!0}),M=yield yn._fromIdTokenResponse(_,"signIn",D);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class No{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?bt._fromServerResponse(m,_):$e(m,"internal-error")}}class bt extends No{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new bt(_)}}function al(b,m,_){var D;ee((null===(D=_.url)||void 0===D?void 0:D.length)>0,b,"invalid-continue-uri"),ee(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ee(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(ee(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Sf(b,m,_){return yc.apply(this,arguments)}function yc(){return(yc=(0,c.Z)(function*(b,m,_){const D=(0,j.m9)(b),M={requestType:"PASSWORD_RESET",email:m};_&&al(D,M,_),yield hn(D,M)})).apply(this,arguments)}function um(b,m,_){return vc.apply(this,arguments)}function vc(){return(vc=(0,c.Z)(function*(b,m,_){yield _n((0,j.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function dm(b,m){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,c.Z)(function*(b,m){yield cc((0,j.m9)(b),{oobCode:m})})).apply(this,arguments)}function we(b,m){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(b,m){const _=(0,j.m9)(b),D=yield _n(_,{oobCode:m}),M=D.requestType;switch(ee(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(D.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(D.mfaInfo,_,"internal-error");default:ee(D.email,_,"internal-error")}let R=null;return D.mfaInfo&&(R=No._fromServerResponse(un(_),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:R},operation:M}})).apply(this,arguments)}function hm(b,m){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(b,m){const{data:_}=yield we((0,j.m9)(b),m);return _.email})).apply(this,arguments)}function bc(b,m,_){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(b,m,_){const D=un(b),M=yield hc(D,{returnSecureToken:!0,email:m,password:_}),R=yield yn._fromIdTokenResponse(D,"signIn",M);return yield D._updateCurrentUser(R.user),R})).apply(this,arguments)}function Vr(b,m,_){return yi((0,j.m9)(b),Ef.credential(m,_))}function ed(b,m,_){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(b,m,_){const D=(0,j.m9)(b),M={requestType:"EMAIL_SIGNIN",email:m};ee(_.handleCodeInApp,D,"argument-error"),_&&al(D,M,_),yield Wu(D,M)})).apply(this,arguments)}function p0(b,m){const _=fa.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function Af(b,m,_){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(b,m,_){const D=(0,j.m9)(b),M=Ef.credentialWithLink(m,_||ne());return ee(M._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),yi(D,M)})).apply(this,arguments)}function wc(b,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:createAuthUri",Jt(b,m))})).apply(this,arguments)}function ws(b,m){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,c.Z)(function*(b,m){const D={identifier:m,continueUri:It()?ne():"http://localhost"},{signinMethods:M}=yield wc((0,j.m9)(b),D);return M||[]})).apply(this,arguments)}function ya(b,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(b,m){const _=(0,j.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&al(_.auth,M,m);const{email:R}=yield Qa(_.auth,M);R!==b.email&&(yield b.reload())})).apply(this,arguments)}function fm(b,m,_){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,c.Z)(function*(b,m,_){const D=(0,j.m9)(b),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&al(D.auth,R,_);const{email:Q}=yield wr(D.auth,R);Q!==b.email&&(yield b.reload())})).apply(this,arguments)}function pm(b,m){return td.apply(this,arguments)}function td(){return(td=(0,c.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function nd(b,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const D=(0,j.m9)(b),R={idToken:yield D.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},Q=yield it(D,pm(D.auth,R));D.displayName=Q.displayName||null,D.photoURL=Q.photoUrl||null;const ve=D.providerData.find(({providerId:rt})=>"password"===rt);ve&&(ve.displayName=D.displayName,ve.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Q)})).apply(this,arguments)}function gm(b,m){return mm((0,j.m9)(b),m,null)}function id(b,m){return mm((0,j.m9)(b),null,m)}function mm(b,m,_){return rd.apply(this,arguments)}function rd(){return(rd=(0,c.Z)(function*(b,m,_){const{auth:D}=b,R={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(R.email=m),_&&(R.password=_);const Q=yield it(b,Ao(D,R));yield b._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class Oo{constructor(m,_,D={}){this.isNewUser=m,this.providerId=_,this.profile=D}}class sd extends Oo{constructor(m,_,D,M){super(m,_,D),this.username=M}}class _m extends Oo{constructor(m,_){super(m,"facebook.com",_)}}class ym extends sd{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class cl extends Oo{constructor(m,_){super(m,"google.com",_)}}class Js extends sd{constructor(m,_,D){super(m,"twitter.com",_,D)}}function vm(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ec(b){var m,_;if(!b)return null;const{providerId:D}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},R=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!D&&(null==b?void 0:b.idToken)){const Q=null===(_=null===(m=Vt(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(Q)return new Oo(R,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!D)return null;switch(D){case"facebook.com":return new _m(R,M);case"github.com":return new ym(R,M);case"google.com":return new cl(R,M);case"twitter.com":return new Js(R,M,b.screenName||null);case"custom":case"anonymous":return new Oo(R,null);default:return new Oo(R,D,M)}}(_)}class Po{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new Po("enroll",m)}static _fromMfaPendingCredential(m){return new Po("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,D;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Po._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(D=m.multiFactorSession)||void 0===D?void 0:D.idToken)return Po._fromIdtoken(m.multiFactorSession.idToken)}return null}}class ul{constructor(m,_,D){this.session=m,this.hints=_,this.signInResolver=D}static _fromError(m,_){const D=un(m),M=_.customData._serverResponse,R=(M.mfaInfo||[]).map(ve=>No._fromServerResponse(D,ve));ee(M.mfaPendingCredential,D,"internal-error");const Q=Po._fromMfaPendingCredential(M.mfaPendingCredential);return new ul(Q,R,function(){var ve=(0,c.Z)(function*(rt){const mt=yield rt._process(D,Q);delete M.mfaInfo,delete M.mfaPendingCredential;const kt=Object.assign(Object.assign({},M),{idToken:mt.idToken,refreshToken:mt.refreshToken});switch(_.operationType){case"signIn":const Dn=yield yn._fromIdTokenResponse(D,_.operationType,kt);return yield D._updateCurrentUser(Dn.user),Dn;case"reauthenticate":return ee(_.user,D,"internal-error"),yn._forOperation(_.user,_.operationType,kt);default:$e(D,"internal-error")}});return function(rt){return ve.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,c.Z)(function*(){return _.signInResolver(m)})()}}function od(b,m){var _;const D=(0,j.m9)(b),M=m;return ee(m.customData.operationType,D,"argument-error"),ee(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,D,"argument-error"),ul._fromError(D,M)}function ad(b,m){return rn(b,"POST","/v2/accounts/mfaEnrollment:start",Jt(b,m))}class xf{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(D=>No._fromServerResponse(m.auth,D)))})}static _fromUser(m){return new xf(m)}getSession(){var m=this;return(0,c.Z)(function*(){return Po._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var D=this;return(0,c.Z)(function*(){const M=m,R=yield D.getSession(),Q=yield it(D.user,M._process(D.user.auth,R,_));return yield D.user._updateTokensIfNecessary(Q),D.user.reload()})()}unenroll(m){var _=this;return(0,c.Z)(function*(){const D="string"==typeof m?m:m.uid,M=yield _.user.getIdToken(),R=yield it(_.user,function bm(b,m){return rn(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(b,m))}(_.user.auth,{idToken:M,mfaEnrollmentId:D}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Q})=>Q!==D),yield _.user._updateTokensIfNecessary(R);try{yield _.user.reload()}catch(Q){if("auth/user-token-expired"!==Q.code)throw Q}})()}}const Cs=new WeakMap;function Ic(b){const m=(0,j.m9)(b);return Cs.has(m)||Cs.set(m,xf._fromUser(m)),Cs.get(m)}const cd="__sak";class wm{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(cd,"1"),this.storage.removeItem(cd),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const An=(()=>{class b extends wm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,D)=>this.onStorageEvent(_,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fo(){const b=(0,j.z$)();return U(b)||Tt(b)}()&&function Pr(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=mi(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const D of Object.keys(this.listeners)){const M=this.storage.getItem(D),R=this.localCache[D];M!==R&&_(D,R,M)}}onStorageEvent(_,D=!1){if(!_.key)return void this.forAllChangedKeys((ve,rt,mt)=>{this.notifyListeners(ve,mt)});const M=_.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(M);if(_.newValue!==ve)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!D)return}const R=()=>{const ve=this.storage.getItem(M);!D&&this.localCache[M]===ve||this.notifyListeners(M,ve)},Q=this.storage.getItem(M);!function Gt(){return(0,j.w1)()&&10===document.documentMode}()||Q===_.newValue||_.newValue===_.oldValue?R():setTimeout(R,10)}notifyListeners(_,D){this.localCache[_]=D;const M=this.listeners[_];if(M)for(const R of Array.from(M))R(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,D,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:D,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,D){var M=()=>super._set,R=this;return(0,c.Z)(function*(){yield M().call(R,_,D),R.localCache[_]=JSON.stringify(D)})()}_get(_){var D=()=>super._get,M=this;return(0,c.Z)(function*(){const R=yield D().call(M,_);return M.localCache[_]=JSON.stringify(R),R})()}_remove(_){var D=()=>super._remove,M=this;return(0,c.Z)(function*(){yield D().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),va=(()=>{class b extends wm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,D){}_removeListener(_,D){}}return b.type="SESSION",b})();let dd=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const D=this.receivers.find(R=>R.isListeningto(_));if(D)return D;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var D=this;return(0,c.Z)(function*(){const M=_,{eventId:R,eventType:Q,data:ve}=M.data,rt=D.handlersMap[Q];if(!(null==rt?void 0:rt.size))return;M.ports[0].postMessage({status:"ack",eventId:R,eventType:Q});const mt=Array.from(rt).map(function(){var Dn=(0,c.Z)(function*(rs){return rs(M.origin,ve)});return function(rs){return Dn.apply(this,arguments)}}()),kt=yield function kf(b){return Promise.all(b.map(function(){var m=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(D){return{fulfilled:!1,reason:D}}});return function(_){return m.apply(this,arguments)}}()))}(mt);M.ports[0].postMessage({status:"done",eventId:R,eventType:Q,response:kt})})()}_subscribe(_,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(D)}_unsubscribe(_,D){this.handlersMap[_]&&D&&this.handlersMap[_].delete(D),(!D||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Qs(b="",m=10){let _="";for(let D=0;D<m;D++)_+=Math.floor(10*Math.random());return b+_}class hd{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,D=50){var M=this;return(0,c.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let Q,ve;return new Promise((rt,mt)=>{const kt=Qs("",20);R.port1.start();const Dn=setTimeout(()=>{mt(new Error("unsupported_event"))},D);ve={messageChannel:R,onMessage(rs){const Yo=rs;if(Yo.data.eventId===kt)switch(Yo.data.status){case"ack":clearTimeout(Dn),Q=setTimeout(()=>{mt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),rt(Yo.data.response);break;default:clearTimeout(Dn),clearTimeout(Q),mt(new Error("invalid_response"))}}},M.handlers.add(ve),R.port1.addEventListener("message",ve.onMessage),M.target.postMessage({eventType:m,eventId:kt,data:_},[R.port2])}).finally(()=>{ve&&M.removeMessageHandler(ve)})})()}}function Ln(){return window}function es(){return void 0!==Ln().WorkerGlobalScope&&"function"==typeof Ln().importScripts}function st(){return(st=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const dl="firebaseLocalStorageDb",hl="firebaseLocalStorage",pd="fbase_key";class Ni{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Zn(b,m){return b.transaction([hl],m?"readwrite":"readonly").objectStore(hl)}function Lo(){const b=indexedDB.open(dl,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const D=b.result;try{D.createObjectStore(hl,{keyPath:pd})}catch(M){_(M)}}),b.addEventListener("success",(0,c.Z)(function*(){const D=b.result;D.objectStoreNames.contains(hl)?m(D):(D.close(),yield function gd(){const b=indexedDB.deleteDatabase(dl);return new Ni(b).toPromise()}(),m(yield Lo()))}))})}function fl(b,m,_){return md.apply(this,arguments)}function md(){return(md=(0,c.Z)(function*(b,m,_){const D=Zn(b,!0).put({[pd]:m,value:_});return new Ni(D).toPromise()})).apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(b,m){const _=Zn(b,!1).get(m),D=yield new Ni(_).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ts(b,m){const _=Zn(b,!0).delete(m);return new Ni(_).toPromise()}const pl=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield Lo()),_.db})()}_withRetries(_){var D=this;return(0,c.Z)(function*(){let M=0;for(;;)try{const R=yield D._openDb();return yield _(R)}catch(R){if(M++>3)throw R;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return es()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=dd._getInstance(function m0(){return es()?self:null}()),_.receiver._subscribe("keyChanged",function(){var D=(0,c.Z)(function*(M,R){return{keyProcessed:(yield _._poll()).includes(R.key)}});return function(M,R){return D.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var D=(0,c.Z)(function*(M,R){return["keyChanged"]});return function(M,R){return D.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var D,M;if(_.activeServiceWorker=yield function on(){return st.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new hd(_.activeServiceWorker);const R=yield _.sender._send("ping",{},800);!R||(null===(D=R[0])||void 0===D?void 0:D.fulfilled)&&(null===(M=R[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var D=this;return(0,c.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Tc(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:_},D.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Lo();return yield fl(_,cd,"1"),yield ts(_,cd),!0}catch(_){}return!1})()}_withPendingWrite(_){var D=this;return(0,c.Z)(function*(){D.pendingWrites++;try{yield _()}finally{D.pendingWrites--}})()}_set(_,D){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(R=>fl(R,_,D)),M.localCache[_]=D,M.notifyServiceWorker(_)}))})()}_get(_){var D=this;return(0,c.Z)(function*(){const M=yield D._withRetries(R=>function Rf(b,m){return Xs.apply(this,arguments)}(R,_));return D.localCache[_]=M,M})()}_remove(_){var D=this;return(0,c.Z)(function*(){return D._withPendingWrite((0,c.Z)(function*(){return yield D._withRetries(M=>ts(M,_)),delete D.localCache[_],D.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const D=yield _._withRetries(Q=>{const ve=Zn(Q,!1).getAll();return new Ni(ve).toPromise()});if(!D)return[];if(0!==_.pendingWrites)return[];const M=[],R=new Set;for(const{fbase_key:Q,value:ve}of D)R.add(Q),JSON.stringify(_.localCache[Q])!==JSON.stringify(ve)&&(_.notifyListeners(Q,ve),M.push(Q));for(const Q of Object.keys(_.localCache))_.localCache[Q]&&!R.has(Q)&&(_.notifyListeners(Q,null),M.push(Q));return M})()}notifyListeners(_,D){this.localCache[_]=D;const M=this.listeners[_];if(M)for(const R of Array.from(M))R(D)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function ba(b,m){return rn(b,"POST","/v2/accounts/mfaSignIn:start",Jt(b,m))}function gl(){return(gl=(0,c.Z)(function*(b){return(yield rn(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Sc(b){return new Promise((m,_)=>{const D=document.createElement("script");D.setAttribute("src",b),D.onload=m,D.onerror=M=>{const R=Ae("internal-error");R.customData=M,_(R)},D.type="text/javascript",D.charset="UTF-8",function Bo(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(D)})}function ml(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Dr=1e12;class jo{constructor(m){this.auth=m,this.counter=Dr,this._widgets=new Map}render(m,_){const D=this.counter;return this._widgets.set(D,new vd(m,this.auth.name,_||{})),this.counter++,D}reset(m){var _;const D=m||Dr;null===(_=this._widgets.get(D))||void 0===_||_.delete(),this._widgets.delete(D)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Dr))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,c.Z)(function*(){var D;return null===(D=_._widgets.get(m||Dr))||void 0===D||D.execute(),""})()}}class vd{constructor(m,_,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;ee(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mc(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<b;D++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Es=ml("rcb"),_0=new ht(3e4,6e4);class Mn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ln().grecaptcha}load(m,_=""){return ee(function bd(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Ln().grecaptcha):new Promise((D,M)=>{const R=Ln().setTimeout(()=>{M(Ae(m,"network-request-failed"))},_0.get());Ln()[Es]=()=>{Ln().clearTimeout(R),delete Ln()[Es];const ve=Ln().grecaptcha;if(!ve)return void M(Ae(m,"internal-error"));const rt=ve.render;ve.render=(mt,kt)=>{const Dn=rt(mt,kt);return this.counter++,Dn},this.hostLanguage=_,D(ve)},Sc(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Es,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(R),M(Ae(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!Ln().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Dm{load(m){return(0,c.Z)(function*(){return new jo(m)})()}clearedOneInstance(){}}const wd="recaptcha",Cm={theme:"light",type:"image"};class Em{constructor(m,_=Object.assign({},Cm),D){this.parameters=_,this.type=wd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(D),this.isInvisible="invisible"===this.parameters.size,ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;ee(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dm:new Mn,this.validateStartingState()}verify(){var m=this;return(0,c.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),D=m.getAssertedRecaptcha();return D.getResponse(_)||new Promise(R=>{const Q=ve=>{!ve||(m.tokenChangeListeners.delete(Q),R(ve))};m.tokenChangeListeners.add(Q),m.isInvisible&&D.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(D=>D(_)),"function"==typeof m)m(_);else if("string"==typeof m){const D=Ln()[m];"function"==typeof D&&D(_)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const D=document.createElement("div");_.appendChild(D),_=D}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.Z)(function*(){ee(It()&&!es(),m.auth,"internal-error"),yield function Im(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function yd(b){return gl.apply(this,arguments)}(m.auth);ee(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xc{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=ha._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function eo(b,m,_){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,c.Z)(function*(b,m,_){const D=un(b),M=yield _l(D,m,(0,j.m9)(_));return new xc(M,R=>yi(D,R))})).apply(this,arguments)}function Vn(b,m,_){return wa.apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(b,m,_){const D=(0,j.m9)(b);yield sl(!1,D,"phone");const M=yield _l(D.auth,m,(0,j.m9)(_));return new xc(M,R=>mc(D,R))})).apply(this,arguments)}function tr(b,m,_){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(b,m,_){const D=(0,j.m9)(b),M=yield _l(D.auth,m,(0,j.m9)(_));return new xc(M,R=>ji(D,R))})).apply(this,arguments)}function _l(b,m,_){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(b,m,_){var D;const M=yield _.verify();try{let R;if(ee("string"==typeof M,b,"argument-error"),ee(_.type===wd,b,"argument-error"),R="string"==typeof m?{phoneNumber:m}:m,"session"in R){const Q=R.session;if("phoneNumber"in R)return ee("enroll"===Q.type,b,"internal-error"),(yield ad(b,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ee("signin"===Q.type,b,"internal-error");const ve=(null===(D=R.multiFactorHint)||void 0===D?void 0:D.uid)||R.multiFactorUid;return ee(ve,b,"missing-multi-factor-info"),(yield ba(b,{mfaPendingCredential:Q.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield o0(b,{phoneNumber:R.phoneNumber,recaptchaToken:M});return Q}}finally{_._reset()}})).apply(this,arguments)}function Is(b,m){return Da.apply(this,arguments)}function Da(){return(Da=(0,c.Z)(function*(b,m){yield cm((0,j.m9)(b),m)})).apply(this,arguments)}let yl=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=un(_)}verifyPhoneNumber(_,D){return _l(this.auth,_,(0,j.m9)(D))}static credential(_,D){return ha._fromVerification(_,D)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:D,temporaryProof:M}=_;return D&&M?ha._fromTokenResponse(D,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ir(b,m){return m?ie(m):(ee(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Ho extends Ui{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Zs(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Zs(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Zs(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Tm(b){return gc(b.auth,new Ho(b),b.bypassAuthState)}function Cd(b){const{auth:m,user:_}=b;return ee(_,m,"internal-error"),mn(_,new Ho(b),b.bypassAuthState)}function y0(b){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,c.Z)(function*(b){const{auth:m,user:_}=b;return ee(_,m,"internal-error"),cm(_,new Ho(b),b.bypassAuthState)})).apply(this,arguments)}class Ff{constructor(m,_,D,M,R=!1){this.auth=m,this.resolver=D,this.user=M,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,c.Z)(function*(D,M){m.pendingPromise={resolve:D,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(R){m.reject(R)}});return function(D,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,c.Z)(function*(){const{urlResponse:D,sessionId:M,postBody:R,tenantId:Q,error:ve,type:rt}=m;if(ve)return void _.reject(ve);const mt={auth:_.auth,requestUri:D,sessionId:M,tenantId:Q||void 0,postBody:R||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(rt)(mt))}catch(kt){_.reject(kt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Tm;case"linkViaPopup":case"linkViaRedirect":return y0;case"reauthViaPopup":case"reauthViaRedirect":return Cd;default:$e(this.auth,"internal-error")}}resolve(m){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cr=new ht(2e3,1e4);function Lf(b,m,_){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(b,m,_){const D=un(b);pe(b,m,vs);const M=ir(D,_);return new Id(D,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function $E(b,m,_){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,c.Z)(function*(b,m,_){const D=(0,j.m9)(b);pe(D.auth,m,vs);const M=ir(D.auth,_);return new Id(D.auth,"reauthViaPopup",m,M,D).executeNotNull()})).apply(this,arguments)}function Vf(b,m,_){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,c.Z)(function*(b,m,_){const D=(0,j.m9)(b);pe(D.auth,m,vs);const M=ir(D.auth,_);return new Id(D.auth,"linkViaPopup",m,M,D).executeNotNull()})).apply(this,arguments)}let Id=(()=>{class b extends Ff{constructor(_,D,M,R,Q){super(_,D,R,Q),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const D=yield _.execute();return ee(D,_.auth,"internal-error"),D})()}onExecution(){var _=this;return(0,c.Z)(function*(){J(1===_.filter.length,"Popup operations only handle one event");const D=Qs();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],D),_.authWindow.associatedEvent=D,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Ae(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var D,M;this.pollId=(null===(M=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Cr.get())};_()}}return b.currentPopupAction=null,b})();const $o=new Map;class Ca extends Ff{constructor(m,_,D=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,D),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,c.Z)(function*(){let D=$o.get(_.auth._key());if(!D){try{const R=(yield function Ea(b,m){return Ts.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;D=()=>Promise.resolve(R)}catch(M){D=()=>Promise.reject(M)}$o.set(_.auth._key(),D)}return _.bypassAuthState||$o.set(_.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,D=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(D,m);if("unknown"!==m.type){if(m.eventId){const M=yield D.auth._redirectUserForId(m.eventId);if(M)return D.user=M,_().call(D,m);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Ts(){return(Ts=(0,c.Z)(function*(b,m){const _=Uf(m),D=vl(b);if(!(yield D._isAvailable()))return!1;const M="true"===(yield D._get(_));return yield D._remove(_),M})).apply(this,arguments)}function Bf(b,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(b,m){return vl(b)._set(Uf(m),"true")})).apply(this,arguments)}function Ia(){$o.clear()}function vl(b){return ie(b._redirectPersistence)}function Uf(b){return q("pendingRedirect",b.config.apiKey,b.name)}function jf(b,m,_){return function Mm(b,m,_){return bl.apply(this,arguments)}(b,m,_)}function bl(){return(bl=(0,c.Z)(function*(b,m,_){const D=un(b);pe(b,m,vs);const M=ir(D,_);return yield Bf(M,D),M._openRedirect(D,m,"signInViaRedirect")})).apply(this,arguments)}function xm(b,m,_){return function kc(b,m,_){return Rc.apply(this,arguments)}(b,m,_)}function Rc(){return(Rc=(0,c.Z)(function*(b,m,_){const D=(0,j.m9)(b);pe(D.auth,m,vs);const M=ir(D.auth,_);yield Bf(M,D.auth);const R=yield Nm(D);return M._openRedirect(D.auth,m,"reauthViaRedirect",R)})).apply(this,arguments)}function Hf(b,m,_){return function ci(b,m,_){return Ta.apply(this,arguments)}(b,m,_)}function Ta(){return(Ta=(0,c.Z)(function*(b,m,_){const D=(0,j.m9)(b);pe(D.auth,m,vs);const M=ir(D.auth,_);yield sl(!1,D,m.providerId),yield Bf(M,D.auth);const R=yield Nm(D);return M._openRedirect(D.auth,m,"linkViaRedirect",R)})).apply(this,arguments)}function Gf(b,m){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(b,m){return yield un(b)._initializationPromise,As(b,m,!1)})).apply(this,arguments)}function As(b,m){return wl.apply(this,arguments)}function wl(){return(wl=(0,c.Z)(function*(b,m,_=!1){const D=un(b),M=ir(D,m),Q=yield new Ca(D,M,_).execute();return Q&&!_&&(delete Q.user._redirectEventId,yield D._persistUserIfCurrent(Q.user),yield D._setRedirectUser(null,m)),Q})).apply(this,arguments)}function Nm(b){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,c.Z)(function*(b){const m=Qs(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Ms{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(m,D)&&(_=!0,this.sendToConsumer(m,D),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function km(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ns(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var D;if(m.error&&!ns(m)){const M=(null===(D=m.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";_.onError(Ae(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const D=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&D}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(no(m))}saveEventToCache(m){this.cachedEventUids.add(no(m)),this.lastProcessedEventTime=Date.now()}}function no(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function ns({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Cl(b){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(b,m={}){return rn(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Ma=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Td=/^https?/;function Pc(){return(Pc=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Cl(b);for(const _ of m)try{if(io(_))return}catch(D){}$e(b,"unauthorized-domain")})).apply(this,arguments)}function io(b){const m=ne(),{protocol:_,hostname:D}=new URL(m);if(b.startsWith("chrome-extension://")){const Q=new URL(b);return""===Q.hostname&&""===D?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&Q.hostname===D}if(!Td.test(_))return!1;if(Ma.test(b))return D===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(D)}const El=new ht(3e4,6e4);function Sd(){const b=Ln().___jsl;if(null==b?void 0:b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let xa=null;function Ad(b){return xa=xa||function Rm(b){return new Promise((m,_)=>{var D,M,R;function Q(){Sd(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Sd(),_(Ae(b,"network-request-failed"))},timeout:El.get()})}if(null===(M=null===(D=Ln().gapi)||void 0===D?void 0:D.iframes)||void 0===M?void 0:M.Iframe)m(gapi.iframes.getContext());else{if(!(null===(R=Ln().gapi)||void 0===R?void 0:R.load)){const ve=ml("iframefcb");return Ln()[ve]=()=>{gapi.load?Q():_(Ae(b,"network-request-failed"))},Sc(`https://apis.google.com/js/api.js?onload=${ve}`).catch(rt=>_(rt))}Q()}}).catch(m=>{throw xa=null,m})}(b),xa}const Md=new ht(5e3,15e3),Pm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ro=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zo(b){const m=b.config;ee(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?En(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,D={apiKey:m.apiKey,appName:b.name,v:F.SDK_VERSION},M=ro.get(b.config.apiHost);M&&(D.eid=M);const R=b._getFrameworks();return R.length&&(D.fw=R.join(",")),`${_}?${(0,j.xO)(D).slice(1)}`}function $f(){return $f=(0,c.Z)(function*(b){const m=yield Ad(b),_=Ln().gapi;return ee(_,b,"internal-error"),m.open({where:document.body,url:zo(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pm,dontclear:!0},D=>new Promise(function(){var M=(0,c.Z)(function*(R,Q){yield D.restyle({setHideOnLeave:!1});const ve=Ae(b,"network-request-failed"),rt=Ln().setTimeout(()=>{Q(ve)},Md.get());function mt(){Ln().clearTimeout(rt),R(D)}D.ping(mt).then(mt,()=>{Q(ve)})});return function(R,Q){return M.apply(this,arguments)}}()))}),$f.apply(this,arguments)}const v0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Od{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function Fc(b,m,_,D,M,R){ee(b.config.authDomain,b,"auth-domain-config-required"),ee(b.config.apiKey,b,"invalid-api-key");const Q={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:D,v:F.SDK_VERSION,eventId:M};if(m instanceof vs){m.setDefaultLanguage(b.languageCode),Q.providerId=m.providerId||"",(0,j.xb)(m.getCustomParameters())||(Q.customParameters=JSON.stringify(m.getCustomParameters()));for(const[rt,mt]of Object.entries(R||{}))Q[rt]=mt}if(m instanceof el){const rt=m.getScopes().filter(mt=>""!==mt);rt.length>0&&(Q.scopes=rt.join(","))}b.tenantId&&(Q.tid=b.tenantId);const ve=Q;for(const rt of Object.keys(ve))void 0===ve[rt]&&delete ve[rt];return`${function Lm({config:b}){return b.emulator?En(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,j.xO)(ve).slice(1)}`}const Wf="webStorageSupport",qo=class is{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=va,this._completeRedirectFn=As}_openPopup(m,_,D,M){var R=this;return(0,c.Z)(function*(){var Q;J(null===(Q=R.eventManagers[m._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const ve=Fc(m,_,D,ne(),M);return function Pd(b,m,_,D=500,M=600){const R=Math.max((window.screen.availHeight-M)/2,0).toString(),Q=Math.max((window.screen.availWidth-D)/2,0).toString();let ve="";const rt=Object.assign(Object.assign({},v0),{width:D.toString(),height:M.toString(),top:R,left:Q}),mt=(0,j.z$)().toLowerCase();_&&(ve=re(mt)?"_blank":_),P(mt)&&(m=m||"http://localhost",rt.scrollbars="yes");const kt=Object.entries(rt).reduce((rs,[Yo,Il])=>`${rs}${Yo}=${Il},`,"");if(function gi(b=(0,j.z$)()){var m;return Tt(b)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(mt)&&"_self"!==ve)return function xs(b,m){const _=document.createElement("a");_.href=b,_.target=m;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(D)}(m||"",ve),new Od(null);const Dn=window.open(m||"",ve,kt);ee(Dn,b,"popup-blocked");try{Dn.focus()}catch(rs){}return new Od(Dn)}(m,ve,Qs())})()}_openRedirect(m,_,D,M){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(m),function vi(b){Ln().location.href=b}(Fc(m,_,D,ne(),M)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:R}=this.eventManagers[_];return M?Promise.resolve(M):(J(R,"If manager is not set, promise should be"),R)}const D=this.initAndGetManager(m);return this.eventManagers[_]={promise:D},D.catch(()=>{delete this.eventManagers[_]}),D}initAndGetManager(m){var _=this;return(0,c.Z)(function*(){const D=yield function Wo(b){return $f.apply(this,arguments)}(m),M=new Ms(m);return D.register("authEvent",R=>(ee(null==R?void 0:R.authEvent,m,"invalid-auth-event"),{status:M.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=D,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Wf,{type:Wf},M=>{var R;const Q=null===(R=null==M?void 0:M[0])||void 0===R?void 0:R[Wf];void 0!==Q&&_(!!Q),$e(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Oc(b){return Pc.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return mi()||U()||Tt()}};class Ld extends class Fd{constructor(m){this.factorId=m}_process(m,_,D){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,D);case"signin":return this._finalizeSignIn(m,_.credential);default:return ze("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Ld(m)}_finalizeEnroll(m,_,D){return function ld(b,m){return rn(b,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(b,m))}(m,{idToken:_,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Of(b,m){return rn(b,"POST","/v2/accounts/mfaSignIn:finalize",Jt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qf=(()=>{class b{constructor(){}static assertion(_){return Ld._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Lc="@firebase/auth",Yf="0.19.10";class Vd{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(D=>{var M;m((null===(M=D)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Vc(b){(0,F._registerComponent)(new Ce.wA("auth",(m,{options:_})=>{const D=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:R,authDomain:Q}=D.options;return((ve,rt)=>{ee(R&&!R.includes(":"),"invalid-api-key",{appName:ve.name}),ee(!(null==Q?void 0:Q.includes(":")),"argument-error",{appName:ve.name});const mt={apiKey:R,authDomain:Q,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ai(b)},kt=new $u(ve,rt,mt);return function Re(b,m){const _=(null==m?void 0:m.persistence)||[],D=(Array.isArray(_)?_:[_]).map(ie);(null==m?void 0:m.errorMap)&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(D,null==m?void 0:m.popupRedirectResolver)}(kt,_),kt})(D,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,D)=>{m.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new Ce.wA("auth-internal",m=>{const _=un(m.getProvider("auth").getImmediate());return new Vd(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(Lc,Yf,function Zf(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,F.registerVersion)(Lc,Yf,"esm2017")}("Browser")},2090:(_t,Ie,L)=>{L.d(Ie,{BH:()=>Ne,LL:()=>It,ZR:()=>ne,zI:()=>ie,US:()=>fe,tV:()=>W,L:()=>xe,$s:()=>Qr,r3:()=>rn,Sg:()=>Ve,ne:()=>pt,vZ:()=>Mi,ZB:()=>X,Lj:()=>Ft,pd:()=>Vi,m9:()=>gt,z$:()=>ke,jU:()=>Je,ru:()=>$e,d:()=>be,xb:()=>kr,w1:()=>pe,hl:()=>J,uI:()=>te,UG:()=>Te,b$:()=>Ae,G6:()=>ze,Mn:()=>je,X3:()=>dt,xO:()=>br,zd:()=>Rr,eu:()=>le});var c=L(5861);const De=function(G){const B=[];let q=0;for(let ae=0;ae<G.length;ae++){let k=G.charCodeAt(ae);k<128?B[q++]=k:k<2048?(B[q++]=k>>6|192,B[q++]=63&k|128):55296==(64512&k)&&ae+1<G.length&&56320==(64512&G.charCodeAt(ae+1))?(k=65536+((1023&k)<<10)+(1023&G.charCodeAt(++ae)),B[q++]=k>>18|240,B[q++]=k>>12&63|128,B[q++]=k>>6&63|128,B[q++]=63&k|128):(B[q++]=k>>12|224,B[q++]=k>>6&63|128,B[q++]=63&k|128)}return B},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,B){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,ae=[];for(let k=0;k<G.length;k+=3){const P=G[k],U=k+1<G.length,re=U?G[k+1]:0,Fe=k+2<G.length,We=Fe?G[k+2]:0;let Tt=(15&re)<<2|We>>6,gn=63&We;Fe||(gn=64,U||(Tt=64)),ae.push(q[P>>2],q[(3&P)<<4|re>>4],q[Tt],q[gn])}return ae.join("")},encodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(G):this.encodeByteArray(De(G),B)},decodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(G):function(G){const B=[];let q=0,ae=0;for(;q<G.length;){const k=G[q++];if(k<128)B[ae++]=String.fromCharCode(k);else if(k>191&&k<224){const P=G[q++];B[ae++]=String.fromCharCode((31&k)<<6|63&P)}else if(k>239&&k<365){const Fe=((7&k)<<18|(63&G[q++])<<12|(63&G[q++])<<6|63&G[q++])-65536;B[ae++]=String.fromCharCode(55296+(Fe>>10)),B[ae++]=String.fromCharCode(56320+(1023&Fe))}else{const P=G[q++],U=G[q++];B[ae++]=String.fromCharCode((15&k)<<12|(63&P)<<6|63&U)}}return B.join("")}(this.decodeStringToByteArray(G,B))},decodeStringToByteArray(G,B){this.init_();const q=B?this.charToByteMapWebSafe_:this.charToByteMap_,ae=[];for(let k=0;k<G.length;){const P=q[G.charAt(k++)],re=k<G.length?q[G.charAt(k)]:0;++k;const We=k<G.length?q[G.charAt(k)]:64;++k;const tt=k<G.length?q[G.charAt(k)]:64;if(++k,null==P||null==re||null==We||null==tt)throw Error();ae.push(P<<2|re>>4),64!==We&&(ae.push(re<<4&240|We>>2),64!==tt&&ae.push(We<<6&192|tt))}return ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},xe=function(G){return function(G){const B=De(G);return fe.encodeByteArray(B,!0)}(G).replace(/\./g,"")},W=function(G){try{return fe.decodeString(G,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function X(G,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return B}for(const q in B)!B.hasOwnProperty(q)||!Ye(q)||(G[q]=X(G[q],B[q]));return G}function Ye(G){return"__proto__"!==G}class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,q)=>{this.resolve=B,this.reject=q})}wrapCallback(B){return(q,ae)=>{q?this.reject(q):this.resolve(ae),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(q):B(q,ae))}}}function Ve(G,B){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ae=B||"demo-project",k=G.iat||0,P=G.sub||G.user_id;if(!P)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const U=Object.assign({iss:`https://securetoken.google.com/${ae}`,aud:ae,iat:k,exp:k+3600,auth_time:k,sub:P,user_id:P,firebase:{sign_in_provider:"custom",identities:{}}},G);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(U)),""].join(".")}function ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function te(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function Te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function Je(){return"object"==typeof self&&self.self===self}function $e(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){return ke().indexOf("Electron/")>=0}function pe(){const G=ke();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function je(){return ke().indexOf("MSAppHost/")>=0}function ze(){return!Te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J(){return"object"==typeof indexedDB}function le(){return new Promise((G,B)=>{try{let q=!0;const ae="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(ae);k.onsuccess=()=>{k.result.close(),q||self.indexedDB.deleteDatabase(ae),G(!0)},k.onupgradeneeded=()=>{q=!1},k.onerror=()=>{var P;B((null===(P=k.error)||void 0===P?void 0:P.message)||"")}}catch(q){B(q)}})}function ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ne extends Error{constructor(B,q,ae){super(q),this.code=B,this.customData=ae,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(B,q,ae){this.service=B,this.serviceName=q,this.errors=ae}create(B,...q){const ae=q[0]||{},k=`${this.service}/${B}`,P=this.errors[B],U=P?function Xt(G,B){return G.replace(zn,(q,ae)=>{const k=B[ae];return null!=k?String(k):`<${ae}?>`})}(P,ae):"Error";return new ne(k,`${this.serviceName}: ${U} (${k}).`,ae)}}const zn=/\{\$([^}]+)}/g;function rn(G,B){return Object.prototype.hasOwnProperty.call(G,B)}function kr(G){for(const B in G)if(Object.prototype.hasOwnProperty.call(G,B))return!1;return!0}function Mi(G,B){if(G===B)return!0;const q=Object.keys(G),ae=Object.keys(B);for(const k of q){if(!ae.includes(k))return!1;const P=G[k],U=B[k];if(Kr(P)&&Kr(U)){if(!Mi(P,U))return!1}else if(P!==U)return!1}for(const k of ae)if(!q.includes(k))return!1;return!0}function Kr(G){return null!==G&&"object"==typeof G}function br(G){const B=[];for(const[q,ae]of Object.entries(G))Array.isArray(ae)?ae.forEach(k=>{B.push(encodeURIComponent(q)+"="+encodeURIComponent(k))}):B.push(encodeURIComponent(q)+"="+encodeURIComponent(ae));return B.length?"&"+B.join("&"):""}function Rr(G){const B={};return G.replace(/^\?/,"").split("&").forEach(ae=>{if(ae){const[k,P]=ae.split("=");B[decodeURIComponent(k)]=decodeURIComponent(P)}}),B}function Vi(G){const B=G.indexOf("?");if(!B)return"";const q=G.indexOf("#",B);return G.substring(B,q>0?q:void 0)}function pt(G,B){const q=new Qi(G,B);return q.subscribe.bind(q)}class Qi{constructor(B,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{B(this)}).catch(ae=>{this.error(ae)})}next(B){this.forEachObserver(q=>{q.next(B)})}error(B){this.forEachObserver(q=>{q.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,q,ae){let k;if(void 0===B&&void 0===q&&void 0===ae)throw new Error("Missing Observer.");k=function an(G,B){if("object"!=typeof G||null===G)return!1;for(const q of B)if(q in G&&"function"==typeof G[q])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:q,complete:ae},void 0===k.next&&(k.next=pi),void 0===k.error&&(k.error=pi),void 0===k.complete&&(k.complete=pi);const P=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch(U){}}),this.observers.push(k),P}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,B)}sendOne(B,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{q(this.observers[B])}catch(ae){"undefined"!=typeof console&&console.error&&console.error(ae)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pi(){}function Qr(G,B=1e3,q=2){const ae=B*Math.pow(q,G),k=Math.round(.5*ae*(Math.random()-.5)*2);return Math.min(144e5,ae+k)}function gt(G){return G&&G._delegate?G._delegate:G}function Yn(G,B){return new Promise((q,ae)=>{G.onsuccess=k=>{q(k.target.result)},G.onerror=k=>{var P;ae(`${B}: ${null===(P=k.target.error)||void 0===P?void 0:P.message}`)}})}class $t{constructor(B){this._db=B,this.objectStoreNames=this._db.objectStoreNames}transaction(B,q){return new Ue(this._db.transaction.call(this._db,B,q))}createObjectStore(B,q){return new _e(this._db.createObjectStore(B,q))}close(){this._db.close()}}class Ue{constructor(B){this._transaction=B,this.complete=new Promise((q,ae)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{ae(this._transaction.error)},this._transaction.onabort=()=>{ae(this._transaction.error)}})}objectStore(B){return new _e(this._transaction.objectStore(B))}}class _e{constructor(B){this._store=B}index(B){return new Xe(this._store.index(B))}createIndex(B,q,ae){return new Xe(this._store.createIndex(B,q,ae))}get(B){return Yn(this._store.get(B),"Error reading from IndexedDB")}put(B,q){return Yn(this._store.put(B,q),"Error writing to IndexedDB")}delete(B){return Yn(this._store.delete(B),"Error deleting from IndexedDB")}clear(){return Yn(this._store.clear(),"Error clearing IndexedDB object store")}}class Xe{constructor(B){this._index=B}get(B){return Yn(this._index.get(B),"Error reading from IndexedDB")}}function dt(G,B,q){return new Promise((ae,k)=>{try{const P=indexedDB.open(G,B);P.onsuccess=U=>{ae(new $t(U.target.result))},P.onerror=U=>{var re;k(`Error opening indexedDB: ${null===(re=U.target.error)||void 0===re?void 0:re.message}`)},P.onupgradeneeded=U=>{q(new $t(P.result),U.oldVersion,U.newVersion,new Ue(P.transaction))}}catch(P){k(`Error opening indexedDB: ${P.message}`)}})}function Ft(G){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(G){return new Promise((B,q)=>{try{const ae=indexedDB.deleteDatabase(G);ae.onsuccess=()=>{B()},ae.onerror=k=>{var P;q(`Error deleting indexedDB database "${G}": ${null===(P=k.target.error)||void 0===P?void 0:P.message}`)}}catch(ae){q(`Error deleting indexedDB database "${G}": ${ae.message}`)}})})).apply(this,arguments)}},2404:(_t,Ie,L)=>{var c=L(5e3);let j=null;function F(){return j}const fe=new c.OlP("DocumentToken");let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function xe(){return(0,c.LFG)($)}()},providedIn:"platform"}),n})();const W=new c.OlP("Location Initialized");let $=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){X()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){X()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ye(){return new $((0,c.LFG)(fe))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ve(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ke(n){return n&&"?"!==n[0]?"?"+n:n}let te=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Te(n){const e=(0,c.LFG)(fe).location;return new $e((0,c.LFG)(me),e&&e.origin||"")}()},providedIn:"root"}),n})();const Je=new c.OlP("appBaseHref");let $e=(()=>{class n extends te{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ke(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const u=this.prepareExternalUrl(r+ke(s));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){const u=this.prepareExternalUrl(r+ke(s));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(me),c.LFG(Je,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends te{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ne(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let u=this.prepareExternalUrl(r+ke(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){let u=this.prepareExternalUrl(r+ke(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(me),c.LFG(Je,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(t,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ve(ee(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ke(i))}normalize(t){return n.stripTrailingSlash(function je(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ee(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ke(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ke(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ke,n.joinWithSlash=Ne,n.stripTrailingSlash=Ve,n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(me))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function pe(){return new be((0,c.LFG)(te),(0,c.LFG)(me))}()},providedIn:"root"}),n})();function ee(n){return n.replace(/\/index.html$/,"")}class qs{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new qs(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,u),Ys(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Ys(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ys(n,e){n.context.$implicit=e.item}let ti=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new hn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){uc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){uc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class hn{constructor(){this.$implicit=null,this.ngIf=null}}function uc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Wu{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let xi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),wr=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Wu(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(xi,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),_s=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),n})(),_i=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const pa="browser";function il(n){return"server"===n}let If=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new pc((0,c.LFG)(fe),window)}),n})();class pc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function rl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Tf(this.window.history)||Tf(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Tf(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ol extends class sl extends class Ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function De(n){j||(j=n)}(new ol)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ju(){return mn=mn||document.querySelector("base"),mn?mn.getAttribute("href"):null}();return null==t?null:function ga(n){gc=gc||document.createElement("a"),gc.setAttribute("href",n);const e=gc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){mn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function cc(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let gc,mn=null;const yi=new c.OlP("TRANSITION_ID"),mc=[{provide:c.ip1,useFactory:function Qu(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=F(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[yi,fe,c.zs3],multi:!0}];class Xr{static init(){(0,c.VLi)(new Xr)}addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(p){u=u||p,s--,0==s&&i(u)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ji=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const xo=new c.OlP("EventManagerPlugins");let ma=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class _c{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=F().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let bs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ks=(()=>{class n extends bs{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(No),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(No))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function No(n){F().remove(n)}const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},al=/%COMP%/g;function we(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?we(n,r,t):(r=r.replace(al,n),t.push(r))}return t}function Ut(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let bn=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new bc(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ed(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new ll(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=we(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ma),c.LFG(Ks),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class bc{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(bt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=bt[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=bt[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ut(i)):this.eventManager.addEventListener(e,t,Ut(i))}}class ed extends bc{constructor(e,t,i,r){super(e),this.component=i;const s=we(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function dm(n){return"_ngcontent-%COMP%".replace(al,n)}(r+"-"+i.id),this.hostAttr=function Xu(n){return"_nghost-%COMP%".replace(al,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class ll extends bc{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=we(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let p0=(()=>{class n extends _c{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Af=["alt","control","meta","shift"],wc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ni={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ws={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Dc=(()=>{class n extends _c{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="";if(Af.forEach(p=>{const y=i.indexOf(p);y>-1&&(i.splice(y,1),u+=p+".")}),u+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(t){let i="",r=function ya(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ni.hasOwnProperty(e)&&(e=ni[e]))}return wc[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Af.forEach(s=>{s!=r&&ws[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const td=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:pa},{provide:c.g9A,useValue:function Br(){ol.makeCurrent(),Xr.init()},multi:!0},{provide:fe,useFactory:function Cc(){return(0,c.RDi)(document),document},deps:[]}]),nd=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function fm(){return new c.qLn},deps:[]},{provide:xo,useClass:p0,multi:!0,deps:[fe,c.R0b,c.Lbi]},{provide:xo,useClass:Dc,multi:!0,deps:[fe]},{provide:bn,useClass:bn,deps:[ma,Ks,c.AFp]},{provide:c.FYo,useExisting:bn},{provide:bs,useExisting:Ks},{provide:Ks,useClass:Ks,deps:[fe]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:ma,useClass:ma,deps:[xo,c.R0b]},{provide:class vn{},useClass:ji,deps:[]}];let Ro=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:yi,useExisting:c.AFp},mc]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:nd,imports:[_i,c.hGG]}),n})();"undefined"!=typeof window&&window;let Fo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(Nf),i},providedIn:"root"}),n})(),Nf=(()=>{class n extends Fo{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ud(n){return new Nf(n.get(fe))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var An=L(8996),ii=L(8306);const{isArray:va}=Array,{getPrototypeOf:kf,prototype:dd,keys:Qs}=Object;function hd(n){if(1===n.length){const e=n[0];if(va(e))return{args:e,keys:null};if(function Ln(n){return n&&"object"==typeof n&&kf(n)===dd}(e)){const t=Qs(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var vi=L(8421),es=L(3269),on=L(5403),st=L(4004);const{isArray:Tc}=Array;function dl(n){return(0,st.U)(e=>function m0(n,e){return Tc(e)?n(...e):n(e)}(n,e))}function fd(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function hl(...n){const e=(0,es.jO)(n),{args:t,keys:i}=hd(n),r=new ii.y(s=>{const{length:u}=t;if(!u)return void s.complete();const h=new Array(u);let p=u,y=u;for(let C=0;C<u;C++){let I=!1;(0,vi.Xf)(t[C]).subscribe((0,on.x)(s,x=>{I||(I=!0,y--),h[C]=x},()=>p--,void 0,()=>{(!p||!I)&&(y||s.next(i?fd(i,h):h),s.complete())}))}});return e?r.pipe(dl(e)):r}let pd=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Ni=(()=>{class n extends pd{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Zn=new c.OlP("NgValueAccessor"),fl={provide:Zn,useExisting:(0,c.Gpc)(()=>Xs),multi:!0},Rf=new c.OlP("CompositionEventMode");let Xs=(()=>{class n extends pd{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function md(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Rf,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[c._Bn([fl]),c.qOj]}),n})();function ts(n){return null==n||0===n.length}function _d(n){return null!=n&&"number"==typeof n.length}const li=new c.OlP("NgValidators"),Vo=new c.OlP("NgAsyncValidators"),pl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ba{static min(e){return function Of(n){return e=>{if(ts(e.value)||ts(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function yd(n){return e=>{if(ts(e.value)||ts(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return gl(e)}static requiredTrue(e){return function Bo(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Sc(n){return ts(n.value)||pl.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ml(n){return e=>ts(e.value)||!_d(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Ac(n){return e=>_d(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Uo(n){if(!n)return Dr;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(ts(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Mn(e)}static composeAsync(e){return Dm(e)}}function gl(n){return ts(n.value)?{required:!0}:null}function Dr(n){return null}function jo(n){return null!=n}function vd(n){const e=(0,c.QGY)(n)?(0,An.D)(n):n;return(0,c.CqO)(e),e}function Mc(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Es(n,e){return e.map(t=>t(n))}function Pf(n){return n.map(e=>function _0(n){return!n.validate}(e)?e:t=>e.validate(t))}function Mn(n){if(!n)return null;const e=n.filter(jo);return 0==e.length?null:function(t){return Mc(Es(t,e))}}function bd(n){return null!=n?Mn(Pf(n)):null}function Dm(n){if(!n)return null;const e=n.filter(jo);return 0==e.length?null:function(t){return hl(Es(t,e).map(vd)).pipe((0,st.U)(Mc))}}function wd(n){return null!=n?Dm(Pf(n)):null}function Cm(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Em(n){return n._rawValidators}function Im(n){return n._rawAsyncValidators}function xc(n){return n?Array.isArray(n)?n:[n]:[]}function eo(n,e){return Array.isArray(n)?n.includes(e):n===e}function Dd(n,e){const t=xc(e);return xc(n).forEach(r=>{eo(t,r)||t.push(r)}),t}function Vn(n,e){return xc(e).filter(t=>!eo(n,t))}class wa{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bd(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class tr extends wa{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bi extends wa{get formDirective(){return null}get path(){return null}}class _l{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let Da=(()=>{class n extends _l{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(tr,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})(),yl=(()=>{class n extends _l{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bi,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[c.qOj]}),n})();function Ca(n,e){Ss(n,e),e.valueAccessor.writeValue(n.value),function vl(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&jf(n,e)})}(n,e),function Mm(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Uf(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&jf(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Bf(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ea(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Ia(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ts(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ss(n,e){const t=Em(n);null!==e.validator?n.setValidators(Cm(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Im(n);null!==e.asyncValidator?n.setAsyncValidators(Cm(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ts(e._rawValidators,r),Ts(e._rawAsyncValidators,r)}function Ia(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Em(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=Im(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Ts(e._rawValidators,i),Ts(e._rawAsyncValidators,i),t}function jf(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bl(n,e){Ss(n,e)}function Ta(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Sa(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function As(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Xs?t=s:function Gf(n){return Object.getPrototypeOf(n.constructor)===Ni}(s)?i=s:r=s}),r||i||t||null}function wl(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const to="VALID",Ms="INVALID",no="PENDING",ns="DISABLED";function Cl(n){return(Oc(n)?n.validators:n)||null}function Aa(n){return Array.isArray(n)?bd(n):n||null}function Ma(n,e){return(Oc(e)?e.asyncValidators:n)||null}function Td(n){return Array.isArray(n)?wd(n):n||null}function Oc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Pc=n=>n instanceof Md,io=n=>n instanceof xd;function Sd(n){return Pc(n)?n.value:n.getRawValue()}function Rm(n,e){const t=io(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")}function xa(n,e){io(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})}class Ad{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Aa(this._rawValidators),this._composedAsyncValidatorFn=Td(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===to}get invalid(){return this.status===Ms}get pending(){return this.status==no}get disabled(){return this.status===ns}get enabled(){return this.status!==ns}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Aa(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Td(e)}addValidators(e){this.setValidators(Dd(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Dd(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Vn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Vn(e,this._rawAsyncValidators))}hasValidator(e){return eo(this._rawValidators,e)}hasAsyncValidator(e){return eo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=no,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ns,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=to,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===to||this.status===no)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ns:to}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=no,this._hasOwnPendingAsyncValidator=!0;const t=vd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function km(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=io(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof Om)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?ns:this.errors?Ms:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(no)?no:this._anyControlsHaveStatus(Ms)?Ms:to}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Oc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Md extends Ad{constructor(e=null,t,i){super(Cl(t),Ma(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Oc(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wl(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wl(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class xd extends Ad{constructor(e,t,i){super(Cl(t),Ma(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){xa(this,e),Object.keys(e).forEach(i=>{Rm(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=Sd(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Om extends Ad{constructor(e,t,i){super(Cl(t),Ma(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){xa(this,e),e.forEach((i,r)=>{Rm(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Sd(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Pm={provide:bi,useExisting:(0,c.Gpc)(()=>zo)},ro=(()=>Promise.resolve(null))();let zo=(()=>{class n extends bi{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new xd({},bd(t),wd(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ro.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Ca(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ro.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ro.then(()=>{const i=this._findContainer(t.path),r=new xd({});bl(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ro.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ro.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Sa(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(li,10),c.Y36(Vo,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Pm]),c.qOj]}),n})();const Od={provide:tr,useExisting:(0,c.Gpc)(()=>xs)},Pd=(()=>Promise.resolve(null))();let xs=(()=>{class n extends tr{constructor(t,i,r,s,u){super(),this._changeDetectorRef=u,this.control=new Md,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=As(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ta(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ca(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Pd.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;Pd.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?function $o(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bi,9),c.Y36(li,10),c.Y36(Vo,10),c.Y36(Zn,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Od]),c.qOj,c.TTD]}),n})(),zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),is=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Lc=new c.OlP("NgModelWithFormControlWarning"),Yf={provide:tr,useExisting:(0,c.Gpc)(()=>Vd)};let Vd=(()=>{class n extends tr{constructor(t,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=As(0,r)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&Ea(i,this,!1),Ca(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Ta(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ea(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(li,10),c.Y36(Vo,10),c.Y36(Zn,10),c.Y36(Lc,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([Yf]),c.qOj,c.TTD]}),n})();const Zf={provide:bi,useExisting:(0,c.Gpc)(()=>Vc)};let Vc=(()=>{class n extends bi{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ia(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Ca(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Ea(t.control||null,t,!1),wl(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Sa(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Ea(i||null,t),Pc(r)&&(Ca(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);bl(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function xm(n,e){return Ia(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ss(this.form,this),this._oldForm&&Ia(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(li,10),c.Y36(Vo,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Zf]),c.qOj,c.TTD]}),n})(),so=(()=>{class n{constructor(){this._validator=Dr}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Dr,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const ka={provide:li,useExisting:(0,c.Gpc)(()=>Uc),multi:!0};let Uc=(()=>{class n extends so{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Vm(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>gl}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([ka]),c.qOj]}),n})(),YE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[is]]}),n})(),jc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[YE]}),n})(),rr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Lc,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[YE]}),n})();function xn(n){return null!=n&&"false"!=`${n}`}function S0(n){return Array.isArray(n)?n:[n]}function ri(n){return null==n?"":"string"==typeof n?n:`${n}px`}function oo(n){return n instanceof c.SBq?n.nativeElement:n}var Lt=L(7579),ao=L(727);class A0 extends ao.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const tp={setInterval(n,e,...t){const{delegate:i}=tp;return(null==i?void 0:i.setInterval)?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=tp;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};var JE=L(8737);class Hc extends A0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return tp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;tp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,JE.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Um={now:()=>(Um.delegate||Date).now(),delegate:void 0};class jd{constructor(e,t=jd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}jd.now=Um.now;class Gc extends jd{constructor(e,t=jd.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const $c=new Gc(Hc),QE=$c;var Bn=L(4482);let M0=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e1=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=oo(t);return new ii.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Lt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(M0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t1=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=xn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function Ud(n,e=0){return function Bm(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function XE(n,e=$c){return(0,Bn.e)((t,i)=>{let r=null,s=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function p(){const y=u+n,C=e.now();if(C<y)return r=this.schedule(void 0,y-C),void i.add(r);h()}t.subscribe((0,on.x)(i,y=>{s=y,u=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(e1),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),x0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[M0]}),n})();const N0=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function n1(){return(0,c.f3M)(fe)}}),r1=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let jm,k0=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function s1(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?r1.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(N0,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{jm="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){jm=!1}let Gd,wi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function yn(n){return n===pa}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jm)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o1=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Hm(){if(Gd)return Gd;if("object"!=typeof document||!document)return Gd=new Set(o1),Gd;let n=document.createElement("input");return Gd=new Set(o1.filter(e=>(n.setAttribute("type",e),n.type===e))),Gd}let np,Al,rp;function zc(n){return function lo(){if(null==np&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>np=!0}))}finally{np=np||!1}return np}()?n:!!n.capture}function O0(){if(null==Al){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Al=!1,Al;if("scrollBehavior"in document.documentElement.style)Al=!0;else{const n=Element.prototype.scrollTo;Al=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Al}function Ra(n){return n.composedPath?n.composedPath()[0]:n.target}function L0(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}class Nn extends Lt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function lt(...n){const e=(0,es.yG)(n);return(0,An.D)(n,e)}function Rn(n,e){return(0,Bn.e)((t,i)=>{let r=0;t.subscribe((0,on.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var ss=L(4671);function Ko(n,e=ss.y){return n=null!=n?n:Yc,(0,Bn.e)((t,i)=>{let r,s=!0;t.subscribe((0,on.x)(i,u=>{const h=e(u);(s||!n(r,h))&&(s=!1,r=h,i.next(u))}))})}function Yc(n,e){return n===e}var lp=L(5032);function Cn(n){return(0,Bn.e)((e,t)=>{(0,vi.Xf)(n).subscribe((0,on.x)(t,()=>t.complete(),lp.Z)),!t.closed&&e.subscribe(t)})}function cp(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function ob(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const X1=new c.OlP("cdk-input-modality-detector-options"),kO={ignoreKeys:[18,17,224,91,16]},Zc=zc({passive:!0,capture:!0});let eI=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Nn(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,p;(null===(p=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===p?void 0:p.some(y=>y===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Ra(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(cp(u)?"keyboard":"mouse"),this._mostRecentTarget=Ra(u))},this._onTouchstart=u=>{ob(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ra(u))},this._options=Object.assign(Object.assign({},kO),s),this.modalityDetected=this._modality.pipe(function ap(n){return Rn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(Ko()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Zc),r.addEventListener("mousedown",this._onMousedown,Zc),r.addEventListener("touchstart",this._onTouchstart,Zc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Zc),document.removeEventListener("mousedown",this._onMousedown,Zc),document.removeEventListener("touchstart",this._onTouchstart,Zc))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wi),c.LFG(c.R0b),c.LFG(fe),c.LFG(X1,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const r_=new c.OlP("cdk-focus-monitor-default-options"),up=zc({passive:!0,capture:!0});let s_=(()=>{class n{constructor(t,i,r,s,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Lt.x,this._rootNodeFocusAndBlurListener=h=>{const p=Ra(h),y="focus"===h.type?this._onFocus:this._onBlur;for(let C=p;C;C=C.parentElement)y.call(this,h,C)},this._document=s,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,i=!1){const r=oo(t);if(!this._platform.isBrowser||1!==r.nodeType)return lt(null);const s=function Gm(n){if(function P0(){if(null==rp){const n="undefined"!=typeof document?document.head:null;rp=!(!n||!n.createShadowRoot&&!n.attachShadow)}return rp}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new Lt.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=oo(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=oo(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Ra(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,up),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,up)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Cn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,up),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,up),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(wi),c.LFG(eI),c.LFG(fe,8),c.LFG(r_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o_="cdk-high-contrast-black-on-white",lb="cdk-high-contrast-white-on-black",a_="cdk-high-contrast-active";let dp=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(a_),t.remove(o_),t.remove(lb),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(a_),t.add(o_)):2===i&&(t.add(a_),t.add(lb))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wi),c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FO=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dp))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[x0]]}),n})();class cb{}const uo="*";function hp(n,e){return{type:7,name:n,definitions:e,options:{}}}function Kc(n,e=null){return{type:4,styles:e,timings:n}}function ho(n,e=null){return{type:2,steps:n,options:e}}function Er(n){return{type:6,styles:n,offset:null}}function l_(n,e,t){return{type:0,name:n,styles:e,options:t}}function fp(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function gp(n){Promise.resolve(null).then(n)}class Jc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gp(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class c_{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?gp(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Wt=!1;function pb(n){return new c.vHH(3e3,Wt)}function $O(){return"undefined"!=typeof window&&void 0!==window.document}function _p(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qo(n){switch(n.length){case 0:return new Jc;case 1:return n[0];default:return new c_(n)}}function h_(n,e,t,i,r={},s={}){const u=[],h=[];let p=-1,y=null;if(i.forEach(C=>{const I=C.offset,x=I==p,N=x&&y||{};Object.keys(C).forEach(V=>{let z=V,se=C[V];if("offset"!==V)switch(z=e.normalizePropertyName(z,u),se){case"!":se=r[V];break;case uo:se=s[V];break;default:se=e.normalizeStyleValue(V,z,se,u)}N[z]=se}),x||h.push(N),y=N,p=I}),u.length)throw function Db(n){return new c.vHH(3502,Wt)}();return h}function f_(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Ib(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Ib(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Ib(t,"destroy",n)))}}function Ib(n,e,t){const i=t.totalTime,s=yp(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),u=n._data;return null!=u&&(s._data=u),s}function yp(n,e,t,i,r="",s=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function sr(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function Tb(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let $d=(n,e)=>!1,Sb=(n,e,t)=>[],Ab=null;function p_(n){const e=n.parentNode||n.host;return e===Ab?null:e}(_p()||"undefined"!=typeof Element)&&($O()?(Ab=(()=>document.documentElement)(),$d=(n,e)=>{for(;e;){if(e===n)return!0;e=p_(e)}return!1}):$d=(n,e)=>n.contains(e),Sb=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Nl=null,zd=!1;function kl(n){Nl||(Nl=function _I(){return"undefined"!=typeof document?document.body:null}()||{},zd=!!Nl.style&&"WebkitAppearance"in Nl.style);let e=!0;return Nl.style&&!function mI(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Nl.style,!e&&zd&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Nl.style)),e}const tu=$d,Mb=Sb;let vp=(()=>{class n{validateStyleProperty(t){return kl(t)}matchesElement(t,i){return!1}containsElement(t,i){return tu(t,i)}getParentElement(t){return p_(t)}query(t,i,r){return Mb(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,u,h=[],p){return new Jc(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),as=(()=>{class n{}return n.NOOP=new vp,n})();const nu="ng-enter",or="ng-leave",iu="ng-trigger",Xo=".ng-trigger",Ol="ng-animating",Pa=".ng-animating";function ls(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Fa(parseFloat(e[1]),e[2])}function Fa(n,e){return"s"===e?1e3*n:n}function ea(n,e,t){return n.hasOwnProperty("duration")?n:function ru(n,e,t){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(pb()),{duration:0,delay:0,easing:""};r=Fa(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=Fa(parseFloat(p),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function iI(){return new c.vHH(3100,Wt)}()),h=!0),s<0&&(e.push(function gb(){return new c.vHH(3101,Wt)}()),h=!0),h&&e.splice(p,0,pb())}return{duration:r,delay:s,easing:u}}(n,e,t)}function Rs(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ta(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else Rs(n,t);return t}function g_(n,e,t){return t?e+":"+t+";":""}function m_(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=g_(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=g_(0,Nb(t),n.style[t]));n.setAttribute("style",e)}function Os(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=Dp(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),_p()&&m_(n))}function La(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=Dp(t);n.style[i]=""}),_p()&&m_(n))}function su(n){return Array.isArray(n)?1==n.length?n[0]:ho(n):n}const bp=new RegExp("{{\\s*(.+?)\\s*}}","g");function __(n){let e=[];if("string"==typeof n){let t;for(;t=bp.exec(n);)e.push(t[1]);bp.lastIndex=0}return e}function wp(n,e,t){const i=n.toString(),r=i.replace(bp,(s,u)=>{let h=e[u];return e.hasOwnProperty(u)||(t.push(function mb(n){return new c.vHH(3003,Wt)}()),h=""),h.toString()});return r==i?n:r}function qd(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const yI=/-+([a-z0-9])/g;function Dp(n){return n.replace(yI,(...e)=>e[1].toUpperCase())}function Nb(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ir(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function rI(n){return new c.vHH(3004,Wt)}()}}function kb(n,e){return window.getComputedStyle(n)[e]}function YO(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function ZO(n,e,t){if(":"==n[0]){const p=function KO(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function dI(n){return new c.vHH(3016,Wt)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function uI(n){return new c.vHH(3015,Wt)}()),e;const r=i[1],s=i[2],u=i[3];e.push(CI(r,u));"<"==s[0]&&!("*"==r&&"*"==u)&&e.push(CI(u,r))}(i,t,e)):t.push(n),t}const Ip=new Set(["true","1"]),Zd=new Set(["false","0"]);function CI(n,e){const t=Ip.has(n)||Zd.has(n),i=Ip.has(e)||Zd.has(e);return(r,s)=>{let u="*"==n||n==r,h="*"==e||e==s;return!u&&t&&"boolean"==typeof r&&(u=r?Ip.has(n):Zd.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?Ip.has(e):Zd.has(e)),u&&h}}const ou=new RegExp("s*:selfs*,?","g");function y_(n,e,t,i){return new EI(n).build(e,t,i)}class EI{constructor(e){this._driver=e}build(e,t,i){const r=new II(t);this._resetContextStyleTimingState(r);const s=Ir(this,su(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function eu(){return new c.vHH(3006,Wt)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(C=>{p.name=C,s.push(this.visitState(p,t))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,u.push(p)}else t.errors.push(function oI(){return new c.vHH(3007,Wt)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(h=>{if(Sp(h)){const p=h;Object.keys(p).forEach(y=>{__(p[y]).forEach(C=>{u.hasOwnProperty(C)||s.add(C)})})}}),s.size&&(qd(s.values()),t.errors.push(function aI(n,e){return new c.vHH(3008,Wt)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ir(this,su(e.animation),t);return{type:1,matchers:YO(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Fl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ir(this,i,t)),options:Fl(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(u=>{t.currentTime=i;const h=Ir(this,u,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:Fl(e.options)}}visitAnimate(e,t){const i=function TI(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return b_(ea(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=b_(0,0,"");return s.dynamic=!0,s.strValue=i,s}return t=t||ea(i,e),b_(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Er({});if(5==s.type)r=this.visitKeyframes(s,t);else{let u=e.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=Er(y)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(u,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==uo?i.push(u):t.errors.push(function lI(n){return new c.vHH(3002,Wt)}()):i.push(u)}):i.push(e.styles);let r=!1,s=null;return i.forEach(u=>{if(Sp(u)){const h=u,p=h.easing;if(p&&(s=p,delete h.easing),!r)for(let y in h)if(h[y].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void t.unsupportedCSSPropertiesFound.add(h);const p=t.collectedStyles[t.currentQuerySelector],y=p[h];let C=!0;y&&(s!=r&&s>=y.startTime&&r<=y.endTime&&(t.errors.push(function ks(n,e,t,i,r){return new c.vHH(3010,Wt)}()),C=!1),s=y.startTime),C&&(p[h]={startTime:s,endTime:r}),t.options&&function xb(n,e,t){const i=e.params||{},r=__(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function Xc(n){return new c.vHH(3001,Wt)}())})}(u[h],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function u_(){return new c.vHH(3011,Wt)}()),i;let s=0;const u=[];let h=!1,p=!1,y=0;const C=e.steps.map(Me=>{const ge=this._makeStyleAst(Me,t);let Ze=null!=ge.offset?ge.offset:function Lb(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Sp(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Sp(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ge.styles),Se=0;return null!=Ze&&(s++,Se=ge.offset=Ze),p=p||Se<0||Se>1,h=h||Se<y,y=Se,u.push(Se),ge});p&&t.errors.push(function _b(){return new c.vHH(3012,Wt)}()),h&&t.errors.push(function yb(){return new c.vHH(3200,Wt)}());const I=e.steps.length;let x=0;s>0&&s<I?t.errors.push(function vb(){return new c.vHH(3202,Wt)}()):0==s&&(x=1/(I-1));const N=I-1,V=t.currentTime,z=t.currentAnimateTimings,se=z.duration;return C.forEach((Me,ge)=>{const Ze=x>0?ge==N?1:x*ge:u[ge],Se=Ze*se;t.currentTime=V+z.delay+Se,z.duration=Se,this._validateStyleAst(Me,t),Me.offset=Ze,i.styles.push(Me)}),i}visitReference(e,t){return{type:8,animation:Ir(this,su(e.animation),t),options:Fl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Fl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Fl(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,u]=function Fb(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ou,"")),n=n.replace(/@\*/g,Xo).replace(/@\w+/g,t=>Xo+"-"+t.substr(1)).replace(/:animating/g,Pa),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,sr(t.collectedStyles,t.currentQuerySelector,{});const h=Ir(this,su(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:Fl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function bb(){return new c.vHH(3013,Wt)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:ea(e.timings,t.errors,!0);return{type:12,animation:Ir(this,su(e.animation),t),timings:i,options:null}}}class II{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Sp(n){return!Array.isArray(n)&&"object"==typeof n}function Fl(n){return n?(n=Rs(n)).params&&(n.params=function Tp(n){return n?Rs(n):null}(n.params)):n={},n}function b_(n,e,t){return{duration:n,delay:e,easing:t}}function w_(n,e,t,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class Kd{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Bb=new RegExp(":enter","g"),JO=new RegExp(":leave","g");function Jd(n,e,t,i,r,s={},u={},h,p,y=[]){return(new AI).buildKeyframes(n,e,t,i,r,s,u,h,p,y)}class AI{buildKeyframes(e,t,i,r,s,u,h,p,y,C=[]){y=y||new Kd;const I=new Ll(e,t,y,r,s,C,[]);I.options=p,I.currentTimeline.setStyles([u],null,I.errors,p),Ir(this,i,I);const x=I.timelines.filter(N=>N.containsAnimation());if(Object.keys(h).length){let N;for(let V=x.length-1;V>=0;V--){const z=x[V];if(z.element===t){N=z;break}}N&&!N.allowOnlyTimelineStyles()&&N.setStyles([h],null,I.errors,p)}return x.length?x.map(N=>N.buildKeyframes()):[w_(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const u=null!=i.duration?ls(i.duration):null,h=null!=i.delay?ls(i.delay):null;return 0!==u&&e.forEach(p=>{const y=t.appendInstructionToTimeline(p,u,h);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ir(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=C_);const u=ls(s.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ir(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ls(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),Ir(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return ea(t.params?wp(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?ls(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=C_);let u=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((y,C)=>{t.currentQueryIndex=C;const I=t.createSubContext(e.options,y);s&&I.delayNextStep(s),y===t.element&&(p=I.currentTimeline),Ir(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,u=Math.abs(s.duration),h=u*(t.currentQueryTotal-1);let p=u*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const C=t.currentTimeline;p&&C.delayNextStep(p);const I=C.currentTime;Ir(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const C_={};class Ll{constructor(e,t,i,r,s,u,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=C_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Qd(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=ls(i.duration)),null!=i.delay&&(r.delay=ls(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=wp(s[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new Ll(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=C_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new E_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,u){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(Bb,"."+this._enterClassName)).replace(JO,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!s&&0==h.length&&u.push(function cI(n){return new c.vHH(3014,Wt)}()),h}}class Qd{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Qd(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||uo,this._currentKeyframe[t]=uo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},u=function MI(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=uo})):ta(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const p=wp(u[h],s,i);this._pendingStyles[h]=p,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:uo),this._updateStyle(h,p)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const y=ta(h,!0);Object.keys(y).forEach(C=>{const I=y[C];"!"==I?e.add(C):I==uo&&t.add(C)}),i||(y.offset=p/this.duration),r.push(y)});const s=e.size?qd(e.values()):[],u=t.size?qd(t.values()):[];if(i){const h=r[0],p=Rs(h);h.offset=0,p.offset=1,r=[h,p]}return w_(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class E_ extends Qd{constructor(e,t,i,r,s,u,h=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],u=i+t,h=t/u,p=ta(e[0],!1);p.offset=0,s.push(p);const y=ta(e[0],!1);y.offset=Ap(h),s.push(y);const C=e.length-1;for(let I=1;I<=C;I++){let x=ta(e[I],!1);x.offset=Ap((t+x.offset*i)/u),s.push(x)}i=u,t=0,r="",e=s}return w_(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Ap(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class au{}class QO extends au{normalizePropertyName(e,t){return Dp(e)}normalizeStyleValue(e,t,i,r){let s="";const u=i.toString().trim();if(xI[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function sI(n,e){return new c.vHH(3005,Wt)}())}return u+s}}const xI=(()=>function Mp(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Xd(n,e,t,i,r,s,u,h,p,y,C,I,x){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:C,totalTime:I,errors:x}}const xp={};class T_{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function S_(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],u=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):u}build(e,t,i,r,s,u,h,p,y,C){const I=[],x=this.ast.options&&this.ast.options.params||xp,V=this.buildStyles(i,h&&h.params||xp,I),z=p&&p.params||xp,se=this.buildStyles(r,z,I),Me=new Set,ge=new Map,Ze=new Map,Se="void"===r,He={params:Object.assign(Object.assign({},x),z)},Be=C?[]:Jd(e,t,this.ast.animation,s,u,V,se,He,y,I);let vt=0;if(Be.forEach(tn=>{vt=Math.max(tn.duration+tn.delay,vt)}),I.length)return Xd(t,this._triggerName,i,r,Se,V,se,[],[],ge,Ze,vt,I);Be.forEach(tn=>{const xt=tn.element,At=sr(ge,xt,{});tn.preStyleProps.forEach(fi=>At[fi]=!0);const $n=sr(Ze,xt,{});tn.postStyleProps.forEach(fi=>$n[fi]=!0),xt!==t&&Me.add(xt)});const wt=qd(Me.values());return Xd(t,this._triggerName,i,r,Se,V,se,Be,wt,ge,Ze,vt)}}class jb{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=Rs(this.defaultParams);return Object.keys(e).forEach(s=>{const u=e[s];null!=u&&(r[s]=u)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const u=s;Object.keys(u).forEach(h=>{let p=u[h];p.length>1&&(p=wp(p,r,t));const y=this.normalizer.normalizePropertyName(h,t);p=this.normalizer.normalizeStyleValue(h,y,p,t),i[y]=p})}}),i}}class A_{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new jb(r.style,r.options&&r.options.params||{},i)}),$b(this.states,"true","1"),$b(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new T_(e,r,this.states))}),this.fallbackTransition=function Gb(n,e,t){return new T_(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function $b(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const zb=new Kd;class Wb{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=y_(this._driver,t,i,[]);if(i.length)throw function fI(n){return new c.vHH(3503,Wt)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=h_(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let u;const h=new Map;if(s?(u=Jd(this._driver,t,s,nu,or,{},{},i,zb,r),u.forEach(C=>{const I=sr(h,C.element,{});C.postStyleProps.forEach(x=>I[x]=null)})):(r.push(function pI(){return new c.vHH(3300,Wt)}()),u=[]),r.length)throw function UO(n){return new c.vHH(3504,Wt)}();h.forEach((C,I)=>{Object.keys(C).forEach(x=>{C[x]=this._driver.computeStyle(I,x,uo)})});const y=Qo(u.map(C=>{const I=h.get(C.element);return this._buildPlayer(C,{},I)}));return this._playersById[e]=y,y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function jO(n){return new c.vHH(3301,Wt)}();return t}listen(e,t,i,r){const s=yp(t,"","","");return f_(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Np="ng-animate-queued",M_="ng-animate-disabled",kp=[],N_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Kb={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ur="__ng_removed";class Rp{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function kI(n){return null!=n?n:null}(i?e.value:e),i){const s=Rs(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const lu="void",Op=new Rp(lu);class Jb{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,cs(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function d_(n,e){return new c.vHH(3302,Wt)}();if(null==i||0==i.length)throw function gI(n){return new c.vHH(3303,Wt)}();if(!function RI(n){return"start"==n||"done"==n}(i))throw function Cb(n,e){return new c.vHH(3400,Wt)}();const s=sr(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};s.push(u);const h=sr(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(cs(e,iu),cs(e,iu+"-"+t),h[t]=Op),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(u);p>=0&&s.splice(p,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Eb(n){return new c.vHH(3401,Wt)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),u=new Xb(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(cs(e,iu),cs(e,iu+"-"+t),this._engine.statesByElement.set(e,h={}));let p=h[t];const y=new Rp(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h[t]=y,p||(p=Op),y.value!==lu&&p.value===y.value){if(!function cu(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,y.params)){const z=[],se=s.matchStyles(p.value,p.params,z),Me=s.matchStyles(y.value,y.params,z);z.length?this._engine.reportError(z):this._engine.afterFlush(()=>{La(e,se),Os(e,Me)})}return}const x=sr(this._engine.playersByElement,e,[]);x.forEach(z=>{z.namespaceId==this.id&&z.triggerName==t&&z.queued&&z.destroy()});let N=s.matchTransition(p.value,y.value,e,y.params),V=!1;if(!N){if(!r)return;N=s.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:N,fromState:p,toState:y,player:u,isFallbackTransition:V}),V||(cs(e,Np),u.onStart(()=>{Vl(e,Np)})),u.onDone(()=>{let z=this.players.indexOf(u);z>=0&&this.players.splice(z,1);const se=this._engine.playersByElement.get(e);if(se){let Me=se.indexOf(u);Me>=0&&se.splice(Me,1)}}),this.players.push(u),x.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Xo,!0);i.forEach(r=>{if(r[Ur])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),u=new Map;if(s){const h=[];if(Object.keys(s).forEach(p=>{if(u.set(p,s[p].value),this._triggers[p]){const y=this.trigger(e,p,lu,r);y&&h.push(y)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Qo(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const p=this._triggers[u].fallbackTransition,y=i[u]||Op,C=new Rp(lu),I=new Xb(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:p,fromState:y,toState:C,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Ur];(!s||s===N_)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){cs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const p=yp(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,f_(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Qb{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Jb(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const y=i.indexOf(p);i.splice(y+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=s;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,t)){i.splice(h+1,0,e),u=!0;break}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const u=i[r[s]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&t.add(h)}}}return t}trigger(e,t,i,r){if(eh(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!eh(t))return;const s=t[Ur];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),cs(e,M_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Vl(e,M_))}removeNode(e,t,i,r){if(eh(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Ur]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return eh(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Xo,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Pa,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Qo(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Ur];if(i&&i.setForRemoval){if(e[Ur]=N_,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(M_))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)cs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Qo(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function HO(n){return new c.vHH(3402,Wt)}()}_flushAnimations(e,t){const i=new Kd,r=[],s=new Map,u=[],h=new Map,p=new Map,y=new Map,C=new Set;this.disabledNodes.forEach(Ke=>{C.add(Ke);const at=this.driver.query(Ke,".ng-animate-queued",!0);for(let Et=0;Et<at.length;Et++)C.add(at[Et])});const I=this.bodyNode,x=Array.from(this.statesByElement.keys()),N=ew(x,this.collectedEnterElements),V=new Map;let z=0;N.forEach((Ke,at)=>{const Et=nu+z++;V.set(at,Et),Ke.forEach(jt=>cs(jt,Et))});const se=[],Me=new Set,ge=new Set;for(let Ke=0;Ke<this.collectedLeaveElements.length;Ke++){const at=this.collectedLeaveElements[Ke],Et=at[Ur];Et&&Et.setForRemoval&&(se.push(at),Me.add(at),Et.hasAnimation?this.driver.query(at,".ng-star-inserted",!0).forEach(jt=>Me.add(jt)):ge.add(at))}const Ze=new Map,Se=ew(x,Array.from(Me));Se.forEach((Ke,at)=>{const Et=or+z++;Ze.set(at,Et),Ke.forEach(jt=>cs(jt,Et))}),e.push(()=>{N.forEach((Ke,at)=>{const Et=V.get(at);Ke.forEach(jt=>Vl(jt,Et))}),Se.forEach((Ke,at)=>{const Et=Ze.get(at);Ke.forEach(jt=>Vl(jt,Et))}),se.forEach(Ke=>{this.processLeaveNode(Ke)})});const He=[],Be=[];for(let Ke=this._namespaceList.length-1;Ke>=0;Ke--)this._namespaceList[Ke].drainQueuedTransitions(t).forEach(Et=>{const jt=Et.player,Xn=Et.element;if(He.push(jt),this.collectedEnterElements.length){const Ai=Xn[Ur];if(Ai&&Ai.setForMove){if(Ai.previousTriggersValues&&Ai.previousTriggersValues.has(Et.triggerName)){const Zr=Ai.previousTriggersValues.get(Et.triggerName),Io=this.statesByElement.get(Et.element);Io&&Io[Et.triggerName]&&(Io[Et.triggerName].value=Zr)}return void jt.destroy()}}const gs=!I||!this.driver.containsElement(I,Xn),Fi=Ze.get(Xn),Gs=V.get(Xn),pn=this._buildInstruction(Et,i,Gs,Fi,gs);if(pn.errors&&pn.errors.length)return void Be.push(pn);if(gs)return jt.onStart(()=>La(Xn,pn.fromStyles)),jt.onDestroy(()=>Os(Xn,pn.toStyles)),void r.push(jt);if(Et.isFallbackTransition)return jt.onStart(()=>La(Xn,pn.fromStyles)),jt.onDestroy(()=>Os(Xn,pn.toStyles)),void r.push(jt);const da=[];pn.timelines.forEach(Ai=>{Ai.stretchStartingKeyframe=!0,this.disabledNodes.has(Ai.element)||da.push(Ai)}),pn.timelines=da,i.append(Xn,pn.timelines),u.push({instruction:pn,player:jt,element:Xn}),pn.queriedElements.forEach(Ai=>sr(h,Ai,[]).push(jt)),pn.preStyleProps.forEach((Ai,Zr)=>{const Io=Object.keys(Ai);if(Io.length){let lc=p.get(Zr);lc||p.set(Zr,lc=new Set),Io.forEach(_f=>lc.add(_f))}}),pn.postStyleProps.forEach((Ai,Zr)=>{const Io=Object.keys(Ai);let lc=y.get(Zr);lc||y.set(Zr,lc=new Set),Io.forEach(_f=>lc.add(_f))})});if(Be.length){const Ke=[];Be.forEach(at=>{Ke.push(function GO(n,e){return new c.vHH(3505,Wt)}())}),He.forEach(at=>at.destroy()),this.reportError(Ke)}const vt=new Map,wt=new Map;u.forEach(Ke=>{const at=Ke.element;i.has(at)&&(wt.set(at,at),this._beforeAnimationBuild(Ke.player.namespaceId,Ke.instruction,vt))}),r.forEach(Ke=>{const at=Ke.element;this._getPreviousPlayers(at,!1,Ke.namespaceId,Ke.triggerName,null).forEach(jt=>{sr(vt,at,[]).push(jt),jt.destroy()})});const tn=se.filter(Ke=>nw(Ke,p,y)),xt=new Map;k_(xt,this.driver,ge,y,uo).forEach(Ke=>{nw(Ke,p,y)&&tn.push(Ke)});const $n=new Map;N.forEach((Ke,at)=>{k_($n,this.driver,new Set(Ke),p,"!")}),tn.forEach(Ke=>{const at=xt.get(Ke),Et=$n.get(Ke);xt.set(Ke,Object.assign(Object.assign({},at),Et))});const fi=[],Hu=[],Gu={};u.forEach(Ke=>{const{element:at,player:Et,instruction:jt}=Ke;if(i.has(at)){if(C.has(at))return Et.onDestroy(()=>Os(at,jt.toStyles)),Et.disabled=!0,Et.overrideTotalTime(jt.totalTime),void r.push(Et);let Xn=Gu;if(wt.size>1){let Fi=at;const Gs=[];for(;Fi=Fi.parentNode;){const pn=wt.get(Fi);if(pn){Xn=pn;break}Gs.push(Fi)}Gs.forEach(pn=>wt.set(pn,Xn))}const gs=this._buildAnimation(Et.namespaceId,jt,vt,s,$n,xt);if(Et.setRealPlayer(gs),Xn===Gu)fi.push(Et);else{const Fi=this.playersByElement.get(Xn);Fi&&Fi.length&&(Et.parentPlayer=Qo(Fi)),r.push(Et)}}else La(at,jt.fromStyles),Et.onDestroy(()=>Os(at,jt.toStyles)),Hu.push(Et),C.has(at)&&r.push(Et)}),Hu.forEach(Ke=>{const at=s.get(Ke.element);if(at&&at.length){const Et=Qo(at);Ke.setRealPlayer(Et)}}),r.forEach(Ke=>{Ke.parentPlayer?Ke.syncPlayerEvents(Ke.parentPlayer):Ke.destroy()});for(let Ke=0;Ke<se.length;Ke++){const at=se[Ke],Et=at[Ur];if(Vl(at,or),Et&&Et.hasAnimation)continue;let jt=[];if(h.size){let gs=h.get(at);gs&&gs.length&&jt.push(...gs);let Fi=this.driver.query(at,Pa,!0);for(let Gs=0;Gs<Fi.length;Gs++){let pn=h.get(Fi[Gs]);pn&&pn.length&&jt.push(...pn)}}const Xn=jt.filter(gs=>!gs.destroyed);Xn.length?OI(this,at,Xn):this.processLeaveNode(at)}return se.length=0,fi.forEach(Ke=>{this.players.push(Ke),Ke.onDone(()=>{Ke.destroy();const at=this.players.indexOf(Ke);this.players.splice(at,1)}),Ke.play()}),fi}elementContainsData(e,t){let i=!1;const r=t[Ur];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==lu;h.forEach(y=>{y.queued||!p&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(e,t,i){const s=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const y=p.element,C=y!==s,I=sr(i,y,[]);this._getPreviousPlayers(y,C,u,h,t.toState).forEach(N=>{const V=N.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),N.destroy(),I.push(N)})}La(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,u){const h=t.triggerName,p=t.element,y=[],C=new Set,I=new Set,x=t.timelines.map(V=>{const z=V.element;C.add(z);const se=z[Ur];if(se&&se.removedBeforeQueried)return new Jc(V.duration,V.delay);const Me=z!==p,ge=function tw(n){const e=[];return R_(n,e),e}((i.get(z)||kp).map(vt=>vt.getRealPlayer())).filter(vt=>!!vt.element&&vt.element===z),Ze=s.get(z),Se=u.get(z),He=h_(0,this._normalizer,0,V.keyframes,Ze,Se),Be=this._buildPlayer(V,He,ge);if(V.subTimeline&&r&&I.add(z),Me){const vt=new Xb(e,h,z);vt.setRealPlayer(Be),y.push(vt)}return Be});y.forEach(V=>{sr(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function NI(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,V.element,V))}),C.forEach(V=>cs(V,Ol));const N=Qo(x);return N.onDestroy(()=>{C.forEach(V=>Vl(V,Ol)),Os(p,t.toStyles)}),I.forEach(V=>{sr(r,V,[]).push(N)}),N}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Jc(e.duration,e.delay)}}class Xb{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Jc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>f_(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){sr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function eh(n){return n&&1===n.nodeType}function si(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function k_(n,e,t,i,r){const s=[];t.forEach(p=>s.push(si(p)));const u=[];i.forEach((p,y)=>{const C={};p.forEach(I=>{const x=C[I]=e.computeStyle(y,I,r);(!x||0==x.length)&&(y[Ur]=Kb,u.push(y))}),n.set(y,C)});let h=0;return t.forEach(p=>si(p,s[h++])),u}function ew(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function u(h){if(!h)return 1;let p=s.get(h);if(p)return p;const y=h.parentNode;return p=t.has(y)?y:r.has(y)?1:u(y),s.set(h,p),p}return e.forEach(h=>{const p=u(h);1!==p&&t.get(p).push(h)}),t}function cs(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Vl(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function OI(n,e,t){Qo(t).onDone(()=>n.processLeaveNode(e))}function R_(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof c_?R_(i.players,e):e.push(i)}}function nw(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Pp{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Qb(e,t,i),this._timelineEngine=new Wb(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const u=e+"-"+r;let h=this._triggerCache[u];if(!h){const p=[],C=y_(this._driver,s,p,[]);if(p.length)throw function BO(n,e){return new c.vHH(3404,Wt)}();h=function Hb(n,e,t){return new A_(n,e,t)}(r,C,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,u]=Tb(i);this._timelineEngine.command(s,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[u,h]=Tb(i);return this._timelineEngine.listen(u,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let PI=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Os(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Os(this._element,this._initialStyles),this._endStyles&&(Os(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(La(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(La(this._element,this._endStyles),this._endStyles=null),Os(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Fp(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];XO(r)&&(e=e||{},e[r]=n[r])}return e}function XO(n){return"display"===n||"position"===n}class Lp{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:kb(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class O_{validateStyleProperty(e){return kl(e)}matchesElement(e,t){return!1}containsElement(e,t){return tu(e,t)}getParentElement(e){return p_(e)}query(e,t,i){return Mb(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,u=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const y={},C=u.filter(x=>x instanceof Lp);(function vI(n,e){return 0===n||0===e})(i,r)&&C.forEach(x=>{let N=x.currentSnapshot;Object.keys(N).forEach(V=>y[V]=N[V])}),t=function bI(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],u=[];if(i.forEach(h=>{s.hasOwnProperty(h)||u.push(h),s[h]=t[h]}),u.length)for(var r=1;r<e.length;r++){let h=e[r];u.forEach(function(p){h[p]=kb(n,p)})}}return e}(e,t=t.map(x=>ta(x,!1)),y);const I=function iw(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Fp(e[0]),e.length>1&&(i=Fp(e[e.length-1]))):e&&(t=Fp(e)),t||i?new PI(n,t,i):null}(e,t);return new Lp(e,t,p,I)}}let po=(()=>{class n extends cb{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ho(t):t;return Ps(this._renderer,null,i,"register",[r]),new FI(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class FI extends class ub{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new rw(this._id,e,t||{},this._renderer)}}class rw{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ps(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Ps(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const us="@.disabled";let sw=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=null==u?void 0:u.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(s);return C||(C=new P_("",s,this.engine),this._rendererCache.set(s,C)),C}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=C=>{Array.isArray(C)?C.forEach(p):this.engine.registerTrigger(u,h,t,C.name,C)};return i.data.animation.forEach(p),new LI(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Pp),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class P_{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==us?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class LI extends P_{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==us?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function VI(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),u="";return"@"!=s.charAt(0)&&([s,u]=function BI(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let UI=(()=>{class n extends Pp{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(as),c.LFG(au))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const uu=new c.OlP("AnimationModuleType"),L_=[{provide:cb,useClass:po},{provide:au,useFactory:function F_(){return new QO}},{provide:Pp,useClass:UI},{provide:c.FYo,useFactory:function th(n,e,t){return new sw(n,e,t)},deps:[bn,Pp,c.R0b]}],ow=[{provide:as,useFactory:()=>new O_},{provide:uu,useValue:"BrowserAnimations"},...L_],V_=[{provide:as,useClass:vp},{provide:uu,useValue:"NoopAnimations"},...L_];let aw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?V_:ow}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:ow,imports:[Ro]}),n})(),Vp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:V_,imports:[Ro]}),n})();const uw=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function cw(){return!0}});let ar=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!L0()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dp),c.LFG(uw,8),c.LFG(fe))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Hd],Hd]}),n})();function qI(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=xn(e)}}}function Bp(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function YI(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=xn(e)}}}function ZI(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Lt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let j_=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hw{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const H_={enterDuration:225,exitDuration:150},Up=zc({passive:!0}),jp=["mousedown","touchstart"],G_=["mouseup","mouseleave","touchend","touchcancel"];class Bl{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=oo(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},H_),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function tT(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,p=t-r.top,y=s.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=h-u+"px",C.style.top=p-u+"px",C.style.height=2*u+"px",C.style.width=2*u+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(C),function eT(n){window.getComputedStyle(n).getPropertyValue("opacity")}(C),C.style.transform="scale(1)";const I=new hw(this,C,i);return I.state=0,this._activeRipples.add(I),i.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const x=I===this._mostRecentTransientRipple;I.state=1,!i.persistent&&(!x||!this._isPointerDown)&&I.fadeOut()},y),I}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},H_),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=oo(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(jp))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(G_),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=cp(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!ob(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Up)})})}_removeTriggerEvents(){this._triggerElement&&(jp.forEach(e=>{this._triggerElement.removeEventListener(e,this,Up)}),this._pointerUpEventsRegistered&&G_.forEach(e=>{this._triggerElement.removeEventListener(e,this,Up)}))}}const hu=new c.OlP("mat-ripple-global-options");let nT=(()=>{class n{constructor(t,i,r,s,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Bl(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(wi),c.Y36(hu,8),c.Y36(uu,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),$_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ar],ar]}),n})();var Y_=L(6451),Di=L(5577),pw=L(1144),ds=L(576);const gw=["addListener","removeListener"],mw=["addEventListener","removeEventListener"],oT=["on","off"];function Ri(n,e,t,i){if((0,ds.m)(t)&&(i=t,t=void 0),i)return Ri(n,e,t).pipe(dl(i));const[r,s]=function lT(n){return(0,ds.m)(n.addEventListener)&&(0,ds.m)(n.removeEventListener)}(n)?mw.map(u=>h=>n[u](e,h,t)):function nh(n){return(0,ds.m)(n.addListener)&&(0,ds.m)(n.removeListener)}(n)?gw.map(_w(n,e)):function aT(n){return(0,ds.m)(n.on)&&(0,ds.m)(n.off)}(n)?oT.map(_w(n,e)):[];if(!r&&(0,pw.z)(n))return(0,Di.z)(u=>Ri(u,e,t))((0,vi.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ii.y(u=>{const h=(...p)=>u.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function _w(n,e){return t=>i=>n[t](e,i)}var Hp=L(8189);function fu(...n){return function Gp(){return(0,Hp.J)(1)}()((0,An.D)(n,(0,es.yG)(n)))}function Fs(...n){const e=(0,es.yG)(n);return(0,Bn.e)((t,i)=>{(e?fu(n,t,e):fu(n,t)).subscribe(i)})}var ui=L(5698);const cT=["connectionContainer"],ih=["inputContainer"],rh=["label"];function uT(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function dT(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function hT(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function yw(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function vw(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function bw(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.YNc(2,hT,4,1,"ng-container",12),c.YNc(3,yw,1,0,"ng-content",12),c.YNc(4,vw,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function fT(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function ww(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function pT(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function gT(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function mP(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,gT,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const _P=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yP=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Dw=new c.OlP("MatError"),mT={transitionMessages:hp("transitionMessages",[l_("enter",Er({opacity:1,transform:"translateY(0%)"})),fp("void => enter",[Er({opacity:0,transform:"translateY(-5px)"}),Kc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let K_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const yT=new c.OlP("MatHint");let zp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),Cw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const vT=new c.OlP("MatPrefix"),Ul=new c.OlP("MatSuffix");let J_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSuffix",""]],features:[c._Bn([{provide:Ul,useExisting:n}])]}),n})(),Q_=0;const wT=Bp(class{constructor(n){this._elementRef=n}},"primary"),Ew=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ey=new c.OlP("MatFormField");let Wp=(()=>{class n extends wT{constructor(t,i,r,s,u,h,p){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Lt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Q_++,this._labelId="mat-form-field-label-"+Q_++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=xn(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Fs(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Cn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Cn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Y_.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Fs(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Fs(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Cn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ri(this._label.nativeElement,"transitionend").pipe((0,ui.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const C=i.querySelectorAll(`${r}, ${s}`);for(let I=0;I<C.length;I++)C[I].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const p=i.querySelectorAll(r),y=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const C=i.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const I=this._getStartEnd(C),x=t.children,N=this._getStartEnd(x[0].getBoundingClientRect());let V=0;for(let z=0;z<x.length;z++)V+=x[z].offsetWidth;u=Math.abs(N-I)-5,h=V>0?.75*V+10:0}for(let C=0;C<p.length;C++)p[C].style.width=`${u}px`;for(let C=0;C<y.length;C++)y[C].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(k0,8),c.Y36(Ew,8),c.Y36(wi),c.Y36(c.R0b),c.Y36(uu,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,K_,5),c.Suo(r,K_,7),c.Suo(r,zp,5),c.Suo(r,zp,7),c.Suo(r,Cw,5),c.Suo(r,Dw,5),c.Suo(r,yT,5),c.Suo(r,vT,5),c.Suo(r,Ul,5)),2&t){let s;c.iGM(s=c.CRH())&&(i._controlNonStatic=s.first),c.iGM(s=c.CRH())&&(i._controlStatic=s.first),c.iGM(s=c.CRH())&&(i._labelChildNonStatic=s.first),c.iGM(s=c.CRH())&&(i._labelChildStatic=s.first),c.iGM(s=c.CRH())&&(i._placeholderChild=s.first),c.iGM(s=c.CRH())&&(i._errorChildren=s),c.iGM(s=c.CRH())&&(i._hintChildren=s),c.iGM(s=c.CRH())&&(i._prefixChildren=s),c.iGM(s=c.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(c.Gf(cT,7),c.Gf(ih,5),c.Gf(rh,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._connectionContainerRef=r.first),c.iGM(r=c.CRH())&&(i._inputContainerRef=r.first),c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:ey,useExisting:n}]),c.qOj],ngContentSelectors:yP,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(c.F$t(_P),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),c.YNc(3,uT,9,0,"ng-container",3),c.YNc(4,dT,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,bw,5,16,"label",8),c.qZA()(),c.YNc(10,fT,2,0,"div",9),c.qZA(),c.YNc(11,ww,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,pT,2,1,"div",12),c.YNc(14,mP,5,2,"div",13),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[ti,t1,xi,wr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[mT.transitionMessages]},changeDetection:0}),n})(),ty=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_i,ar,x0],ar]}),n})();var go=L(515);const ny=zc({passive:!0});let DT=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return go.E;const i=oo(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Lt.x,u="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,ny),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,ny)}}),s}stopMonitoring(t){const i=oo(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wi),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const iy=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),CT=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ET=0;const IT=ZI(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let Iw=(()=>{class n extends IT{constructor(t,i,r,s,u,h,p,y,C,I){super(h,s,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=y,this._formField=I,this._uid="mat-input-"+ET++,this.focused=!1,this.stateChanges=new Lt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(V=>Hm().has(V));const x=this._elementRef.nativeElement,N=x.nodeName.toLowerCase();this._inputValueAccessor=p||x,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",V=>{const z=V.target;!z.value&&0===z.selectionStart&&0===z.selectionEnd&&(z.setSelectionRange(1,1),z.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===N,this._isTextarea="textarea"===N,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=xn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(ba.required))&&void 0!==s&&s}set required(t){this._required=xn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Hm().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=xn(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){CT.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(wi),c.Y36(tr,10),c.Y36(zo,8),c.Y36(Vc,8),c.Y36(j_),c.Y36(iy,10),c.Y36(DT),c.Y36(c.R0b),c.Y36(ey,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:K_,useExisting:n}]),c.qOj,c.TTD]}),n})(),TT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[j_],imports:[[qp,ty,ar],qp,ty]}),n})();const ST=["mat-button",""],AT=["*"],Sw=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Aw=Bp(qI(YI(class{constructor(n){this._elementRef=n}})));let Yp=(()=>{class n extends Aw{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of Sw)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(s_),c.Y36(uu,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&c.Gf(nT,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:ST,ngContentSelectors:AT,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[nT],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),ry=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[$_,ar],ar]}),n})();function sh(n,e){const t=(0,ds.m)(n)?n:()=>n,i=r=>r.error(t());return new ii.y(e?r=>e.schedule(i,0,r):i)}function di(n,e,t){const i=(0,ds.m)(n)||e||t?{next:n,error:e,complete:t}:n;return i?(0,Bn.e)((r,s)=>{var u;null===(u=i.subscribe)||void 0===u||u.call(i);let h=!0;r.subscribe((0,on.x)(s,p=>{var y;null===(y=i.next)||void 0===y||y.call(i,p),s.next(p)},()=>{var p;h=!1,null===(p=i.complete)||void 0===p||p.call(i),s.complete()},p=>{var y;h=!1,null===(y=i.error)||void 0===y||y.call(i,p),s.error(p)},()=>{var p,y;h&&(null===(p=i.unsubscribe)||void 0===p||p.call(i)),null===(y=i.finalize)||void 0===y||y.call(i)}))}):ss.y}function Ls(n){return(0,Bn.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,on.x)(t,void 0,void 0,u=>{s=(0,vi.Xf)(n(u,Ls(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Zp(n){return(0,Bn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var sy=L(3099);function Ba(n,e){return(0,ds.m)(e)?(0,Di.z)(n,e,1):(0,Di.z)(n,1)}class MT{}class mo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof mo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new mo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof mo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class xT{encodeKey(e){return kw(e)}encodeValue(e){return kw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const NT=/%(\d[a-f0-9])/gi,Nw={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function kw(n){return encodeURIComponent(n).replace(NT,(e,t)=>{var i;return null!==(i=Nw[t])&&void 0!==i?i:e})}function oy(n){return`${n}`}class jl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xT,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xw(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(u)||[];p.push(h),t.set(u,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new jl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(oy(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(oy(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Kp{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Hl(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function pu(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Rw(n){return"undefined"!=typeof FormData&&n instanceof FormData}class gu{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function kT(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new mo),this.context||(this.context=new Kp),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new jl,this.urlWithParams=t}serializeBody(){return null===this.body?null:Hl(this.body)||pu(this.body)||Rw(this.body)||function MP(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof jl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Rw(this.body)?null:pu(this.body)?this.body.type||null:Hl(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,C=e.params||this.params;const I=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((x,N)=>x.set(N,e.setHeaders[N]),y)),e.setParams&&(C=Object.keys(e.setParams).reduce((x,N)=>x.set(N,e.setParams[N]),C)),new gu(i,r,u,{params:C,headers:y,context:I,reportProgress:p,responseType:s,withCredentials:h})}}var Oi=(()=>((Oi=Oi||{})[Oi.Sent=0]="Sent",Oi[Oi.UploadProgress=1]="UploadProgress",Oi[Oi.ResponseHeader=2]="ResponseHeader",Oi[Oi.DownloadProgress=3]="DownloadProgress",Oi[Oi.Response=4]="Response",Oi[Oi.User=5]="User",Oi))();class ay extends class RT{constructor(e,t=200,i="OK"){this.headers=e.headers||new mo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Oi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ay({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Jp(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Qp=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof gu)s=t;else{let p,y;p=r.headers instanceof mo?r.headers:new mo(r.headers),r.params&&(y=r.params instanceof jl?r.params:new jl({fromObject:r.params})),s=new gu(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=lt(s).pipe(Ba(p=>this.handler.handle(p)));if(t instanceof gu||"events"===r.observe)return u;const h=u.pipe(Rn(p=>p instanceof ay));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,st.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,st.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,st.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,st.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new jl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Jp(r,i))}post(t,i,r={}){return this.request("POST",t,Jp(r,i))}put(t,i,r={}){return this.request("PUT",t,Jp(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(MT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Lw=["*"];let tg;function lh(n){var e;return(null===(e=function GT(){if(void 0===tg&&(tg=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(tg=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return tg}())||void 0===e?void 0:e.createHTML(n))||n}function Vw(n){return Error(`Unable to find icon with the name "${n}"`)}function Bw(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function mu(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ua{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let ch=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Ua(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const u=this._sanitizer.sanitize(c.q3G.HTML,r);if(!u)throw mu(r);const h=lh(u);return this._addSvgIconConfig(t,i,new Ua("",h,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Ua(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(c.q3G.HTML,i);if(!s)throw mu(i);const u=lh(s);return this._addSvgIconSetConfig(t,new Ua("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw Bw(t);const r=this._cachedIconsByUrl.get(i);return r?lt(uh(r)):this._loadSvgIconFromConfig(new Ua(t,null)).pipe(di(s=>this._cachedIconsByUrl.set(i,s)),(0,st.U)(s=>uh(s)))}getNamedSvgIcon(t,i=""){const r=jw(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):sh(Vw(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?lt(uh(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,st.U)(i=>uh(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?lt(r):hl(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Ls(h=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(y)),lt(null)})))).pipe((0,st.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw Vw(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(u,t,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(di(i=>t.svgText=i),(0,st.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?lt(null):this._fetchIcon(t).pipe(di(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(lh("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(lh("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:u,value:h}=r[s];"id"!==u&&i.setAttribute(u,h)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:s}=t,u=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function $T(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,r);if(!h)throw Bw(r);const p=this._inProgressUrlFetches.get(h);if(p)return p;const y=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe((0,st.U)(C=>lh(C)),Zp(()=>this._inProgressUrlFetches.delete(h)),(0,sy.B)());return this._inProgressUrlFetches.set(h,y),y}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(jw(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return WT(s)?new Ua(s.url,null,s.options):new Ua(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Qp,8),c.LFG(Fo),c.LFG(fe,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uh(n){return n.cloneNode(!0)}function jw(n,e){return n+":"+e}function WT(n){return!(!n.url||!n.options)}const qT=Bp(class{constructor(n){this._elementRef=n}}),YT=new c.OlP("mat-icon-location",{providedIn:"root",factory:function ZT(){const n=(0,c.f3M)(fe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Hw=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],KT=Hw.map(n=>`[${n}]`).join(", "),dh=/^url\(['"]?#(.*?)['"]?\)$/;let ly=(()=>{class n extends qT{constructor(t,i,r,s,u){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=u,this._inline=!1,this._currentIconFetch=ao.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=xn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=t.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(u=>{s.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(KT),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)Hw.forEach(u=>{const h=i[s],p=h.getAttribute(u),y=p?p.match(dh):null;if(y){let C=r.get(h);C||(C=[],r.set(h,C)),C.push({name:u,value:y[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,ui.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ch),c.$8M("aria-hidden"),c.Y36(YT),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:Lw,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),cy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ar],ar]}),n})();const _o=["*",[["mat-toolbar-row"]]],JT=["*","mat-toolbar-row"],uy=Bp(class{constructor(n){this._elementRef=n}});let hh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),ng=(()=>{class n extends uy{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(wi),c.Y36(fe))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,hh,5),2&t){let s;c.iGM(s=c.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:JT,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(_o),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),QT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ar],ar]}),n})();const ja={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=ja;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new ao.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=ja;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=ja;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class XT extends Gc{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class ig extends Hc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=ja.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(ja.cancelAnimationFrame(t),e._scheduled=void 0)}});let fh,Gw=1;const ph={};function $w(n){return n in ph&&(delete ph[n],!0)}const nS={setImmediate(n){const e=Gw++;return ph[e]=!0,fh||(fh=Promise.resolve()),fh.then(()=>$w(e)&&n()),e},clearImmediate(n){$w(n)}},{setImmediate:dy,clearImmediate:hy}=nS,gh={setImmediate(...n){const{delegate:e}=gh;return((null==e?void 0:e.setImmediate)||dy)(...n)},clearImmediate(n){const{delegate:e}=gh;return((null==e?void 0:e.clearImmediate)||hy)(n)},delegate:void 0};new class py extends Gc{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class fy extends Hc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=gh.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(gh.clearImmediate(t),e._scheduled=void 0)}});var sS=L(3532);function _u(n=0,e,t=QE){let i=-1;return null!=e&&((0,sS.K)(e)?t=e:i=e),new ii.y(r=>{let s=function zw(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function gy(n,e=$c){return function rS(n){return(0,Bn.e)((e,t)=>{let i=!1,r=null,s=null,u=!1;const h=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const y=r;r=null,t.next(y)}u&&t.complete()},p=()=>{s=null,u&&t.complete()};e.subscribe((0,on.x)(t,y=>{i=!0,r=y,s||(0,vi.Xf)(n(y)).subscribe(s=(0,on.x)(t,h,p))},()=>{u=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>_u(n,e))}let Ww=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Lt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ii.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(gy(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):lt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Rn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=oo(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ri(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(wi),c.LFG(fe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gl=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Lt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(gy(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wi),c.LFG(c.R0b),c.LFG(fe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),qw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Hd,mh],Hd,mh]}),n})();class yu{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class my extends yu{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class WP extends yu{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Zw extends yu{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class sg extends class mS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof my?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof WP?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Zw?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Qw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const _y=O0();class Xw{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ri(-this._previousScrollPosition.left),e.style.top=ri(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),_y&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_y&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class eD{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class yy{enable(){}disable(){}attach(){}}function vy(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function tD(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class nD{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();vy(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let vS=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new yy,this.close=u=>new eD(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Xw(this._viewportRuler,this._document),this.reposition=u=>new nD(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ww),c.LFG(Gl),c.LFG(c.R0b),c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iD{constructor(e){if(this.scrollStrategy=new yy,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class rD{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class QP{constructor(e,t,i,r,s,u,h,p,y){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=p,this._outsideClickDispatcher=y,this._backdropElement=null,this._backdropClick=new Lt.x,this._attachments=new Lt.x,this._detachments=new Lt.x,this._locationChanges=ao.w0.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new Lt.x,this._outsidePointerEvents=new Lt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ui.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ri(this._config.width),e.height=ri(this._config.height),e.minWidth=ri(this._config.minWidth),e.minHeight=ri(this._config.minHeight),e.maxWidth=ri(this._config.maxWidth),e.maxHeight=ri(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=S0(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Cn((0,Y_.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let by=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||L0()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),L0()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(wi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DS="cdk-overlay-connected-position-bounding-box",XP=/([A-Za-z%]+)$/;class eF{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Lt.x,this._resizeSubscription=ao.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(DS),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,r,h),y=this._getOverlayPoint(p,t,h),C=this._getOverlayFit(y,t,i,h);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(C,y,i)?s.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!u||u.overlayFit.visibleArea<C.visibleArea)&&(u={overlayFit:C,overlayPoint:y,originPoint:p,position:h,overlayRect:t})}if(s.length){let h=null,p=-1;for(const y of s){const C=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);C>p&&(p=C,h=y)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&vu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(DS),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?u:h}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=ES(t);let{x:u,y:h}=e,p=this._getOffset(r,"x"),y=this._getOffset(r,"y");p&&(u+=p),y&&(h+=y);let x=0-h,N=h+s.height-i.height,V=this._subtractOverflows(s.width,0-u,u+s.width-i.width),z=this._subtractOverflows(s.height,x,N),se=V*z;return{visibleArea:se,isCompletelyWithinViewport:s.width*s.height===se,fitsInViewportVertically:z===s.height,fitsInViewportHorizontally:V==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,u=CS(this._overlayRef.getConfig().minHeight),h=CS(this._overlayRef.getConfig().minWidth),y=e.fitsInViewportHorizontally||null!=h&&h<=s;return(e.fitsInViewportVertically||null!=u&&u<=r)&&y}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=ES(t),s=this._viewportRect,u=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),y=Math.max(s.left-i.left-e.x,0);let C=0,I=0;return C=r.width<=s.width?y||-u:e.x<this._viewportMargin?s.left-i.left-e.x:0,I=r.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:C,y:I},{x:e.x+C,y:e.y+I}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new rD(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,u,h,C,I,x;if("top"===t.overlayY)u=e.y,s=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const N=Math.min(i.bottom-e.y+i.top,e.y),V=this._lastBoundingBoxSize.height;s=2*N,u=e.y-N,s>V&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-V/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)x=i.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)I=e.x,C=i.right-e.x;else{const N=Math.min(i.right-e.x+i.left,e.x),V=this._lastBoundingBoxSize.width;C=2*N,I=e.x-N,C>V&&!this._isInitialRender&&!this._growAfterOpen&&(I=e.x-V/2)}return{top:u,left:I,bottom:h,right:x,width:C,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=ri(i.height),r.top=ri(i.top),r.bottom=ri(i.bottom),r.width=ri(i.width),r.left=ri(i.left),r.right=ri(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ri(s)),u&&(r.maxWidth=ri(u))}this._lastBoundingBoxSize=i,vu(this._boundingBox.style,r)}_resetBoundingBoxStyles(){vu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){vu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();vu(i,this._getExactOverlayY(t,e,C)),vu(i,this._getExactOverlayX(t,e,C))}else i.position="static";let h="",p=this._getOffset(t,"x"),y=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),y&&(h+=`translateY(${y}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=ri(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=ri(u.maxWidth):s&&(i.maxWidth="")),vu(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ri(s.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ri(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tD(e,i),isOriginOutsideView:vy(e,i),isOverlayClipped:tD(t,i),isOverlayOutsideView:vy(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&S0(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function vu(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function CS(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(XP);return t&&"px"!==t?null:parseFloat(e)}return n||null}function ES(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const IS="cdk-global-overlay-wrapper";class tF{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(IS),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),y=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=p?"0":this._leftOffset,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,p?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(IS),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let og=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new tF}flexibleConnectedTo(t){return new eF(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Gl),c.LFG(fe),c.LFG(wi),c.LFG(by))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TS=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sD=(()=>{class n extends TS{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const h=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wy=(()=>{class n extends TS{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Ra(s)},this._clickListener=s=>{const u=Ra(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const C=p[y];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(u)||C.overlayElement.contains(h))break;const I=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(s)):I.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(wi),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oD=0,ag=(()=>{class n{constructor(t,i,r,s,u,h,p,y,C,I,x){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=p,this._document=y,this._directionality=C,this._location=I,this._outsideClickDispatcher=x}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new iD(t);return u.direction=u.direction||this._directionality.value,new QP(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+oD++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new sg(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(vS),c.LFG(by),c.LFG(c._Vd),c.LFG(og),c.LFG(sD),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(fe),c.LFG(k0),c.LFG(be),c.LFG(wy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const nF={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ag],useFactory:function aD(n){return()=>n.scrollStrategies.reposition()}};let lD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ag,nF],imports:[[Hd,Qw,qw],qw]}),n})(),VS=(()=>{class n{constructor(){this.changes=new Lt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,i){return`${t} \u2013 ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AF={provide:new c.OlP("mat-datepicker-scroll-strategy"),deps:[ag],useFactory:function SF(n){return()=>n.scrollStrategies.reposition()}};let $S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[VS,AF],imports:[[_i,ry,lD,FO,Qw,ar],mh]}),n})();var qt=L(9681);(0,qt.registerVersion)("firebase","9.6.9","app");var Y=L(5861),et=L(2090),Vs=L(4859),hs=L(1877);const lg="@firebase/installations",cg="w:0.5.6",AD="FIS_v2",na=new et.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qS(n){return n instanceof et.ZR&&n.code.includes("request-failed")}function MD({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function YS(n){return{token:n.token,requestStatus:2,expiresIn:FF(n.expiresIn),creationTime:Date.now()}}function xD(n,e){return ND.apply(this,arguments)}function ND(){return(ND=(0,Y.Z)(function*(n,e){const i=(yield e.json()).error;return na.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function kD({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function ZS(n,{refreshToken:e}){const t=kD(n);return t.append("Authorization",function o(n){return`${AD} ${n}`}(e)),t}function RD(n){return OD.apply(this,arguments)}function OD(){return(OD=(0,Y.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function FF(n){return Number(n.replace("s","000"))}function a(n,e){return l.apply(this,arguments)}function l(){return(l=(0,Y.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=MD(n),r=kD(n),s=e.getImmediate({optional:!0});if(s){const y=yield s.getHeartbeatsHeader();y&&r.append("x-firebase-client",y)}const h={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:AD,appId:n.appId,sdkVersion:cg})},p=yield RD(()=>fetch(i,h));if(p.ok){const y=yield p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:YS(y.authToken)}}throw yield xD("Create Installation",p)})).apply(this,arguments)}function d(n){return new Promise(e=>{setTimeout(e,n)})}const g=/^[cdef][\w-]{21}$/;function w(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function E(n){return function f(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return g.test(t)?t:""}catch(n){return""}}function T(n){return`${n.appName}!${n.appId}`}const S=new Map;function O(n,e){const t=T(n);he(t,e),function Oe(n,e){const t=function nt(){return!Le&&"BroadcastChannel"in self&&(Le=new BroadcastChannel("[Firebase] FID Change"),Le.onmessage=n=>{he(n.data.key,n.data.fid)}),Le}();t&&t.postMessage({key:n,fid:e}),function ye(){0===S.size&&Le&&(Le.close(),Le=null)}()}(t,e)}function he(n,e){const t=S.get(n);if(t)for(const i of t)i(e)}let Le=null;const Yt="firebase-installations-store";let cr=null;function ia(){return cr||(cr=(0,et.X3)("firebase-installations-database",1,(n,e)=>{0===e&&n.createObjectStore(Yt)})),cr}function wu(n,e){return yh.apply(this,arguments)}function yh(){return(yh=(0,Y.Z)(function*(n,e){const t=T(n),r=(yield ia()).transaction(Yt,"readwrite"),s=r.objectStore(Yt),u=yield s.get(t);return yield s.put(e,t),yield r.complete,(!u||u.fid!==e.fid)&&O(n,e.fid),e})).apply(this,arguments)}function vh(n){return bh.apply(this,arguments)}function bh(){return(bh=(0,Y.Z)(function*(n){const e=T(n),i=(yield ia()).transaction(Yt,"readwrite");yield i.objectStore(Yt).delete(e),yield i.complete})).apply(this,arguments)}function Wl(n,e){return wh.apply(this,arguments)}function wh(){return(wh=(0,Y.Z)(function*(n,e){const t=T(n),r=(yield ia()).transaction(Yt,"readwrite"),s=r.objectStore(Yt),u=yield s.get(t),h=e(u);return void 0===h?yield s.delete(t):yield s.put(h,t),yield r.complete,h&&(!u||u.fid!==h.fid)&&O(n,h.fid),h})).apply(this,arguments)}function Dh(n){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,Y.Z)(function*(n){let e;const t=yield Wl(n.appConfig,i=>{const r=Sy(i),s=e$(n,r);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Sy(n){return VF(n||{fid:w(),registrationStatus:0})}function e$(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(na.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function t$(n,e){return KS.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:n$(n)}:{installationEntry:e}}function KS(){return(KS=(0,Y.Z)(function*(n,e){try{const t=yield a(n,e);return wu(n.appConfig,t)}catch(t){throw qS(t)&&409===t.customData.serverCode?yield vh(n.appConfig):yield wu(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function n$(n){return JS.apply(this,arguments)}function JS(){return(JS=(0,Y.Z)(function*(n){let e=yield LF(n.appConfig);for(;1===e.registrationStatus;)yield d(100),e=yield LF(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield Dh(n);return i||t}return e})).apply(this,arguments)}function LF(n){return Wl(n,e=>{if(!e)throw na.create("installation-not-found");return VF(e)})}function VF(n){return function i$(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function r$(n,e){return QS.apply(this,arguments)}function QS(){return(QS=(0,Y.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=s$(n,t),r=ZS(n,t),s=e.getImmediate({optional:!0});if(s){const y=yield s.getHeartbeatsHeader();y&&r.append("x-firebase-client",y)}const h={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:cg,appId:n.appId}})},p=yield RD(()=>fetch(i,h));if(p.ok)return YS(yield p.json());throw yield xD("Generate Auth Token",p)})).apply(this,arguments)}function s$(n,{fid:e}){return`${MD(n)}/${e}/authTokens:generate`}function XS(n){return eA.apply(this,arguments)}function eA(){return(eA=(0,Y.Z)(function*(n,e=!1){let t;const i=yield Wl(n.appConfig,s=>{if(!UF(s))throw na.create("not-registered");const u=s.authToken;if(!e&&l$(u))return s;if(1===u.requestStatus)return t=o$(n,e),s;{if(!navigator.onLine)throw na.create("app-offline");const h=u$(s);return t=a$(n,h),h}});return t?yield t:i.authToken})).apply(this,arguments)}function o$(n,e){return tA.apply(this,arguments)}function tA(){return(tA=(0,Y.Z)(function*(n,e){let t=yield BF(n.appConfig);for(;1===t.authToken.requestStatus;)yield d(100),t=yield BF(n.appConfig);const i=t.authToken;return 0===i.requestStatus?XS(n,e):i})).apply(this,arguments)}function BF(n){return Wl(n,e=>{if(!UF(e))throw na.create("not-registered");return function d$(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function a$(n,e){return nA.apply(this,arguments)}function nA(){return(nA=(0,Y.Z)(function*(n,e){try{const t=yield r$(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield wu(n.appConfig,i),t}catch(t){if(!qS(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield wu(n.appConfig,i)}else yield vh(n.appConfig);throw t}})).apply(this,arguments)}function UF(n){return void 0!==n&&2===n.registrationStatus}function l$(n){return 2===n.requestStatus&&!function c$(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function u$(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function iA(){return(iA=(0,Y.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield Dh(e);return i?i.catch(console.error):XS(e).catch(console.error),t.fid})).apply(this,arguments)}function rA(){return(rA=(0,Y.Z)(function*(n,e=!1){const t=n;return yield p$(t),(yield XS(t,e)).token})).apply(this,arguments)}function p$(n){return sA.apply(this,arguments)}function sA(){return(sA=(0,Y.Z)(function*(n){const{registrationPromise:e}=yield Dh(n);e&&(yield e)})).apply(this,arguments)}function lA(n){return na.create("missing-app-config-values",{valueName:n})}const jF="installations",v$=n=>{const e=n.getProvider("app").getImmediate(),t=function _$(n){if(!n||!n.options)throw lA("App Configuration");if(!n.name)throw lA("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw lA(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,qt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},b$=n=>{const e=n.getProvider("app").getImmediate(),t=(0,qt._getProvider)(e,jF).getImmediate();return{getId:()=>function h$(n){return iA.apply(this,arguments)}(t),getToken:r=>function f$(n){return rA.apply(this,arguments)}(t,r)}};(function w$(){(0,qt._registerComponent)(new Vs.wA(jF,v$,"PUBLIC")),(0,qt._registerComponent)(new Vs.wA("installations-internal",b$,"PRIVATE"))})(),(0,qt.registerVersion)(lg,"0.5.6"),(0,qt.registerVersion)(lg,"0.5.6","esm2017");const cA="@firebase/remote-config",fs=new et.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class k${constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,Y.Z)(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const s=yield t.client.fetch(e),u=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&u.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(u),s})()}}function R$(n=navigator){return n.languages&&n.languages[0]||n.language}class O${constructor(e,t,i,r,s,u){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=u}fetch(e){var t=this;return(0,Y.Z)(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},p={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:R$()},y={method:"POST",headers:h,body:JSON.stringify(p)},C=fetch(u,y),I=new Promise((Me,ge)=>{e.signal.addEventListener(()=>{const Ze=new Error("The operation was aborted.");Ze.name="AbortError",ge(Ze)})});let x;try{yield Promise.race([C,I]),x=yield C}catch(Me){let ge="fetch-client-network";throw"AbortError"===Me.name&&(ge="fetch-timeout"),fs.create(ge,{originalErrorMessage:Me.message})}let N=x.status;const V=x.headers.get("ETag")||void 0;let z,se;if(200===x.status){let Me;try{Me=yield x.json()}catch(ge){throw fs.create("fetch-client-parse",{originalErrorMessage:ge.message})}z=Me.entries,se=Me.state}if("INSTANCE_STATE_UNSPECIFIED"===se?N=500:"NO_CHANGE"===se?N=304:("NO_TEMPLATE"===se||"EMPTY_CONFIG"===se)&&(z={}),304!==N&&200!==N)throw fs.create("fetch-status",{httpStatus:N});return{status:N,eTag:V,config:z}})()}}class L${constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,Y.Z)(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return(0,Y.Z)(function*(){yield function P$(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(fs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function F$(n){if(!(n instanceof et.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const u={throttleEndTimeMillis:Date.now()+(0,et.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(u),r.attemptFetch(e,u)}})()}}class U${constructor(e,t,i,r,s){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function FD(n,e){const t=n.target.error||void 0;return fs.create(e,{originalErrorMessage:t&&t.message})}const Eh="app_namespace_store";class $${constructor(e,t,i,r=function G$(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(FD(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Eh,{keyPath:"compositeKey"})}}catch(t){e(fs.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,Y.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{const h=i.transaction([Eh],"readonly").objectStore(Eh),p=t.createCompositeKey(e);try{const y=h.get(p);y.onerror=C=>{s(FD(C,"storage-get"))},y.onsuccess=C=>{const I=C.target.result;r(I?I.value:void 0)}}catch(y){s(fs.create("storage-get",{originalErrorMessage:y&&y.message}))}})})()}set(e,t){var i=this;return(0,Y.Z)(function*(){const r=yield i.openDbPromise;return new Promise((s,u)=>{const p=r.transaction([Eh],"readwrite").objectStore(Eh),y=i.createCompositeKey(e);try{const C=p.put({compositeKey:y,value:t});C.onerror=I=>{u(FD(I,"storage-set"))},C.onsuccess=()=>{s()}}catch(C){u(fs.create("storage-set",{originalErrorMessage:C&&C.message}))}})})()}delete(e){var t=this;return(0,Y.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{const h=i.transaction([Eh],"readwrite").objectStore(Eh),p=t.createCompositeKey(e);try{const y=h.delete(p);y.onerror=C=>{s(FD(C,"storage-delete"))},y.onsuccess=()=>{r()}}catch(y){s(fs.create("storage-delete",{originalErrorMessage:y&&y.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class z${constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,Y.Z)(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const u=yield i;u&&(e.lastSuccessfulFetchTimestampMillis=u);const h=yield r;h&&(e.activeConfig=h)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function q$(){return pA.apply(this,arguments)}function pA(){return(pA=(0,Y.Z)(function*(){if(!(0,et.hl)())return!1;try{return yield(0,et.eu)()}catch(n){return!1}})).apply(this,arguments)}!function W$(){(0,qt._registerComponent)(new Vs.wA("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fs.create("registration-window");if(!(0,et.hl)())throw fs.create("indexed-db-unavailable");const{projectId:s,apiKey:u,appId:h}=i.options;if(!s)throw fs.create("registration-project-id");if(!u)throw fs.create("registration-api-key");if(!h)throw fs.create("registration-app-id");const p=new $$(h,i.name,t=t||"firebase"),y=new z$(p),C=new hs.Yd(cA);C.logLevel=hs.in.ERROR;const I=new O$(r,qt.SDK_VERSION,t,s,u,h),x=new L$(I,p),N=new k$(x,p,y,C),V=new U$(i,N,y,p,C);return function M$(n){const e=(0,et.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(V),V},"PUBLIC").setMultipleInstances(!0)),(0,qt.registerVersion)(cA,"0.3.5"),(0,qt.registerVersion)(cA,"0.3.5","esm2017")}();const Y$="/firebase-messaging-sw.js",Z$="/firebase-cloud-messaging-push-scope",zF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",WF="google.c.a.c_id",J$="google.c.a.c_l",Q$="google.c.a.ts",X$="google.c.a.e";var ug=(()=>{return(n=ug||(ug={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",ug;var n})();function ql(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ez(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const gA="fcm_token_details_db",qF="fcm_token_object_Store";function nz(n){return mA.apply(this,arguments)}function mA(){return mA=(0,Y.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(gA))return null;let e=null;return(yield(0,et.X3)(gA,5,function(){var i=(0,Y.Z)(function*(r,s,u,h){var p;if(s<2||!r.objectStoreNames.contains(qF))return;const y=h.objectStore(qF),C=yield y.index("fcmSenderId").get(n);if(yield y.clear(),C)if(2===s){const I=C;if(!I.auth||!I.p256dh||!I.endpoint)return;e={token:I.fcmToken,createTime:null!==(p=I.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:I.auth,p256dh:I.p256dh,endpoint:I.endpoint,swScope:I.swScope,vapidKey:"string"==typeof I.vapidKey?I.vapidKey:ql(I.vapidKey)}}}else if(3===s){const I=C;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:ql(I.auth),p256dh:ql(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:ql(I.vapidKey)}}}else if(4===s){const I=C;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:ql(I.auth),p256dh:ql(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:ql(I.vapidKey)}}}});return function(r,s,u,h){return i.apply(this,arguments)}}())).close(),yield(0,et.Lj)(gA),yield(0,et.Lj)("fcm_vapid_details_db"),yield(0,et.Lj)("undefined"),iz(e)?e:null}),mA.apply(this,arguments)}function iz(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ih="firebase-messaging-store";let _A=null;function yA(){return _A||(_A=(0,et.X3)("firebase-messaging-database",1,(n,e)=>{0===e&&n.createObjectStore(Ih)})),_A}function YF(n){return vA.apply(this,arguments)}function vA(){return(vA=(0,Y.Z)(function*(n){const e=CA(n),i=yield(yield yA()).transaction(Ih).objectStore(Ih).get(e);if(i)return i;{const r=yield nz(n.appConfig.senderId);if(r)return yield bA(n,r),r}})).apply(this,arguments)}function bA(n,e){return wA.apply(this,arguments)}function wA(){return(wA=(0,Y.Z)(function*(n,e){const t=CA(n),r=(yield yA()).transaction(Ih,"readwrite");return yield r.objectStore(Ih).put(e,t),yield r.complete,e})).apply(this,arguments)}function oz(n){return DA.apply(this,arguments)}function DA(){return(DA=(0,Y.Z)(function*(n){const e=CA(n),i=(yield yA()).transaction(Ih,"readwrite");yield i.objectStore(Ih).delete(e),yield i.complete})).apply(this,arguments)}function CA({appConfig:n}){return n.appId}const ur=new et.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lz(n,e){return EA.apply(this,arguments)}function EA(){return(EA=(0,Y.Z)(function*(n,e){const t=yield AA(n),i=KF(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(SA(n.appConfig),r)).json()}catch(u){throw ur.create("token-subscribe-failed",{errorInfo:u})}if(s.error)throw ur.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw ur.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function cz(n,e){return IA.apply(this,arguments)}function IA(){return(IA=(0,Y.Z)(function*(n,e){const t=yield AA(n),i=KF(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(`${SA(n.appConfig)}/${e.token}`,r)).json()}catch(u){throw ur.create("token-update-failed",{errorInfo:u})}if(s.error)throw ur.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw ur.create("token-update-no-token");return s.token})).apply(this,arguments)}function ZF(n,e){return TA.apply(this,arguments)}function TA(){return(TA=(0,Y.Z)(function*(n,e){const i={method:"DELETE",headers:yield AA(n)};try{const s=yield(yield fetch(`${SA(n.appConfig)}/${e}`,i)).json();if(s.error)throw ur.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(r){throw ur.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function SA({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function AA(n){return MA.apply(this,arguments)}function MA(){return(MA=(0,Y.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function KF({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==zF&&(r.web.applicationPubKey=i),r}const uz=6048e5;function dz(n){return xA.apply(this,arguments)}function xA(){return(xA=(0,Y.Z)(function*(n){const e=yield fz(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ql(e.getKey("auth")),p256dh:ql(e.getKey("p256dh"))},i=yield YF(n.firebaseDependencies);if(i){if(pz(i.subscriptionOptions,t))return Date.now()>=i.createTime+uz?hz(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield ZF(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return QF(n.firebaseDependencies,t)}return QF(n.firebaseDependencies,t)})).apply(this,arguments)}function JF(n){return NA.apply(this,arguments)}function NA(){return(NA=(0,Y.Z)(function*(n){const e=yield YF(n.firebaseDependencies);e&&(yield ZF(n.firebaseDependencies,e.token),yield oz(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function hz(n,e){return kA.apply(this,arguments)}function kA(){return(kA=(0,Y.Z)(function*(n,e){try{const t=yield cz(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield bA(n.firebaseDependencies,i),t}catch(t){throw yield JF(n),t}})).apply(this,arguments)}function QF(n,e){return RA.apply(this,arguments)}function RA(){return(RA=(0,Y.Z)(function*(n,e){const i={token:yield lz(n,e),createTime:Date.now(),subscriptionOptions:e};return yield bA(n,i),i.token})).apply(this,arguments)}function fz(n,e){return OA.apply(this,arguments)}function OA(){return(OA=(0,Y.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ez(e)})})).apply(this,arguments)}function pz(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function XF(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function gz(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r)}(e,n),function mz(n,e){!e.data||(n.data=e.data)}(e,n),function _z(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const i=e.fcmOptions.analytics_label;i&&(n.fcmOptions.analyticsLabel=i)}(e,n),e}function yz(n){return"object"==typeof n&&!!n&&WF in n}function eL(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function PA(n){return ur.create("missing-app-config-values",{valueName:n})}eL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),eL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bz{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function vz(n){if(!n||!n.options)throw PA("App Configuration Object");if(!n.name)throw PA("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw PA(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function tL(n){return FA.apply(this,arguments)}function FA(){return(FA=(0,Y.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Y$,{scope:Z$}),n.swRegistration.update().catch(()=>{})}catch(e){throw ur.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function wz(n,e){return LA.apply(this,arguments)}function LA(){return(LA=(0,Y.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield tL(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ur.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Dz(n,e){return VA.apply(this,arguments)}function VA(){return(VA=(0,Y.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=zF)})).apply(this,arguments)}function BA(){return(BA=(0,Y.Z)(function*(n,e){if(!navigator)throw ur.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ur.create("permission-blocked");return yield Dz(n,null==e?void 0:e.vapidKey),yield wz(n,null==e?void 0:e.serviceWorkerRegistration),dz(n)})).apply(this,arguments)}function Cz(n,e,t){return UA.apply(this,arguments)}function UA(){return(UA=(0,Y.Z)(function*(n,e,t){const i=Ez(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[WF],message_name:t[J$],message_time:t[Q$],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ez(n){switch(n){case ug.NOTIFICATION_CLICKED:return"notification_open";case ug.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function jA(){return(jA=(0,Y.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ug.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(XF(t)):n.onMessageHandler.next(XF(t)));const i=t.data;yz(i)&&"1"===i[X$]&&(yield Cz(n,t.messageType,i))})).apply(this,arguments)}const iL="@firebase/messaging",Tz=n=>{const e=new bz(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Iz(n,e){return jA.apply(this,arguments)}(e,t)),e},Sz=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function nL(n,e){return BA.apply(this,arguments)}(e,i)}};function sL(){return HA.apply(this,arguments)}function HA(){return(HA=(0,Y.Z)(function*(){try{yield(0,et.eu)()}catch(n){return!1}return"undefined"!=typeof window&&(0,et.hl)()&&(0,et.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Az(){(0,qt._registerComponent)(new Vs.wA("messaging",Tz,"PUBLIC")),(0,qt._registerComponent)(new Vs.wA("messaging-internal",Sz,"PRIVATE")),(0,qt.registerVersion)(iL,"0.9.10"),(0,qt.registerVersion)(iL,"0.9.10","esm2017")}();const LD="analytics",Nz="firebase_id",Oz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oL="https://www.googletagmanager.com/gtag/js",dr=new hs.Yd("@firebase/analytics");function aL(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Pz(n,e){const t=document.createElement("script");t.src=`${oL}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Lz(n,e,t,i,r,s){return zA.apply(this,arguments)}function zA(){return(zA=(0,Y.Z)(function*(n,e,t,i,r,s){const u=i[r];try{if(u)yield e[u];else{const p=(yield aL(t)).find(y=>y.measurementId===r);p&&(yield e[p.appId])}}catch(h){dr.error(h)}n("config",r,s)})).apply(this,arguments)}function Vz(n,e,t,i,r){return WA.apply(this,arguments)}function WA(){return(WA=(0,Y.Z)(function*(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let u=r.send_to;Array.isArray(u)||(u=[u]);const h=yield aL(t);for(const p of u){const y=h.find(I=>I.measurementId===p),C=y&&e[y.appId];if(!C){s=[];break}s.push(C)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){dr.error(s)}})).apply(this,arguments)}function jz(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(oL))return e;return null}const Bs=new et.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),lL=new class zz{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Wz(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function qz(n){return qA.apply(this,arguments)}function qA(){return(qA=(0,Y.Z)(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:Wz(i)},s=Oz.replace("{app-id}",t),u=yield fetch(s,r);if(200!==u.status&&304!==u.status){let h="";try{const p=yield u.json();(null===(e=p.error)||void 0===e?void 0:e.message)&&(h=p.error.message)}catch(p){}throw Bs.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()})).apply(this,arguments)}function Yz(n){return YA.apply(this,arguments)}function YA(){return(YA=(0,Y.Z)(function*(n,e=lL,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw Bs.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Bs.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new Jz;return setTimeout((0,Y.Z)(function*(){h.abort()}),void 0!==t?t:6e4),cL({appId:i,apiKey:r,measurementId:s},u,h,e)})).apply(this,arguments)}function cL(n,e,t){return ZA.apply(this,arguments)}function ZA(){return(ZA=(0,Y.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=lL){const{appId:s,measurementId:u}=n;try{yield Zz(i,e)}catch(h){if(u)return dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h.message}]`),{appId:s,measurementId:u};throw h}try{const h=yield qz(n);return r.deleteThrottleMetadata(s),h}catch(h){if(!Kz(h)){if(r.deleteThrottleMetadata(s),u)return dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h.message}]`),{appId:s,measurementId:u};throw h}const p=503===Number(h.customData.httpStatus)?(0,et.$s)(t,r.intervalMillis,30):(0,et.$s)(t,r.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return r.setThrottleMetadata(s,y),dr.debug(`Calling attemptFetch again in ${p} millis`),cL(n,y,i,r)}})).apply(this,arguments)}function Zz(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(Bs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Kz(n){if(!(n instanceof et.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Jz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function Qz(){return KA.apply(this,arguments)}function KA(){return(KA=(0,Y.Z)(function*(){if(!(0,et.hl)())return dr.warn(Bs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,et.eu)()}catch(n){return dr.warn(Bs.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0})).apply(this,arguments)}function JA(){return(JA=(0,Y.Z)(function*(n,e,t,i,r,s,u){var h;const p=Yz(n);p.then(N=>{t[N.measurementId]=N.appId,n.options.measurementId&&N.measurementId!==n.options.measurementId&&dr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>dr.error(N)),e.push(p);const y=Qz().then(N=>{if(N)return i.getId()}),[C,I]=yield Promise.all([p,y]);jz()||Pz(s,C.measurementId),r("js",new Date);const x=null!==(h=null==u?void 0:u.config)&&void 0!==h?h:{};return x.origin="firebase",x.update=!0,null!=I&&(x[Nz]=I),r("config",C.measurementId,x),C.measurementId})).apply(this,arguments)}class e8{constructor(e){this.app=e}_delete(){return delete Yl[this.app.options.appId],Promise.resolve()}}let Yl={},uL=[];const dL={};let fL,Ay,VD="dataLayer",QA=!1;function n8(n,e,t){!function t8(){const n=[];if((0,et.ru)()&&n.push("This is a browser extension environment."),(0,et.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Bs.create("invalid-analytics-context",{errorInfo:e});dr.warn(t.message)}}();const i=n.options.appId;if(!i)throw Bs.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Bs.create("no-api-key");dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yl[i])throw Bs.create("already-exists",{id:i});if(!QA){!function Fz(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(VD);const{wrappedGtag:s,gtagCore:u}=function Uz(n,e,t,i,r){let s=function(...u){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function Bz(n,e,t,i){function s(){return(s=(0,Y.Z)(function*(u,h,p){try{"event"===u?yield Vz(n,e,t,h,p):"config"===u?yield Lz(n,e,t,i,h,p):n("set",h)}catch(y){dr.error(y)}})).apply(this,arguments)}return function r(u,h,p){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}(Yl,uL,dL,VD,"gtag");Ay=s,fL=u,QA=!0}return Yl[i]=function Xz(n,e,t,i,r,s,u){return JA.apply(this,arguments)}(n,uL,dL,e,fL,VD,t),new e8(n)}function XA(){return(XA=(0,Y.Z)(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const s=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}function u8(){return rM.apply(this,arguments)}function rM(){return(rM=(0,Y.Z)(function*(){if((0,et.ru)()||!(0,et.zI)()||!(0,et.hl)())return!1;try{return yield(0,et.eu)()}catch(n){return!1}})).apply(this,arguments)}const pL="@firebase/analytics";!function h8(){(0,qt._registerComponent)(new Vs.wA(LD,(e,{options:t})=>n8(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,qt._registerComponent)(new Vs.wA("analytics-internal",function n(e){try{const t=e.getProvider(LD).getImmediate();return{logEvent:(i,r,s)=>function d8(n,e,t,i){n=(0,et.m9)(n),function r8(n,e,t,i,r){return XA.apply(this,arguments)}(Ay,Yl[n.app.options.appId],e,t,i).catch(r=>dr.error(r))}(t,i,r,s)}}catch(t){throw Bs.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,qt.registerVersion)(pL,"0.7.6"),(0,qt.registerVersion)(pL,"0.7.6","esm2017")}();const g8=new class p8 extends Gc{}(class f8 extends Hc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}});var My=L(9468),dg=L(5363);const BD=new c.GfV("7.2.1"),sM="__angularfire_symbol__analyticsIsSupportedValue",oM="__angularfire_symbol__analyticsIsSupported",aM="__angularfire_symbol__remoteConfigIsSupportedValue",lM="__angularfire_symbol__remoteConfigIsSupported",cM="__angularfire_symbol__messagingIsSupportedValue",uM="__angularfire_symbol__messagingIsSupported";globalThis[oM]||(globalThis[oM]=u8().then(n=>globalThis[sM]=n).catch(()=>globalThis[sM]=!1)),globalThis[uM]||(globalThis[uM]=sL().then(n=>globalThis[cM]=n).catch(()=>globalThis[cM]=!1)),globalThis[lM]||(globalThis[lM]=q$().then(n=>globalThis[aM]=n).catch(()=>globalThis[aM]=!1));const fM=(n,e)=>{const t=e?[e]:(0,qt.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(u=>{i.includes(u)||i.push(u)})}),i};function hg(){}class mL{constructor(e,t=g8){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(u){r.runGuarded(()=>{e.apply(this,[u])})},t,i)}}class m8{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hg,{},hg,hg)),t.pipe(di({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let UD=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new mL(Zone.current)),this.insideAngular=t.run(()=>new mL(Zone.current,$c)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Th(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function _8(n){return Th().ngZone.runOutsideAngular(()=>n())}function Sh(n){return Th().ngZone.run(()=>n())}function Us(n){return Th(),function y8(n){return function(t){return(t=t.lift(new m8(n.ngZone))).pipe((0,My.R)(n.outsideAngular),(0,dg.Q)(n.insideAngular))}}(Th())(n)}const v8=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Sh(()=>n.apply(void 0,i))},jD=(n,e)=>function(){let t;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(e&&(t||(t=Sh(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hg,{},hg,hg)))),i[s]=v8(i[s],t));const r=_8(()=>n.apply(this,i));if(!e){if(r instanceof ii.y){const s=Th();return r.pipe((0,My.R)(s.outsideAngular),(0,dg.Q)(s.insideAngular))}return Sh(()=>r)}return r instanceof ii.y?r.pipe(Us):r instanceof Promise?Sh(()=>new Promise((s,u)=>r.then(h=>Sh(()=>s(h)),h=>Sh(()=>u(h))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Sh(()=>r)};function pM(){return(0,Bn.e)((n,e)=>{let t,i=!1;n.subscribe((0,on.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function b8(n,e,t,i,r){return(s,u)=>{let h=t,p=e,y=0;s.subscribe((0,on.x)(u,C=>{const I=y++;p=h?n(p,C,I):(h=!0,C),i&&u.next(p)},r&&(()=>{h&&u.next(p),u.complete()})))}}function xy(n,e){return(0,Bn.e)(b8(n,e,arguments.length>=2,!0))}var ot,Ha=L(2011),w8=(L(5881),L(3942)),D8="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Zl={},gM=gM||{},Ot=D8||self;function HD(){}function mM(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ny(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _M="closure_uid_"+(1e9*Math.random()>>>0),E8=0;function I8(n,e,t){return n.call.apply(n.bind,arguments)}function T8(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function hr(n,e,t){return(hr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?I8:T8).apply(null,arguments)}function GD(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function fr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[r].apply(i,u)}}function Du(){this.s=this.s,this.o=this.o}var A8={};Du.prototype.s=!1,Du.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function C8(n){return Object.prototype.hasOwnProperty.call(n,_M)&&n[_M]||(n[_M]=++E8)}(this);delete A8[n]}},Du.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _L=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},yL=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function vL(n){return Array.prototype.concat.apply([],arguments)}function yM(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function $D(n){return/^[\s\xa0]*$/.test(n)}var Hr,bL=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function jr(n,e){return-1!=n.indexOf(e)}function vM(n,e){return n<e?-1:n>e?1:0}e:{var wL=Ot.navigator;if(wL){var DL=wL.userAgent;if(DL){Hr=DL;break e}}Hr=""}function bM(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function CL(n){const e={};for(const t in n)e[t]=n[t];return e}var EL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IL(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<EL.length;s++)t=EL[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function wM(n){return wM[" "](n),n}wM[" "]=HD;var zD,n,N8=jr(Hr,"Opera"),fg=jr(Hr,"Trident")||jr(Hr,"MSIE"),TL=jr(Hr,"Edge"),DM=TL||fg,SL=jr(Hr,"Gecko")&&!(jr(Hr.toLowerCase(),"webkit")&&!jr(Hr,"Edge"))&&!(jr(Hr,"Trident")||jr(Hr,"MSIE"))&&!jr(Hr,"Edge"),k8=jr(Hr.toLowerCase(),"webkit")&&!jr(Hr,"Edge");function AL(){var n=Ot.document;return n?n.documentMode:void 0}e:{var CM="",EM=(n=Hr,SL?/rv:([^\);]+)(\)|;)/.exec(n):TL?/Edge\/([\d\.]+)/.exec(n):fg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):k8?/WebKit\/(\S+)/.exec(n):N8?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(EM&&(CM=EM?EM[1]:""),fg){var IM=AL();if(null!=IM&&IM>parseFloat(CM)){zD=String(IM);break e}}zD=CM}var R8={};var P8=Ot.document&&fg&&(AL()||parseInt(zD,10))||void 0,F8=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",HD,e),Ot.removeEventListener("test",HD,e)}catch(t){}return n}();function Ar(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ky(n,e){if(Ar.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(SL){e:{try{wM(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:L8[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ky.Z.h.call(this)}}Ar.prototype.h=function(){this.defaultPrevented=!0},fr(ky,Ar);var L8={2:"touch",3:"pen",4:"mouse"};ky.prototype.h=function(){ky.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ry="closure_listenable_"+(1e6*Math.random()|0),V8=0;function B8(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++V8,this.ca=this.fa=!1}function WD(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function qD(n){this.src=n,this.g={},this.h=0}function SM(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=_L(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(WD(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function AM(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}qD.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=AM(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new B8(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var MM="closure_lm_"+(1e6*Math.random()|0),xM={};function xL(n,e,t,i,r){if(i&&i.once)return kL(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xL(n,e[s],t,i,r);return null}return t=OM(t),n&&n[Ry]?n.N(e,t,Ny(i)?!!i.capture:!!i,r):NL(n,e,t,!1,i,r)}function NL(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var u=Ny(r)?!!r.capture:!!r,h=kM(n);if(h||(n[MM]=h=new qD(n)),(t=h.add(e,t,i,u,s)).proxy)return t;if(i=function U8(){var e=j8;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)F8||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(OL(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function kL(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)kL(n,e[s],t,i,r);return null}return t=OM(t),n&&n[Ry]?n.O(e,t,Ny(i)?!!i.capture:!!i,r):NL(n,e,t,!0,i,r)}function RL(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)RL(n,e[s],t,i,r);else i=Ny(i)?!!i.capture:!!i,t=OM(t),n&&n[Ry]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=AM(s=n.g[e],t,i,r))&&(WD(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=kM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=AM(e,t,i,r)),(t=-1<n?e[n]:null)&&NM(t))}function NM(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ry])SM(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(OL(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=kM(e))?(SM(t,n),0==t.h&&(t.src=null,e[MM]=null)):WD(n)}}}function OL(n){return n in xM?xM[n]:xM[n]="on"+n}function j8(n,e){if(n.ca)n=!0;else{e=new ky(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&NM(n),n=t.call(i,e)}return n}function kM(n){return(n=n[MM])instanceof qD?n:null}var RM="__closure_events_fn_"+(1e9*Math.random()>>>0);function OM(n){return"function"==typeof n?n:(n[RM]||(n[RM]=function(e){return n.handleEvent(e)}),n[RM])}function Gi(){Du.call(this),this.i=new qD(this),this.P=this,this.I=null}function pr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Ar(e,n);else if(e instanceof Ar)e.target=e.target||n;else{var r=e;IL(e=new Ar(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];r=YD(u,i,!0,e)&&r}if(r=YD(u=e.g=n,i,!0,e)&&r,r=YD(u,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=YD(u=e.g=t[s],i,!1,e)&&r}function YD(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.ca&&u.capture==t){var h=u.listener,p=u.ia||u.src;u.fa&&SM(n.i,u),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}fr(Gi,Du),Gi.prototype[Ry]=!0,Gi.prototype.removeEventListener=function(n,e,t,i){RL(this,n,e,t,i)},Gi.prototype.M=function(){if(Gi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)WD(t[i]);delete n.g[e],n.h--}}this.I=null},Gi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Gi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var PM=Ot.JSON.stringify;function H8(){var n=FL;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var LM,PL=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new $8,n=>n.reset());class $8{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function z8(n){Ot.setTimeout(()=>{throw n},0)}function FM(n,e){LM||function W8(){var n=Ot.Promise.resolve(void 0);LM=function(){n.then(q8)}}(),VM||(LM(),VM=!0),FL.add(n,e)}var VM=!1,FL=new class G8{constructor(){this.h=this.g=null}add(e,t){const i=PL.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function q8(){for(var n;n=H8();){try{n.h.call(n.g)}catch(t){z8(t)}var e=PL;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}VM=!1}function ZD(n,e){Gi.call(this),this.h=n||1,this.g=e||Ot,this.j=hr(this.kb,this),this.l=Date.now()}function BM(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function UM(n,e,t){if("function"==typeof n)t&&(n=hr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=hr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function LL(n){n.g=UM(()=>{n.g=null,n.i&&(n.i=!1,LL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}fr(ZD,Gi),(ot=ZD.prototype).da=!1,ot.S=null,ot.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pr(this,"tick"),this.da&&(BM(this),this.start()))}},ot.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.M=function(){ZD.Z.M.call(this),BM(this),delete this.g};class Y8 extends Du{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LL(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oy(n){Du.call(this),this.h=n,this.g={}}fr(Oy,Du);var VL=[];function BL(n,e,t,i){Array.isArray(t)||(t&&(VL[0]=t.toString()),t=VL);for(var r=0;r<t.length;r++){var s=xL(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function UL(n){bM(n.g,function(e,t){this.g.hasOwnProperty(t)&&NM(e)},n),n.g={}}function KD(){this.g=!0}function pg(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Q8(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return PM(t)}catch(h){return e}}(n,t)+(i?" "+i:"")})}Oy.prototype.M=function(){Oy.Z.M.call(this),UL(this)},Oy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},KD.prototype.Aa=function(){this.g=!1},KD.prototype.info=function(){};var Ah={},jL=null;function JD(){return jL=jL||new Gi}function HL(n){Ar.call(this,Ah.Ma,n)}function Py(n){const e=JD();pr(e,new HL(e,n))}function GL(n,e){Ar.call(this,Ah.STAT_EVENT,n),this.stat=e}function Gr(n){const e=JD();pr(e,new GL(e,n))}function $L(n,e){Ar.call(this,Ah.Na,n),this.size=e}function Fy(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}Ah.Ma="serverreachability",fr(HL,Ar),Ah.STAT_EVENT="statevent",fr(GL,Ar),Ah.Na="timingevent",fr($L,Ar);var QD={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},zL={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jM(){}function qL(){}jM.prototype.h=null;var $M,Ly={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function HM(){Ar.call(this,"d")}function GM(){Ar.call(this,"c")}function XD(){}function Vy(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Oy(this),this.P=X8,this.W=new ZD(n=DM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new YL}function YL(){this.i=null,this.g="",this.h=!1}fr(HM,Ar),fr(GM,Ar),fr(XD,jM),XD.prototype.g=function(){return new XMLHttpRequest},XD.prototype.i=function(){return{}},$M=new XD;var X8=45e3,zM={},eC={};function WM(n,e,t){n.K=1,n.v=sC(Kl(e)),n.s=t,n.U=!0,ZL(n,null)}function ZL(n,e){n.F=Date.now(),By(n),n.A=Kl(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),rV(t.h,"t",i),n.C=0,t=n.l.H,n.h=new YL,n.g=SV(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Y8(hr(n.Ia,n,n.g),n.O)),BL(n.V,n.g,"readystatechange",n.gb),e=n.H?CL(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Py(1),function Z8(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var C=y[0];y=y[1];var I=C.split("_");u=2<=I.length&&"type"==I[1]?u+(C+"=")+y+"&":u+(C+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function KL(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function JL(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=e6(n,t),r==eC){4==e&&(n.o=4,Gr(14),i=!1),pg(n.j,n.m,null,"[Incomplete Response]");break}if(r==zM){n.o=4,Gr(15),pg(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}pg(n.j,n.m,r,null),qM(n,r)}KL(n)&&r!=eC&&r!=zM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Gr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),rx(e),e.L=!0,Gr(11))):(pg(n.j,n.m,t,"[Invalid Chunked Response]"),Mh(n),Uy(n))}function e6(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?eC:(t=Number(e.substring(t,i)),isNaN(t)?zM:(i+=1)+t>e.length?eC:(e=e.substr(i,t),n.C=i+t,e))}function By(n){n.Y=Date.now()+n.P,QL(n,n.P)}function QL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Fy(hr(n.eb,n),e)}function tC(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Uy(n){0==n.l.G||n.I||CV(n.l,n)}function Mh(n){tC(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,BM(n.W),UL(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function qM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||KM(t.i,n)))if(t.I=n.N,!n.J&&KM(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(y){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Fy(hr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;dC(t),cC(t)}ix(t),Gr(18)}if(1>=aV(t.i)&&t.ka){try{t.ka()}catch(y){}t.ka=void 0}}else kh(t,11)}else if((n.J||t.g==n)&&dC(t),!$D(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.U=y[0],y=y[1],2==t.G)if("c"==y[0]){t.J=y[1],t.la=y[2];const C=y[3];null!=C&&(t.ma=C,t.h.info("VER="+t.ma));const I=y[4];null!=I&&(t.za=I,t.h.info("SVER="+t.za));const x=y[5];null!=x&&"number"==typeof x&&0<x&&(t.K=i=1.5*x,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const N=n.g;if(N){const V=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var s=i.i;!s.g&&(jr(V,"spdy")||jr(V,"quic")||jr(V,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(JM(s,s.h),s.h=null))}if(i.D){const z=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(i.sa=z,Un(i.F,i.D,z))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=TV(i,i.H?i.la:null,i.W),u.J){lV(i.i,u);var h=u,p=i.K;p&&h.setTimeout(p),h.B&&(tC(h),By(h)),i.g=u}else wV(i);0<t.l.length&&uC(t)}else"stop"!=y[0]&&"close"!=y[0]||kh(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?kh(t,7):tx(t):"noop"!=y[0]&&t.j&&t.j.wa(y),t.A=0)}Py(4)}catch(y){}}function YM(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(mM(n)||"string"==typeof n)yL(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(mM(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function t6(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(mM(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function gg(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof gg)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function ZM(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];xh(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)xh(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function xh(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ot=Vy.prototype).setTimeout=function(n){this.P=n},ot.gb=function(n){n=n.target;const e=this.L;e&&3==Jl(n)?e.l():this.Ia(n)},ot.Ia=function(n){try{if(n==this.g)e:{const C=Jl(this.g);var e=this.g.Da();const I=this.g.ba();if(!(3>C)&&(3!=C||DM||this.g&&(this.h.h||this.g.ga()||mV(this.g)))){this.I||4!=C||7==e||Py(8==e||0>=I?3:2),tC(this);var t=this.g.ba();this.N=t;t:if(KL(this)){var i=mV(this.g);n="";var r=i.length,s=4==Jl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Mh(this),Uy(this);var u="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function K8(n,e,t,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.X,C,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$D(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Gr(12),Mh(this),Uy(this);break e}pg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qM(this,t)}this.U?(JL(this,C,u),DM&&this.i&&3==C&&(BL(this.V,this.W,"tick",this.fb),this.W.start())):(pg(this.j,this.m,u,null),qM(this,u)),4==C&&Mh(this),this.i&&!this.I&&(4==C?CV(this.l,this):(this.i=!1,By(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Gr(12)):(this.o=0,Gr(13)),Mh(this),Uy(this)}}}catch(C){}},ot.fb=function(){if(this.g){var n=Jl(this.g),e=this.g.ga();this.C<e.length&&(tC(this),JL(this,n,e),this.i&&4!=n&&By(this))}},ot.cancel=function(){this.I=!0,Mh(this)},ot.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function J8(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Py(3),Gr(17)),Mh(this),this.o=2,Uy(this)):QL(this,this.Y-n)},(ot=gg.prototype).R=function(){ZM(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ot.T=function(){return ZM(this),this.g.concat()},ot.get=function(n,e){return xh(this.h,n)?this.h[n]:e},ot.set=function(n,e){xh(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ot.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var XL=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nh(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Nh){this.g=void 0!==e?e:n.g,nC(this,n.j),this.s=n.s,iC(this,n.i),rC(this,n.m),this.l=n.l,e=n.h;var t=new Gy;t.i=e.i,e.g&&(t.g=new gg(e.g),t.h=e.h),eV(this,t),this.o=n.o}else n&&(t=String(n).match(XL))?(this.g=!!e,nC(this,t[1]||"",!0),this.s=jy(t[2]||""),iC(this,t[3]||"",!0),rC(this,t[4]),this.l=jy(t[5]||"",!0),eV(this,t[6]||"",!0),this.o=jy(t[7]||"")):(this.g=!!e,this.h=new Gy(null,this.g))}function Kl(n){return new Nh(n)}function nC(n,e,t){n.j=t?jy(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function iC(n,e,t){n.i=t?jy(e,!0):e}function rC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function eV(n,e,t){e instanceof Gy?(n.h=e,function u6(n,e){e&&!n.j&&(Cu(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(nV(this,i),rV(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Hy(e,l6)),n.h=new Gy(e,n.g))}function Un(n,e,t){n.h.set(e,t)}function sC(n){return Un(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function jy(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Hy(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,s6),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function s6(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Nh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Hy(e,tV,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Hy(e,tV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Hy(t,"/"==t.charAt(0)?a6:o6,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Hy(t,c6)),n.join("")};var tV=/[#\/\?@]/g,o6=/[#\?:]/g,a6=/[#\?]/g,l6=/[#\?@]/g,c6=/#/g;function Gy(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Cu(n){n.g||(n.g=new gg,n.h=0,n.i&&function n6(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function nV(n,e){Cu(n),e=mg(n,e),xh(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,xh((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ZM(n)))}function iV(n,e){return Cu(n),e=mg(n,e),xh(n.g.h,e)}function rV(n,e,t){nV(n,e),0<t.length&&(n.i=null,n.g.set(mg(n,e),yM(t)),n.h+=t.length)}function mg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function sV(n){this.l=n||h6,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=Gy.prototype).add=function(n,e){Cu(this),this.i=null,n=mg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ot.forEach=function(n,e){Cu(this),this.g.forEach(function(t,i){yL(t,function(r){n.call(e,r,i,this)},this)},this)},ot.T=function(){Cu(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},ot.R=function(n){Cu(this);var e=[];if("string"==typeof n)iV(this,n)&&(e=vL(e,this.g.get(mg(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=vL(e,n[t])}return e},ot.set=function(n,e){return Cu(this),this.i=null,iV(this,n=mg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ot.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var u=r;""!==i[s]&&(u+="="+encodeURIComponent(String(i[s]))),n.push(u)}}return this.i=n.join("&")};var h6=10;function oV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function aV(n){return n.h?1:n.g?n.g.size:0}function KM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function JM(n,e){n.g?n.g.add(e):n.h=e}function lV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function cV(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return yM(n.i)}function QM(){}function f6(){this.g=new QM}function p6(n,e,t){const i=t||"";try{YM(n,function(r,s){let u=r;Ny(r)&&(u=PM(r)),e.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function oC(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function $y(n){this.l=n.$b||null,this.j=n.ib||!1}function aC(n,e){Gi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=XM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sV.prototype.cancel=function(){if(this.i=cV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},QM.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},QM.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},fr($y,jM),$y.prototype.g=function(){return new aC(this.l,this.j)},$y.prototype.i=function(n){return function(){return n}}({}),fr(aC,Gi);var XM=0;function uV(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function zy(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Wy(n)}function Wy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=aC.prototype).open=function(n,e){if(this.readyState!=XM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Wy(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zy(this)),this.readyState=XM},ot.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Wy(this)),this.g&&(this.readyState=3,Wy(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uV(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ot.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?zy(this):Wy(this),3==this.readyState&&uV(this)}},ot.Ua=function(n){this.g&&(this.response=this.responseText=n,zy(this))},ot.Ta=function(n){this.g&&(this.response=n,zy(this))},ot.ha=function(){this.g&&zy(this)},ot.setRequestHeader=function(n,e){this.v.append(n,e)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(aC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var m6=Ot.JSON.parse;function Ci(n){Gi.call(this),this.headers=new gg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dV,this.K=this.L=!1}fr(Ci,Gi);var dV="",_6=/^https?$/i,y6=["POST","PUT"];function b6(n){return"content-type"==n.toLowerCase()}function hV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fV(n),lC(n)}function fV(n){n.D||(n.D=!0,pr(n,"complete"),pr(n,"error"))}function pV(n){if(n.h&&void 0!==gM&&(!n.C[1]||4!=Jl(n)||2!=n.ba()))if(n.v&&4==Jl(n))UM(n.Fa,0,n);else if(pr(n,"readystatechange"),4==Jl(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(XL)[1]||null;if(!r&&Ot.self&&Ot.self.location){var s=Ot.self.location.protocol;r=s.substr(0,s.length-1)}i=!_6.test(r?r.toLowerCase():"")}t=i}if(t)pr(n,"complete"),pr(n,"success");else{n.m=6;try{var u=2<Jl(n)?n.g.statusText:""}catch(p){u=""}n.j=u+" ["+n.ba()+"]",fV(n)}}finally{lC(n)}}}function lC(n,e){if(n.g){gV(n);const t=n.g,i=n.C[0]?HD:null;n.g=null,n.C=null,e||pr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function gV(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function Jl(n){return n.g?n.g.readyState:0}function mV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case dV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ex(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function w6(n){let e="";return bM(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Un(n,e,t))}function qy(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _V(n){this.za=0,this.l=[],this.h=new KD,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=qy("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=qy("baseRetryDelayMs",5e3,n),this.$a=qy("retryDelaySeedMs",1e4,n),this.Ya=qy("forwardChannelMaxRetries",2,n),this.ra=qy("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new sV(n&&n.concurrentRequestLimit),this.Ca=new f6,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function tx(n){if(yV(n),3==n.G){var e=n.V++,t=Kl(n.F);Un(t,"SID",n.J),Un(t,"RID",e),Un(t,"TYPE","terminate"),Yy(n,t),(e=new Vy(n,n.h,e,void 0)).K=2,e.v=sC(Kl(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=SV(e.l,null),e.g.ea(e.v)),e.F=Date.now(),By(e)}IV(n)}function cC(n){n.g&&(rx(n),n.g.cancel(),n.g=null)}function yV(n){cC(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),dC(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function nx(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&uC(n)}function uC(n){oV(n.i)||n.m||(n.m=!0,FM(n.Ha,n),n.C=0)}function vV(n,e){var t;t=e?e.m:n.V++;const i=Kl(n.F);Un(i,"SID",n.J),Un(i,"RID",t),Un(i,"AID",n.U),Yy(n,i),n.o&&n.s&&ex(i,n.o,n.s),t=new Vy(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=bV(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),JM(n.i,t),WM(t,i,e)}function Yy(n,e){n.j&&YM({},function(t,i){Un(e,i,t)})}function bV(n,e,t){t=Math.min(n.l.length,t);var i=n.j?hr(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=r[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let y=r[p].h;const C=r[p].g;if(y-=s,0>y)s=Math.max(0,r[p].h-100),h=!1;else try{p6(C,u,"req"+y+"_")}catch(I){i&&i(C)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function wV(n){n.g||n.u||(n.Y=1,FM(n.Ga,n),n.A=0)}function ix(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Fy(hr(n.Ga,n),EV(n,n.A)),n.A++,0))}function rx(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function DV(n){n.g=new Vy(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Kl(n.oa);Un(e,"RID","rpc"),Un(e,"SID",n.J),Un(e,"CI",n.N?"0":"1"),Un(e,"AID",n.U),Yy(n,e),Un(e,"TYPE","xmlhttp"),n.o&&n.s&&ex(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=sC(Kl(e)),t.s=null,t.U=!0,ZL(t,n)}function dC(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function CV(n,e){var t=null;if(n.g==e){dC(n),rx(n),n.g=null;var i=2}else{if(!KM(n.i,e))return;t=e.D,lV(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;pr(i=JD(),new $L(i,t,e,r)),uC(n)}else wV(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function D6(n,e){return!(aV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Fy(hr(n.Ha,n,e),EV(n,n.C)),n.C++,0)))}(n,e)||2==i&&ix(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:kh(n,5);break;case 4:kh(n,10);break;case 3:kh(n,6);break;default:kh(n,2)}}function EV(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function kh(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=hr(n.jb,n);t||(t=new Nh("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||nC(t,"https"),sC(t)),function g6(n,e){const t=new KD;if(Ot.Image){const i=new Image;i.onload=GD(oC,t,i,"TestLoadImage: loaded",!0,e),i.onerror=GD(oC,t,i,"TestLoadImage: error",!1,e),i.onabort=GD(oC,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=GD(oC,t,i,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Gr(2);n.G=0,n.j&&n.j.va(e),IV(n),yV(n)}function IV(n){n.G=0,n.I=-1,n.j&&((0!=cV(n.i).length||0!=n.l.length)&&(n.i.i.length=0,yM(n.l),n.l.length=0),n.j.ua())}function TV(n,e,t){let i=function i6(n){return n instanceof Nh?Kl(n):new Nh(n,void 0)}(t);if(""!=i.i)e&&iC(i,e+"."+i.i),rC(i,i.m);else{const r=Ot.location;i=function r6(n,e,t,i){var r=new Nh(null,void 0);return n&&nC(r,n),e&&iC(r,e),t&&rC(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&bM(n.aa,function(r,s){Un(i,s,r)}),t=n.sa,(e=n.D)&&t&&Un(i,e,t),Un(i,"VER",n.ma),Yy(n,i),i}function SV(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ci(t&&n.Ba&&!n.qa?new $y({ib:!0}):n.qa)).L=n.H,e}function AV(){}function hC(){if(fg&&!(10<=Number(P8)))throw Error("Environmental error: no available transport.")}function js(n,e){Gi.call(this),this.g=new _V(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!$D(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$D(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new _g(this)}function MV(n){HM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xV(){GM.call(this),this.status=1}function _g(n){this.g=n}(ot=Ci.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$M.g(),this.C=function WL(n){return n.h||(n.h=n.i())}(this.u?this.u:$M),this.g.onreadystatechange=hr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void hV(this,s)}n=t||"";const r=new gg(this.headers);i&&YM(i,function(s,u){r.set(u,s)}),i=function M8(n){e:{var e=b6;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Ot.FormData&&n instanceof Ot.FormData,!(0<=_L(y6,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gV(this),0<this.B&&((this.K=function v6(n){return fg&&function O8(){return function x8(n){var e=R8;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=bL(String(zD)).split("."),t=bL("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",s=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=vM(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||vM(0==r[2].length,0==s[2].length)||vM(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hr(this.pa,this)):this.A=UM(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){hV(this,s)}},ot.pa=function(){void 0!==gM&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pr(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,pr(this,"complete"),pr(this,"abort"),lC(this))},ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lC(this,!0)),Ci.Z.M.call(this)},ot.Fa=function(){this.s||(this.F||this.v||this.l?pV(this):this.cb())},ot.cb=function(){pV(this)},ot.ba=function(){try{return 2<Jl(this)?this.g.status:-1}catch(n){return-1}},ot.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ot.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),m6(e)}},ot.Da=function(){return this.m},ot.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=_V.prototype).ma=8,ot.G=1,ot.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ot.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Vy(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=CL(s),IL(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bV(this,r,e),Un(t=Kl(this.F),"RID",n),Un(t,"CVER",22),this.D&&Un(t,"X-HTTP-Session-Id",this.D),Yy(this,t),this.o&&s&&ex(t,this.o,s),JM(this.i,r),this.Ra&&Un(t,"TYPE","init"),this.ja?(Un(t,"$req",e),Un(t,"SID","null"),r.$=!0,WM(r,t,null)):WM(r,t,e),this.G=2}}else 3==this.G&&(n?vV(this,n):0==this.l.length||oV(this.i)||vV(this))},ot.Ga=function(){if(this.u=null,DV(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Fy(hr(this.bb,this),n)}},ot.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gr(10),cC(this),DV(this))},ot.ab=function(){null!=this.v&&(this.v=null,cC(this),ix(this),Gr(19))},ot.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Gr(2)):(this.h.info("Failed to ping google.com"),Gr(1))},(ot=AV.prototype).xa=function(){},ot.wa=function(){},ot.va=function(){},ot.ua=function(){},ot.Oa=function(){},hC.prototype.g=function(n,e){return new js(n,e)},fr(js,Gi),js.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),FM(hr(n.hb,n,e))),Gr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=TV(n,null,n.W),uC(n)},js.prototype.close=function(){tx(this.g)},js.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,nx(this.g,e)}else this.v?((e={}).__data__=PM(n),nx(this.g,e)):nx(this.g,n)},js.prototype.M=function(){this.g.j=null,delete this.j,tx(this.g),delete this.g,js.Z.M.call(this)},fr(MV,HM),fr(xV,GM),fr(_g,AV),_g.prototype.xa=function(){pr(this.g,"a")},_g.prototype.wa=function(n){pr(this.g,new MV(n))},_g.prototype.va=function(n){pr(this.g,new xV(n))},_g.prototype.ua=function(){pr(this.g,"b")},hC.prototype.createWebChannel=hC.prototype.g,js.prototype.send=js.prototype.u,js.prototype.open=js.prototype.m,js.prototype.close=js.prototype.close,QD.NO_ERROR=0,QD.TIMEOUT=8,QD.HTTP_ERROR=6,zL.COMPLETE="complete",qL.EventType=Ly,Ly.OPEN="a",Ly.CLOSE="b",Ly.ERROR="c",Ly.MESSAGE="d",Gi.prototype.listen=Gi.prototype.N,Ci.prototype.listenOnce=Ci.prototype.O,Ci.prototype.getLastError=Ci.prototype.La,Ci.prototype.getLastErrorCode=Ci.prototype.Da,Ci.prototype.getStatus=Ci.prototype.ba,Ci.prototype.getResponseJson=Ci.prototype.Qa,Ci.prototype.getResponseText=Ci.prototype.ga,Ci.prototype.send=Ci.prototype.ea;var C6=Zl.createWebChannelTransport=function(){return new hC},E6=Zl.getStatEventTarget=function(){return JD()},sx=Zl.ErrorCode=QD,I6=Zl.EventType=zL,T6=Zl.Event=Ah,NV=Zl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},S6=Zl.FetchXmlHttpFactory=$y,fC=Zl.WebChannel=qL,A6=Zl.XhrIo=Ci;const kV="@firebase/firestore";class gr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");let yg="9.6.9";const Eu=new hs.Yd("@firebase/firestore");function ox(){return Eu.logLevel}function Pe(n,...e){if(Eu.logLevel<=hs.in.DEBUG){const t=e.map(ax);Eu.debug(`Firestore (${yg}): ${n}`,...t)}}function Ei(n,...e){if(Eu.logLevel<=hs.in.ERROR){const t=e.map(ax);Eu.error(`Firestore (${yg}): ${n}`,...t)}}function Zy(n,...e){if(Eu.logLevel<=hs.in.WARN){const t=e.map(ax);Eu.warn(`Firestore (${yg}): ${n}`,...t)}}function ax(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ct(n="Unexpected state"){const e=`FIRESTORE (${yg}) INTERNAL ASSERTION FAILED: `+n;throw Ei(e),new Error(e)}function Mt(n,e){n||ct()}function qe(n,e){return n}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends et.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class RV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gr.UNAUTHENTICATED))}shutdown(){}}class k6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class R6{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let u=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $i,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const y=u;e.enqueueRetryable((0,Y.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},p=y=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $i)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Mt("string"==typeof i.accessToken),new RV(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mt(null===e||"string"==typeof e),new gr(e)}}class O6{constructor(e,t,i){this.type="FirstParty",this.user=gr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class P6{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new O6(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F6{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.p;return this.p=s.token,Pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mt("string"==typeof t.token),this.p=t.token,new OV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Hs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function L6(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}Hs.A=-1;class PV{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=L6(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function Kt(n,e){return n<e?-1:n>e?1:0}function vg(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function FV(n){return n+"\0"}class zi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zi.fromMillis(Date.now())}static fromDate(e){return zi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new zi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new zi(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function LV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ky{constructor(e,t,i){void 0===t?t=0:t>e.length&&ct(),void 0===i?i=e.length-t:i>e.length-t&&ct(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ky.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ky?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),u=t.get(r);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ln extends Ky{construct(e,t,i){return new ln(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const V6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wi extends Ky{construct(e,t,i){return new Wi(e,t,i)}static isValidIdentifier(e){return V6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ee(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Ee(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ee(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(s(),r++)}if(s(),u)throw new Ee(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wi(t)}static emptyPath(){return new Wi([])}}class bg{constructor(e){this.fields=e,e.sort(Wi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vg(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Pi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Pi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const U6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Iu(n){if(Mt(!!n),"string"==typeof n){let e=0;const t=U6.exec(n);if(Mt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:oi(n.seconds),nanos:oi(n.nanos)}}function oi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Oh(n){return"string"==typeof n?Pi.fromBase64String(n):Pi.fromUint8Array(n)}function lx(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function BV(n){const e=n.mapValue.fields.__previous_value__;return lx(e)?BV(e):e}function Jy(n){const e=Iu(n.mapValue.fields.__local_write_time__.timestampValue);return new zi(e.seconds,e.nanos)}class j6{constructor(e,t,i,r,s,u,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class Ql{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ql("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}function Ph(n){return null==n}function Qy(n){return 0===n&&1/n==-1/0}function UV(n){return"number"==typeof n&&Number.isInteger(n)&&!Qy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(ln.fromString(e))}static fromName(e){return new Qe(ln.fromString(e).popFirst(5))}static empty(){return new Qe(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new ln(e.slice()))}}const jV={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},HV={nullValue:"NULL_VALUE"};function Fh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lx(n)?4:WV(n)?9:10:ct()}function Ga(n,e){if(n===e)return!0;const t=Fh(n);if(t!==Fh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jy(n).isEqual(Jy(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Iu(i.timestampValue),u=Iu(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Oh(n.bytesValue).isEqual(Oh(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return oi(i.geoPointValue.latitude)===oi(r.geoPointValue.latitude)&&oi(i.geoPointValue.longitude)===oi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return oi(i.integerValue)===oi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=oi(i.doubleValue),u=oi(r.doubleValue);return s===u?Qy(s)===Qy(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return vg(n.arrayValue.values||[],e.arrayValue.values||[],Ga);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(LV(s)!==LV(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!Ga(s[h],u[h])))return!1;return!0}(n,e);default:return ct()}var r}function Xy(n,e){return void 0!==(n.values||[]).find(t=>Ga(t,e))}function Tu(n,e){if(n===e)return 0;const t=Fh(n),i=Fh(e);if(t!==i)return Kt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const u=oi(r.integerValue||r.doubleValue),h=oi(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return GV(n.timestampValue,e.timestampValue);case 4:return GV(Jy(n),Jy(e));case 5:return Kt(n.stringValue,e.stringValue);case 6:return function(r,s){const u=Oh(r),h=Oh(s);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const u=r.split("/"),h=s.split("/");for(let p=0;p<u.length&&p<h.length;p++){const y=Kt(u[p],h[p]);if(0!==y)return y}return Kt(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const u=Kt(oi(r.latitude),oi(s.latitude));return 0!==u?u:Kt(oi(r.longitude),oi(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const u=r.values||[],h=s.values||[];for(let p=0;p<u.length&&p<h.length;++p){const y=Tu(u[p],h[p]);if(y)return y}return Kt(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){const u=r.fields||{},h=Object.keys(u),p=s.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let C=0;C<h.length&&C<y.length;++C){const I=Kt(h[C],y[C]);if(0!==I)return I;const x=Tu(u[h[C]],p[y[C]]);if(0!==x)return x}return Kt(h.length,y.length)}(n.mapValue,e.mapValue);default:throw ct()}}function GV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kt(n,e);const t=Iu(n),i=Iu(e),r=Kt(t.seconds,i.seconds);return 0!==r?r:Kt(t.nanos,i.nanos)}function wg(n){return cx(n)}function cx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Iu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Oh(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=cx(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const h of r)u?u=!1:s+=",",s+=`${h}:${cx(i.fields[h])}`;return s+"}"}(n.mapValue):ct();var e}function Dg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ux(n){return!!n&&"integerValue"in n}function ev(n){return!!n&&"arrayValue"in n}function $V(n){return!!n&&"nullValue"in n}function zV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pC(n){return!!n&&"mapValue"in n}function tv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Rh(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=tv(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function WV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function qV(n,e){return void 0===n?e:void 0===e||Tu(n,e)>0?n:e}function YV(n,e){return void 0===n?e:void 0===e||Tu(n,e)<0?n:e}class Mr{constructor(e){this.value=e}static empty(){return new Mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!pC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tv(t)}setAll(e){let t=Wi.emptyPath(),i={},r=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=tv(u):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());pC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ga(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];pC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Rh(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Mr(tv(this.value))}}function ZV(n){const e=[];return Rh(n.fields,(t,i)=>{const r=new Wi([t]);if(pC(i)){const s=ZV(i.mapValue).fields;if(0===s.length)e.push(r);else for(const u of s)e.push(r.child(u))}else e.push(r)}),new bg(e)}class Qn{constructor(e,t,i,r,s,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Qn(e,0,St.min(),St.min(),Mr.empty(),0)}static newFoundDocument(e,t,i){return new Qn(e,1,t,St.min(),i,0)}static newNoDocument(e,t){return new Qn(e,2,t,St.min(),Mr.empty(),0)}static newUnknownDocument(e,t){return new Qn(e,3,t,St.min(),Mr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gC{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function dx(n){return n.fields.find(e=>2===e.kind)}function Cg(n){return n.fields.filter(e=>2!==e.kind)}gC.UNKNOWN_ID=-1;class mC{constructor(e,t){this.fieldPath=e,this.kind=t}}class nv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new nv(0,_C.min())}}class _C{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _C(St.min(),Qe.empty(),-1)}}class H6{constructor(e,t=null,i=[],r=[],s=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=h,this.P=null}}function KV(n,e=null,t=[],i=[],r=null,s=null,u=null){return new H6(n,e,t,i,r,s,u)}function Lh(n){const e=qe(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+wg(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Ph(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>wg(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>wg(i)).join(",")),e.P=t}return e.P}function iv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!J6(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Ga(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!XV(n.startAt,e.startAt)&&XV(n.endAt,e.endAt)}function yC(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function vC(n,e){return n.filters.filter(t=>t instanceof mr&&t.field.isEqual(e))}class mr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new $6(e,t,i):"array-contains"===t?new q6(e,i):"in"===t?new Y6(e,i):"not-in"===t?new Z6(e,i):"array-contains-any"===t?new K6(e,i):new mr(e,t,i)}static V(e,t,i){return"in"===t?new z6(e,i):new W6(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Tu(t,this.value)):null!==t&&Fh(this.value)===Fh(t)&&this.v(Tu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ct()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class $6 extends mr{constructor(e,t,i){super(e,t,i),this.key=Qe.fromName(i.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.v(t)}}class z6 extends mr{constructor(e,t){super(e,"in",t),this.keys=JV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class W6 extends mr{constructor(e,t){super(e,"not-in",t),this.keys=JV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function JV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Qe.fromName(i.referenceValue))}class q6 extends mr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ev(t)&&Xy(t.arrayValue,this.value)}}class Y6 extends mr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xy(this.value.arrayValue,t)}}class Z6 extends mr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xy(this.value.arrayValue,t)}}class K6 extends mr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ev(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Xy(this.value.arrayValue,i))}}class Su{constructor(e,t){this.position=e,this.inclusive=t}}class Eg{constructor(e,t="asc"){this.field=e,this.dir=t}}function J6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function QV(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],u=n.position[r];if(i=s.field.isKeyField()?Qe.comparator(Qe.fromName(u.referenceValue),t.key):Tu(u,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function XV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ga(n.position[t],e.position[t]))return!1;return!0}class Xl{constructor(e,t=null,i=[],r=[],s=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=p,this.D=null,this.C=null}}function e2(n,e,t,i,r,s,u,h){return new Xl(n,e,t,i,r,s,u,h)}function Ig(n){return new Xl(n)}function bC(n){return!Ph(n.limit)&&"F"===n.limitType}function wC(n){return!Ph(n.limit)&&"L"===n.limitType}function hx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function fx(n){for(const e of n.filters)if(e.S())return e.field;return null}function px(n){return null!==n.collectionGroup}function Tg(n){const e=qe(n);if(null===e.D){e.D=[];const t=fx(e),i=hx(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new Eg(t)),e.D.push(new Eg(Wi.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Eg(Wi.keyField(),s))}}}return e.D}function vo(n){const e=qe(n);if(!e.C)if("F"===e.limitType)e.C=KV(e.path,e.collectionGroup,Tg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Tg(e))t.push(new Eg(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Su(e.endAt.position,!e.endAt.inclusive):null,r=e.startAt?new Su(e.startAt.position,!e.startAt.inclusive):null;e.C=KV(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function t2(n,e,t){return new Xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rv(n,e){return iv(vo(n),vo(e))&&n.limitType===e.limitType}function n2(n){return`${Lh(vo(n))}|lt:${n.limitType}`}function gx(n){return`Query(target=${function G6(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${wg(i.value)}`;var i}).join(", ")}]`),Ph(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>wg(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>wg(t)).join(",")),`Target(${e})`}(vo(n))}; limitType=${n.limitType})`}function mx(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Qe.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,u){const h=QV(r,s,u);return r.inclusive?h<=0:h<0}(t.startAt,Tg(t),i)||t.endAt&&!function(r,s,u){const h=QV(r,s,u);return r.inclusive?h>=0:h>0}(t.endAt,Tg(t),i)));var t,i}function r2(n){return(e,t)=>{let i=!1;for(const r of Tg(n)){const s=Q6(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Q6(n,e,t){const i=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(r,s,u){const h=s.data.field(r),p=u.data.field(r);return null!==h&&null!==p?Tu(h,p):ct()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ct()}}function s2(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qy(e)?"-0":e}}function o2(n){return{integerValue:""+n}}function a2(n,e){return UV(e)?o2(e):s2(n,e)}class DC{constructor(){this._=void 0}}function X6(n,e,t){return n instanceof Sg?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Vh?c2(n,e):n instanceof Bh?u2(n,e):function(i,r){const s=l2(i,r),u=d2(s)+d2(i.k);return ux(s)&&ux(i.k)?o2(u):s2(i.M,u)}(n,e)}function eW(n,e,t){return n instanceof Vh?c2(n,e):n instanceof Bh?u2(n,e):t}function l2(n,e){return n instanceof Ag?ux(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Sg extends DC{}class Vh extends DC{constructor(e){super(),this.elements=e}}function c2(n,e){const t=h2(e);for(const i of n.elements)t.some(r=>Ga(r,i))||t.push(i);return{arrayValue:{values:t}}}class Bh extends DC{constructor(e){super(),this.elements=e}}function u2(n,e){let t=h2(e);for(const i of n.elements)t=t.filter(r=>!Ga(r,i));return{arrayValue:{values:t}}}class Ag extends DC{constructor(e,t){super(),this.M=e,this.k=t}}function d2(n){return oi(n.integerValue||n.doubleValue)}function h2(n){return ev(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sv{constructor(e,t){this.field=e,this.transform=t}}class nW{constructor(e,t){this.version=e,this.transformResults=t}}class Ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function CC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class EC{}function iW(n,e,t){n instanceof ov?function(i,r,s){const u=i.value.clone(),h=m2(i.fieldTransforms,r,s.transformResults);u.setAll(h),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Uh?function(i,r,s){if(!CC(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=m2(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(g2(i)),h.setAll(u),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _x(n,e,t){var r;n instanceof ov?function(i,r,s){if(!CC(i.precondition,r))return;const u=i.value.clone(),h=_2(i.fieldTransforms,s,r);u.setAll(h),r.convertToFoundDocument(p2(r),u).setHasLocalMutations()}(n,e,t):n instanceof Uh?function(i,r,s){if(!CC(i.precondition,r))return;const u=_2(i.fieldTransforms,s,r),h=r.data;h.setAll(g2(i)),h.setAll(u),r.convertToFoundDocument(p2(r),h).setHasLocalMutations()}(n,e,t):CC(n.precondition,r=e)&&r.convertToNoDocument(St.min())}function rW(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=l2(i.transform,r||null);null!=s&&(null==t&&(t=Mr.empty()),t.set(i.field,s))}return t||null}function f2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&vg(t,i,(r,s)=>function tW(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Vh&&i instanceof Vh||t instanceof Bh&&i instanceof Bh?vg(t.elements,i.elements,Ga):t instanceof Ag&&i instanceof Ag?Ga(t.k,i.k):t instanceof Sg&&i instanceof Sg);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function p2(n){return n.isFoundDocument()?n.version:St.min()}class ov extends EC{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Uh extends EC{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function g2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function m2(n,e,t){const i=new Map;Mt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],u=s.transform,h=e.data.field(s.field);i.set(s.field,eW(u,h,t[r]))}return i}function _2(n,e,t){const i=new Map;for(const r of n){const s=r.transform,u=t.data.field(r.field);i.set(r.field,X6(s,u,e))}return i}class av extends EC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class yx extends EC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class sW{constructor(e){this.count=e}}var Ti,sn;function y2(n){switch(n){default:return ct();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function v2(n){if(void 0===n)return Ei("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Ti.OK:return oe.OK;case Ti.CANCELLED:return oe.CANCELLED;case Ti.UNKNOWN:return oe.UNKNOWN;case Ti.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ti.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ti.INTERNAL:return oe.INTERNAL;case Ti.UNAVAILABLE:return oe.UNAVAILABLE;case Ti.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ti.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ti.NOT_FOUND:return oe.NOT_FOUND;case Ti.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ti.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ti.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ti.ABORTED:return oe.ABORTED;case Ti.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ti.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ti.DATA_LOSS:return oe.DATA_LOSS;default:return ct()}}(sn=Ti||(Ti={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";class Au{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Rh(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return VV(this.inner)}size(){return this.innerSize}}class hi{constructor(e,t){this.comparator=e,this.root=t||_r.EMPTY}insert(e,t){return new hi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new hi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new IC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new IC(this.root,e,this.comparator,!1)}getReverseIterator(){return new IC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new IC(this.root,e,this.comparator,!0)}}class IC{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:_r.RED,this.left=null!=r?r:_r.EMPTY,this.right=null!=s?s:_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new _r(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return _r.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1,_r.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,e,t,i,r){return this}insert(n,e,t){return new _r(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new hi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new b2(this.data.getIterator())}getIteratorFrom(e){return new b2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class b2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mg(n){return n.hasNext()?n.getNext():void 0}const oW=new hi(Qe.comparator);function bo(){return oW}const aW=new hi(Qe.comparator);function vx(){return aW}function lv(){return new Au(n=>n.toString(),(n,e)=>n.isEqual(e))}const lW=new hi(Qe.comparator),cW=new jn(Qe.comparator);function fn(...n){let e=cW;for(const t of n)e=e.add(t);return e}const uW=new jn(Kt);function TC(){return uW}class cv{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,uv.createSynthesizedTargetChangeForCurrentChange(e,t)),new cv(St.min(),i,TC(),bo(),fn())}}class uv{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new uv(Pi.EMPTY_BYTE_STRING,t,fn(),fn(),fn())}}class SC{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.$=r}}class w2{constructor(e,t){this.targetId=e,this.F=t}}class D2{constructor(e,t,i=Pi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class C2{constructor(){this.B=0,this.L=I2(),this.q=Pi.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}get current(){return this.U}get resumeToken(){return this.q}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.q=e)}H(){let e=fn(),t=fn(),i=fn();return this.L.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ct()}}),new uv(this.q,this.U,e,t,i)}J(){this.K=!1,this.L=I2()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.U=!0}}class dW{constructor(e){this.nt=e,this.st=new Map,this.it=bo(),this.rt=E2(),this.ot=new jn(Kt)}at(e){for(const t of e.O)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.F.count,r=this.wt(t);if(r){const s=r.target;if(yC(s))if(0===i){const u=new Qe(s.path);this.ct(t,u,Qn.newNoDocument(u,St.min()))}else Mt(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,u)=>{const h=this.wt(u);if(h){if(s.current&&yC(h.target)){const p=new Qe(h.target.path);null!==this.it.get(p)||this.It(u,p)||this.ct(u,p,Qn.newNoDocument(p,e))}s.j&&(t.set(u,s.H()),s.J())}});let i=fn();this.rt.forEach((s,u)=>{let h=!0;u.forEachWhile(p=>{const y=this.wt(p);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.it.forEach((s,u)=>u.setReadTime(e));const r=new cv(e,t,this.ot,this.it,i);return this.it=bo(),this.rt=E2(),this.ot=new jn(Kt),r}ut(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new C2,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new jn(Kt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new C2),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function E2(){return new hi(Qe.comparator)}function I2(){return new hi(Qe.comparator)}const hW={asc:"ASCENDING",desc:"DESCENDING"},fW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pW{constructor(e,t){this.databaseId=e,this.N=t}}function dv(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T2(n,e){return n.N?e.toBase64():e.toUint8Array()}function gW(n,e){return dv(n,e.toTimestamp())}function qi(n){return Mt(!!n),St.fromTimestamp(function(e){const t=Iu(e);return new zi(t.seconds,t.nanos)}(n))}function bx(n,e){return(t=n,new ln(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function S2(n){const e=ln.fromString(n);return Mt(F2(e)),e}function hv(n,e){return bx(n.databaseId,e.path)}function $a(n,e){const t=S2(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(M2(t))}function wx(n,e){return bx(n.databaseId,e)}function A2(n){const e=S2(n);return 4===e.length?ln.emptyPath():M2(e)}function fv(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function M2(n){return Mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function x2(n,e,t){return{name:hv(n,e),fields:t.value.mapValue.fields}}function N2(n,e,t){const i=$a(n,e.name),r=qi(e.updateTime),s=new Mr({mapValue:{fields:e.fields}}),u=Qn.newFoundDocument(i,r,s);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function pv(n,e){let t;if(e instanceof ov)t={update:x2(n,e.key,e.value)};else if(e instanceof av)t={delete:hv(n,e.key)};else if(e instanceof Uh)t={update:x2(n,e.key,e.data),updateMask:EW(e.fieldMask)};else{if(!(e instanceof yx))return ct();t={verify:hv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof Sg)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Vh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Bh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ag)return{fieldPath:s.field.canonicalString(),increment:u.k};throw ct()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:gW(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ct()),t;var r}function Dx(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Ii.updateTime(qi(r.updateTime)):void 0!==r.exists?Ii.exists(r.exists):Ii.none():Ii.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,u){let h=null;"setToServerValue"in u?(Mt("REQUEST_TIME"===u.setToServerValue),h=new Sg):"appendMissingElements"in u?h=new Vh(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Bh(u.removeAllFromArray.values||[]):"increment"in u?h=new Ag(s,u.increment):ct();const p=Wi.fromServerFormat(u.fieldPath);return new sv(p,h)}(n,r)):[];var r;if(e.update){const r=$a(n,e.update.name),s=new Mr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new bg((e.updateMask.fieldPaths||[]).map(y=>Wi.fromServerFormat(y)));return new Uh(r,s,u,t,i)}return new ov(r,s,t,i)}if(e.delete){const r=$a(n,e.delete);return new av(r,t)}if(e.verify){const r=$a(n,e.verify);return new yx(r,t)}return ct()}function k2(n,e){return{documents:[wx(n,e.path)]}}function R2(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=wx(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wx(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const y=p.map(C=>function(I){if("=="===I.op){if(zV(I.value))return{unaryFilter:{field:xg(I.field),op:"IS_NAN"}};if($V(I.value))return{unaryFilter:{field:xg(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(zV(I.value))return{unaryFilter:{field:xg(I.field),op:"IS_NOT_NAN"}};if($V(I.value))return{unaryFilter:{field:xg(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xg(I.field),op:wW(I.op),value:I.value}}}(C));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(y=>{return{field:xg((C=y).field),direction:bW(C.dir)};var C})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=(y=e.limit,n.N||Ph(y)?y:{value:y});var y,h,p;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function O2(n){let e=A2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Mt(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let s=[];t.where&&(s=P2(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(C=>{return new Eg(Ng((I=C).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;t.limit&&(h=function(C){let I;return I="object"==typeof C?C.value:C,Ph(I)?null:I}(t.limit));let p=null;var C;t.startAt&&(p=new Su((C=t.startAt).values||[],!!C.before));let y=null;return t.endAt&&(y=function(C){return new Su(C.values||[],!C.before)}(t.endAt)),e2(e,r,u,s,h,"F",p,y)}function P2(n){return n?void 0!==n.unaryFilter?[CW(n)]:void 0!==n.fieldFilter?[DW(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>P2(e)).reduce((e,t)=>e.concat(t)):ct():[]}function bW(n){return hW[n]}function wW(n){return fW[n]}function xg(n){return{fieldPath:n.canonicalString()}}function Ng(n){return Wi.fromServerFormat(n.fieldPath)}function DW(n){return mr.create(Ng(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}function CW(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ng(n.unaryFilter.field);return mr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ng(n.unaryFilter.field);return mr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ng(n.unaryFilter.field);return mr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ng(n.unaryFilter.field);return mr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}function EW(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function F2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Yi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=L2(e)),e=IW(n.get(t),e);return L2(e)}function IW(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function L2(n){return n+"\x01\x01"}function ra(n){const e=n.length;if(Mt(e>=2),2===e)return Mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ln.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const u=n.indexOf("\x01",s);switch((u<0||u>t)&&ct(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:ct()}s=u+2}return new ln(i)}const V2=["userId","batchId"];function AC(n,e){return[n,Yi(e)]}function B2(n,e,t){return[n,Yi(e),t]}const TW={},SW=["parentPath","readTime"],AW=["canonicalId","targetId"],MW=["targetId","path"],xW=["path","targetId"],NW=["collectionId","parent"],kW=["indexId","uid"],RW=["uid","sequenceNumber"],OW=["indexId","uid","arrayValue","directionalValue","documentKey"],PW=["indexId","uid","documentKey"],FW=["userId","collectionPath","documentId"],LW=["userId","collectionPath","largestBatchId"],VW=["userId","collectionGroup","largestBatchId"],U2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],j2=[...U2,"documentOverlays"],BW=[...j2,"indexConfiguration","indexState","indexEntries"],H2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let r=0,s=0,u=!1;e.forEach(h=>{++r,h.next(()=>{++s,u&&s===r&&t()},p=>i(p))}),u=!0,s===r&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(r=>r?ue.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}}class MC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new $i,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new gv(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=Cx(i.target.error);this.At.reject(new gv(e,r))}}static open(e,t,i,r){try{return new MC(t,e.transaction(r,i))}catch(s){throw new gv(t,s)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jW(t)}}class sa{constructor(e,t,i){this.name=e,this.version=t,this.Pt=i,12.2===sa.Vt((0,et.z$)())&&Ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Hh(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,et.hl)())return!1;if(sa.St())return!0;const e=(0,et.z$)(),t=sa.Vt(e),i=0<t&&t<10,r=sa.Dt(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,Y.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new gv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Ee(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ee(oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new gv(e,h))},s.onupgradeneeded=u=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.Pt.kt(u.target.result,s.transaction,u.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Y.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.Nt(e);const p=MC.open(s.db,e,u?"readonly":"readwrite",i),y=r(p).next(C=>(p.bt(),C)).catch(C=>(p.abort(C),ue.reject(C))).toPromise();return y.catch(()=>{}),yield p.Rt,y}catch(p){const y="FirebaseError"!==p.name&&h<3;if(Pe("SimpleDb","Transaction failed with error:",p.message,"Retrying:",y),s.close(),!y)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class UW{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}qt(e){this.Bt=e}delete(){return Hh(this.$t.delete())}}class gv extends Ee{constructor(e,t){super(oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function jh(n){return"IndexedDbTransactionError"===n.name}class jW{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Hh(i)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Hh(this.store.add(e))}get(e){return Hh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Hh(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Hh(this.store.count())}Ut(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.Kt(r,(u,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ue((s,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}Gt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ue((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(s,u,h)=>h.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new ue((i,r)=>{t.onerror=s=>{const u=Cx(s.target.error);r(u)},t.onsuccess=s=>{const u=s.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}Kt(e,t){const i=[];return new ue((r,s)=>{e.onerror=u=>{s(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const p=new UW(h),y=t(h.primaryKey,h.value,p);if(y instanceof ue){const C=y.catch(I=>(p.done(),ue.reject(I)));i.push(C)}p.isDone?r():null===p.Lt?h.continue():h.continue(p.Lt)}}).next(()=>ue.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Hh(n){return new ue((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Cx(i.target.error);t(r)}})}let $2=!1;function Cx(n){const e=sa.Vt((0,et.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $2||($2=!0,setTimeout(()=>{throw i},0)),i}}return n}class z2 extends G2{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Zi(n,e){const t=qe(n);return sa.xt(t.Ht,e)}class Ex{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&iW(s,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&_x(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&_x(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(St.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fn())}isEqual(e){return this.batchId===e.batchId&&vg(this.mutations,e.mutations,(t,i)=>f2(t,i))&&vg(this.baseMutations,e.baseMutations,(t,i)=>f2(t,i))}}class Ix{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Mt(e.mutations.length===i.length);let r=lW;const s=e.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new Ix(e,t,i,r)}}class Tx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Mu{constructor(e,t,i,r,s=St.min(),u=St.min(),h=Pi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new Mu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class W2{constructor(e){this.Jt=e}}function q2(n,e){let t;if(e.document)t=N2(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Qe.fromSegments(e.noDocument.path),r=$h(e.noDocument.readTime);t=Qn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ct();{const i=Qe.fromSegments(e.unknownDocument.path),r=$h(e.unknownDocument.version);t=Qn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(Ax(e.readTime)),t}function Y2(n,e){const t=e.key.path.popLast().toArray(),i=Sx(e.readTime);if(e.isFoundDocument())return{document:(s=n.Jt,u=e,{name:hv(s,u.key),fields:u.data.value.mapValue.fields,updateTime:dv(s,u.version.toTimestamp())}),hasCommittedMutations:e.hasCommittedMutations,readTime:i,parentPath:t};var s,u;if(e.isNoDocument()){const r=e.key.path.toArray(),s=e.hasCommittedMutations;return{noDocument:{path:r,readTime:Gh(e.version)},hasCommittedMutations:s,readTime:i,parentPath:t}}return e.isUnknownDocument()?{unknownDocument:{path:e.key.path.toArray(),version:Gh(e.version)},hasCommittedMutations:!0,readTime:i,parentPath:t}:ct()}function Sx(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ax(n){const e=new zi(n[0],n[1]);return St.fromTimestamp(e)}function Gh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $h(n){const e=new zi(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function kg(n,e){const t=(e.baseMutations||[]).map(s=>Dx(n.Jt,s));for(let s=0;s<e.mutations.length-1;++s){const u=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(u.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>Dx(n.Jt,s)),r=zi.fromMillis(e.localWriteTimeMs);return new Ex(e.batchId,r,t,i)}function mv(n){const e=$h(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?$h(n.lastLimboFreeSnapshotVersion):St.min();let i;var r;return void 0!==n.query.documents?(Mt(1===(r=n.query).documents.length),i=vo(Ig(A2(r.documents[0])))):i=vo(O2(n.query)),new Mu(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Pi.fromBase64String(n.resumeToken))}function Z2(n,e){const t=Gh(e.snapshotVersion),i=Gh(e.lastLimboFreeSnapshotVersion);let r;r=yC(e.target)?k2(n.Jt,e.target):R2(n.Jt,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lh(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Mx(n){const e=O2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?t2(e,e.limit,"L"):e}function xx(n,e){return new Tx(e.largestBatchId,Dx(n.Jt,e.overlayMutation))}function K2(n,e){const t=e.path.lastSegment();return[n,Yi(e.path.popLast()),t]}class HW{getBundleMetadata(e,t){return J2(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:$h(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return J2(e).put({bundleId:(i=t).id,createTime:Gh(qi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Q2(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Mx(r.bundledQuery),readTime:$h(r.readTime)};var r})}saveNamedQuery(e,t){return Q2(e).put({name:(i=t).name,readTime:Gh(qi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function J2(n){return Zi(n,"bundles")}function Q2(n){return Zi(n,"namedQueries")}class Nx{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Nx(e,t.uid||"")}getOverlay(e,t){return _v(e).get(K2(this.userId,t)).next(i=>i?xx(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((s,u)=>{const h=new Tx(t,u);r.push(this.Xt(e,h))}),ue.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Yi(u.getCollectionPath())));const s=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(_v(e).Qt("collectionPathOverlayIndex",h))}),ue.waitFor(s)}getOverlaysForCollection(e,t,i){const r=lv(),s=Yi(t),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return _v(e).Ut("collectionPathOverlayIndex",u).next(h=>{for(const p of h){const y=xx(this.M,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=lv();let u;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return _v(e).Wt({index:"collectionGroupOverlayIndex",range:h},(p,y,C)=>{const I=xx(this.M,y);s.size()<r||I.largestBatchId===u?(s.set(I.getKey(),I),u=I.largestBatchId):C.done()}).next(()=>s)}Xt(e,t){return _v(e).put(function(i,r,s){const[u,h,p]=K2(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:pv(i.Jt,s.mutation)}}(this.M,this.userId,t))}}function _v(n){return Zi(n,"documentOverlays")}class Rg{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(oi(e.integerValue));else if("doubleValue"in e){const i=oi(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),Qy(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ae(Oh(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ue(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?WV(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ct()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ue(e,t){this.ne(t,37),Qe.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function GW(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function X2(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=GW(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Rg.fe=new Rg;class $W{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=X2(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=X2(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class zW{constructor(e){this.De=e}ae(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class WW{constructor(e){this.De=e}ae(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class xC{constructor(){this.De=new $W,this.Ce=new zW(this.De),this.xe=new WW(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class xu{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new xu(this.indexId,this.documentKey,this.arrayValue,i)}}function zh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=eB(n.arrayValue,e.arrayValue),0!==t?t:(t=eB(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function eB(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class qW{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.$e=i:this.Oe.push(i)}}Fe(e){const t=dx(e);if(void 0!==t&&!this.Be(t))return!1;const i=Cg(e);let r=0,s=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.$e){const u=i[r];if(!this.Le(this.$e,u)||!this.qe(this.Me[s++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(s>=this.Me.length||!this.qe(this.Me[s++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}qe(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class YW{constructor(){this.Ue=new kx}addToCollectionParentIndex(e,t){return this.Ue.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Ue.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getFieldIndex(e,t){return ue.resolve(null)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class kx{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new jn(ln.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new jn(ln.comparator)).toArray()}}const NC=new Uint8Array(0);class ZW{constructor(e){this.user=e,this.Ke=new kx,this.Ge=new Au(t=>Lh(t),(t,i)=>iv(t,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const s={collectionId:i,parent:Yi(r)};return tB(e).put(s)}return ue.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[FV(t),""],!1,!0);return tB(e).Ut(r).next(s=>{for(const u of s){if(u.collectionId!==t)break;i.push(ra(u.parent))}return i})}addFieldIndex(e,t){const i=kC(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var s;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=kC(e),r=RC(e),s=yv(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=yv(e);let r=!0;const s=new Map;return ue.forEach(this.Qe(t),u=>this.getFieldIndex(e,u).next(h=>{r&&(r=!!h),s.set(u,h)})).next(()=>{if(r){let u=fn();return ue.forEach(s,(h,p)=>{var y;Pe("IndexedDbIndexManager",`Using index ${y=h,`id=${y.indexId}|cg=${y.collectionGroup}|f=${y.fields.map(ge=>`${ge.fieldPath}:${ge.kind}`).join(",")}`} to execute ${Lh(t)}`);const C=function(ge,Ze){const Se=dx(Ze);if(void 0===Se)return null;for(const He of vC(ge,Se.fieldPath))switch(He.op){case"array-contains-any":return He.value.arrayValue.values||[];case"array-contains":return[He.value]}return null}(p,h),I=function(ge,Ze){const Se=new Map;for(const He of Cg(Ze))for(const Be of vC(ge,He.fieldPath))switch(Be.op){case"==":case"in":Se.set(He.fieldPath.canonicalString(),Be.value);break;case"not-in":case"!=":return Se.set(He.fieldPath.canonicalString(),Be.value),Array.from(Se.values())}return null}(p,h),x=function(ge,Ze){const Se=[];let He=!0;for(const vt of Cg(Ze)){let wt,tn=!0;for(const xt of vC(ge,vt.fieldPath)){let At,$n=!0;switch(xt.op){case"<":case"<=":At="nullValue"in(Be=xt.value)?HV:"booleanValue"in Be?{booleanValue:!1}:"integerValue"in Be||"doubleValue"in Be?{doubleValue:NaN}:"timestampValue"in Be?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Be?{stringValue:""}:"bytesValue"in Be?{bytesValue:""}:"referenceValue"in Be?Dg(Ql.empty(),Qe.empty()):"geoPointValue"in Be?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Be?{arrayValue:{}}:"mapValue"in Be?{mapValue:{}}:ct();break;case"==":case"in":case">=":At=xt.value;break;case">":At=xt.value,$n=!1;break;case"!=":case"not-in":At=HV}qV(wt,At)===At&&(wt=At,tn=$n)}if(null!==ge.startAt)for(let xt=0;xt<ge.orderBy.length;++xt)if(ge.orderBy[xt].field.isEqual(vt.fieldPath)){const At=ge.startAt.position[xt];qV(wt,At)===At&&(wt=At,tn=ge.startAt.inclusive);break}if(void 0===wt)return null;Se.push(wt),He&&(He=tn)}var Be;return new Su(Se,He)}(p,h),N=function(ge,Ze){const Se=[];let He=!0;for(const vt of Cg(Ze)){let wt,tn=!0;for(const xt of vC(ge,vt.fieldPath)){let At,$n=!0;switch(xt.op){case">=":case">":At="nullValue"in(Be=xt.value)?{booleanValue:!1}:"booleanValue"in Be?{doubleValue:NaN}:"integerValue"in Be||"doubleValue"in Be?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Be?{stringValue:""}:"stringValue"in Be?{bytesValue:""}:"bytesValue"in Be?Dg(Ql.empty(),Qe.empty()):"referenceValue"in Be?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Be?{arrayValue:{}}:"arrayValue"in Be?{mapValue:{}}:"mapValue"in Be?jV:ct(),$n=!1;break;case"==":case"in":case"<=":At=xt.value;break;case"<":At=xt.value,$n=!1;break;case"!=":case"not-in":At=jV}YV(wt,At)===At&&(wt=At,tn=$n)}if(null!==ge.endAt)for(let xt=0;xt<ge.orderBy.length;++xt)if(ge.orderBy[xt].field.isEqual(vt.fieldPath)){const At=ge.endAt.position[xt];YV(wt,At)===At&&(wt=At,tn=ge.endAt.inclusive);break}if(void 0===wt)return null;Se.push(wt),He&&(He=tn)}var Be;return new Su(Se,He)}(p,h),V=this.je(h,p,x),z=this.je(h,p,N),se=this.We(h,p,I),Me=this.ze(h.indexId,C,V,!!x&&x.inclusive,z,!!N&&N.inclusive,se);return ue.forEach(Me,ge=>i.Gt(ge,t.limit).next(Ze=>{Ze.forEach(Se=>{u=u.add(new Qe(ra(Se.documentKey)))})}))}).next(()=>u)}return ue.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,i,r,s,u,h){const p=(null!=t?t.length:1)*Math.max(null!=i?i.length:1,null!=s?s.length:1),y=p/(null!=t?t.length:1),C=[];for(let I=0;I<p;++I){const x=t?this.He(t[I/y]):NC,N=i?this.Je(e,x,i[I%y],r):this.Ye(e),V=s?this.Xe(e,x,s[I%y],u):this.Ye(e+1);C.push(...this.createRange(N,V,h.map(z=>this.Je(e,x,z,!0))))}return C}Je(e,t,i,r){const s=new xu(e,Qe.empty(),t,i);return r?s:s.ke()}Xe(e,t,i,r){const s=new xu(e,Qe.empty(),t,i);return r?s.ke():s}Ye(e){return new xu(e,Qe.empty(),NC,NC)}getFieldIndex(e,t){const i=new qW(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{const u=s.filter(h=>i.Fe(h));return u.sort((h,p)=>p.fields.length-h.fields.length),u.length>0?u[0]:null})}Ze(e,t){const i=new xC;for(const r of Cg(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const u=i.Ne(r.kind);Rg.fe.Zt(s,u)}return i.Se()}He(e){const t=new xC;return Rg.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,i){if(null===i)return[];let r=[];r.push(new xC);let s=0;for(const u of Cg(e)){const h=i[s++];for(const p of r)if(this.tn(t,u.fieldPath)&&ev(h))r=this.en(r,u,h);else{const y=p.Ne(u.kind);Rg.fe.Zt(h,y)}}return this.nn(r)}je(e,t,i){return null==i?null:this.We(e,t,i.position)}nn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}en(e,t,i){const r=[...e],s=[];for(const u of i.arrayValue.values||[])for(const h of r){const p=new xC;p.seed(h.Se()),Rg.fe.Zt(u,p.Ne(t.kind)),s.push(p)}return s}tn(e,t){return!!e.filters.find(i=>i instanceof mr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=kC(e),r=RC(e);return(t?i.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.Ut()).next(s=>{const u=[];return ue.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{u.push(function(y,C){const I=C?new nv(C.sequenceNumber,new _C($h(C.readTime),new Qe(ra(C.documentKey)),C.largestBatchId)):nv.empty(),x=y.fields.map(([N,V])=>new mC(Wi.fromServerFormat(N),V));return new gC(y.indexId,y.collectionGroup,x,I)}(h,p))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Kt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=kC(e),s=RC(e);return this.sn(e).next(u=>r.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ue.forEach(h,p=>{return s.put({indexId:p.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:Gh((x=i).readTime),documentKey:Yi(x.documentKey.path),largestBatchId:x.largestBatchId});var x})))}updateIndexEntries(e,t){const i=new Map;return ue.forEach(t,(r,s)=>{const u=i.get(r.collectionGroup);return(u?ue.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ue.forEach(h,p=>this.rn(e,r,p).next(y=>{const C=this.on(s,p);return y.isEqual(C)?ue.resolve():this.an(e,s,y,C)}))))})}un(e,t,i){return yv(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,documentKey:Yi(t.key.path)})}cn(e,t,i){return yv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,Yi(t.key.path)])}rn(e,t,i){const r=yv(e);let s=new jn(zh);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,Yi(t.path)])},(u,h)=>{s=s.add(new xu(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}on(e,t){let i=new jn(zh);const r=this.Ze(t,e);if(null==r)return i;const s=dx(t);if(null!=s){const u=e.data.field(s.fieldPath);if(ev(u))for(const h of u.arrayValue.values||[])i=i.add(new xu(t.indexId,e.key,this.He(h),r))}else i=i.add(new xu(t.indexId,e.key,NC,r));return i}an(e,t,i,r){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(u,h,p,y,C){const I=u.getIterator(),x=h.getIterator();let N=Mg(I),V=Mg(x);for(;N||V;){let z=!1,se=!1;if(N&&V){const Me=p(N,V);Me<0?se=!0:Me>0&&(z=!0)}else null!=N?se=!0:z=!0;z?(y(V),V=Mg(x)):se?(C(N),N=Mg(I)):(N=Mg(I),V=Mg(x))}}(i,r,zh,u=>{s.push(this.un(e,t,u))},u=>{s.push(this.cn(e,t,u))}),ue.waitFor(s)}sn(e){let t=1;return RC(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,h)=>zh(u,h)).filter((u,h,p)=>!h||0!==zh(u,p[h-1]));const r=[];r.push(e);for(const u of i){const h=zh(u,e),p=zh(u,t);if(0===h)r[0]=e.ke();else if(h>0&&p<0)r.push(u),r.push(u.ke());else if(p>0)break}r.push(t);const s=[];for(let u=0;u<r.length;u+=2)s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,""],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,""]));return s}}function tB(n){return Zi(n,"collectionParents")}function yv(n){return Zi(n,"indexEntries")}function kC(n){return Zi(n,"indexConfiguration")}function RC(n){return Zi(n,"indexState")}const nB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ps{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ps(e,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function iB(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(t.batchId);let h=0;const p=i.Wt({range:u},(C,I,x)=>(h++,x.delete()));s.push(p.next(()=>{Mt(1===h)}));const y=[];for(const C of t.mutations){const I=B2(e,C.key.path,t.batchId);s.push(r.delete(I)),y.push(C.key)}return ue.waitFor(s).next(()=>y)}function OC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ct();e=n.noDocument}return JSON.stringify(e).length}ps.DEFAULT_COLLECTION_PERCENTILE=10,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ps.DEFAULT=new ps(41943040,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ps.DISABLED=new ps(-1,0,0);class Rx{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.hn={}}static Yt(e,t,i,r){Mt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Rx(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nu(e).Wt({index:"userMutationsIndex",range:i},(r,s,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Og(e),u=Nu(e);return u.add({}).next(h=>{Mt("number"==typeof h);const p=new Ex(h,t,i,r),y=function(x,N,V){const z=V.baseMutations.map(Me=>pv(x.Jt,Me)),se=V.mutations.map(Me=>pv(x.Jt,Me));return{userId:N,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:z,mutations:se}}(this.M,this.userId,p),C=[];let I=new jn((x,N)=>Kt(x.canonicalString(),N.canonicalString()));for(const x of r){const N=B2(this.userId,x.key.path,h);I=I.add(x.key.path.popLast()),C.push(u.put(y)),C.push(s.put(N,TW))}return I.forEach(x=>{C.push(this.indexManager.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(()=>{this.hn[h]=p.keys()}),ue.waitFor(C).next(()=>p)})}lookupMutationBatch(e,t){return Nu(e).get(t).next(i=>i?(Mt(i.userId===this.userId),kg(this.M,i)):null)}ln(e,t){return this.hn[t]?ue.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.hn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Nu(e).Wt({index:"userMutationsIndex",range:r},(u,h,p)=>{h.userId===this.userId&&(Mt(h.batchId>=i),s=kg(this.M,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Nu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nu(e).Ut("userMutationsIndex",t).next(i=>i.map(r=>kg(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=AC(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Og(e).Wt({range:r},(u,h,p)=>{const[y,C,I]=u,x=ra(C);if(y===this.userId&&t.path.isEqual(x))return Nu(e).get(I).next(N=>{if(!N)throw ct();Mt(N.userId===this.userId),s.push(kg(this.M,N))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new jn(Kt);const r=[];return t.forEach(s=>{const u=AC(this.userId,s.path),h=IDBKeyRange.lowerBound(u),p=Og(e).Wt({range:h},(y,C,I)=>{const[x,N,V]=y,z=ra(N);x===this.userId&&s.path.isEqual(z)?i=i.add(V):I.done()});r.push(p)}),ue.waitFor(r).next(()=>this.fn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=AC(this.userId,i),u=IDBKeyRange.lowerBound(s);let h=new jn(Kt);return Og(e).Wt({range:u},(p,y,C)=>{const[I,x,N]=p,V=ra(x);I===this.userId&&i.isPrefixOf(V)?V.length===r&&(h=h.add(N)):C.done()}).next(()=>this.fn(e,h))}fn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Nu(e).get(s).next(u=>{if(null===u)throw ct();Mt(u.userId===this.userId),i.push(kg(this.M,u))}))}),ue.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return iB(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),ue.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Og(e).Wt({range:i},(s,u,h)=>{if(s[0]===this.userId){const p=ra(s[1]);r.push(p)}else h.done()}).next(()=>{Mt(0===r.length)})})}containsKey(e,t){return rB(e,this.userId,t)}_n(e){return sB(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rB(n,e,t){const i=AC(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return Og(n).Wt({range:s,jt:!0},(h,p,y)=>{const[C,I,x]=h;C===e&&I===r&&(u=!0),y.done()}).next(()=>u)}function Nu(n){return Zi(n,"mutations")}function Og(n){return Zi(n,"documentMutations")}function sB(n){return Zi(n,"mutationQueues")}class Wh{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Wh(0)}static gn(){return new Wh(-1)}}class KW{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const i=new Wh(t.highestTargetId);return t.highestTargetId=i.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>St.fromTimestamp(new zi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.yn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.pn(e,r)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(i=>(i.targetCount+=1,this.Tn(t,i),this.pn(e,i))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Pg(e).delete(t.targetId)).next(()=>this.yn(e)).next(i=>(Mt(i.targetCount>0),i.targetCount-=1,this.pn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Pg(e).Wt((u,h)=>{const p=mv(h);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>ue.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Pg(e).Wt((i,r)=>{const s=mv(r);t(s)})}yn(e){return oB(e).get("targetGlobalKey").next(t=>(Mt(null!==t),t))}pn(e,t){return oB(e).put("targetGlobalKey",t)}In(e,t){return Pg(e).put(Z2(this.M,t))}Tn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Lh(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Pg(e).Wt({range:r,index:"queryTargetsIndex"},(u,h,p)=>{const y=mv(h);iv(t,y.target)&&(s=y,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=ku(e);return t.forEach(u=>{const h=Yi(u.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,u))}),ue.waitFor(r)}removeMatchingKeys(e,t,i){const r=ku(e);return ue.forEach(t,s=>{const u=Yi(s.path);return ue.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=ku(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=ku(e);let s=fn();return r.Wt({range:i,jt:!0},(u,h,p)=>{const y=ra(u[1]),C=new Qe(y);s=s.add(C)}).next(()=>s)}containsKey(e,t){const i=Yi(t.path),r=IDBKeyRange.bound([i],[FV(i)],!1,!0);let s=0;return ku(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,h],p,y)=>{0!==u&&(s++,y.done())}).next(()=>s>0)}Et(e,t){return Pg(e).get(t).next(i=>i?mv(i):null)}}function Pg(n){return Zi(n,"targets")}function oB(n){return Zi(n,"targetGlobal")}function ku(n){return Zi(n,"targetDocuments")}function qh(n){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,Y.Z)(function*(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==H2)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Ox.apply(this,arguments)}function aB([n,e],[t,i]){const r=Kt(n,t);return 0===r?Kt(e,i):r}class JW{constructor(e){this.En=e,this.buffer=new jn(aB),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();aB(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QW{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const i=this.Pn?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Y.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){jh(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield qh(r)}yield t.vn(e)}))}}class XW{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(Hs.A);const i=new JW(t);return this.Sn.forEachTarget(e,r=>i.bn(r.sequenceNumber)).next(()=>this.Sn.Cn(e,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Sn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(nB)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nB):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let i,r,s,u,h,p,y;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,u=Date.now(),this.nthSequenceNumber(e,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(e,i,t))).next(I=>(s=I,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(y=Date.now(),ox()<=hs.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${I} documents in `+(y-p)+`ms\nTotal Duration: ${y-C}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:I})))}}class eq{constructor(e,t){this.db=e,this.garbageCollector=new XW(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Nn(e){let t=0;return this.Cn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(i,r)=>t(r))}addReference(e,t,i){return PC(e,i)}removeReference(e,t,i){return PC(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return PC(e,t)}Mn(e,t){return function(i,r){let s=!1;return sB(i).zt(u=>rB(i,u,r).next(h=>(h&&(s=!0),ue.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.kn(e,(u,h)=>{if(h<=t){const p=this.Mn(e,u).next(y=>{if(!y)return s++,i.getEntry(e,u).next(()=>(i.removeEntry(u,St.min()),ku(e).delete([0,Yi(u.path)])))});r.push(p)}}).next(()=>ue.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return PC(e,t)}kn(e,t){const i=ku(e);let r,s=Hs.A;return i.Wt({index:"documentTargetsIndex"},([u,h],{path:p,sequenceNumber:y})=>{0===u?(s!==Hs.A&&t(new Qe(ra(r)),s),s=y,r=p):s=Hs.A}).next(()=>{s!==Hs.A&&t(new Qe(ra(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function PC(n,e){return ku(n).put((i=n.currentSequenceNumber,{targetId:0,path:Yi(e.path),sequenceNumber:i}));var i}class lB{constructor(){this.changes=new Au(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tq{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ru(e).put(FC(t),i)}removeEntry(e,t){const i=Ru(e),r=FC(t);return i.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.On(e,i)))}getEntry(e,t){return Ru(e).get(FC(t)).next(i=>this.$n(t,i))}Fn(e,t){return Ru(e).get(FC(t)).next(i=>({document:this.$n(t,i),size:OC(i)}))}getEntries(e,t){let i=bo();return this.Bn(e,t,(r,s)=>{const u=this.$n(r,s);i=i.insert(r,u)}).next(()=>i)}Ln(e,t){let i=bo(),r=new hi(Qe.comparator);return this.Bn(e,t,(s,u)=>{const h=this.$n(s,u);i=i.insert(s,h),r=r.insert(s,OC(u))}).next(()=>({documents:i,qn:r}))}Bn(e,t,i){if(t.isEmpty())return ue.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),s=t.getIterator();let u=s.getNext();return Ru(e).Wt({range:r},(h,p,y)=>{const C=Qe.fromSegments(h);for(;u&&Qe.comparator(u,C)<0;)i(u,null),u=s.getNext();u&&u.isEqual(C)&&(i(u,p),u=s.hasNext()?s.getNext():null),u?y.qt(u.path.toArray()):y.done()}).next(()=>{for(;u;)i(u,null),u=s.hasNext()?s.getNext():null})}getAll(e,t,i){let r=bo();const s=t.length+1,u={};if(i.isEqual(St.min())){const h=t.toArray();u.range=IDBKeyRange.lowerBound(h)}else{const h=t.toArray(),p=Sx(i);u.range=IDBKeyRange.lowerBound([h,p],!0),u.index="collectionReadTimeIndex"}return Ru(e).Wt(u,(h,p,y)=>{if(h.length!==s)return;const C=this.$n(Qe.fromSegments(h),p);t.isPrefixOf(C.key.path)?r=r.insert(C.key,C):y.done()}).next(()=>r)}newChangeBuffer(e){return new nq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return cB(e).get("remoteDocumentGlobalKey").next(t=>(Mt(!!t),t))}On(e,t){return cB(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const i=q2(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(St.min()))return i}return Qn.newInvalidDocument(e)}}class nq extends lB{constructor(e,t){super(),this.Un=e,this.trackRemovals=t,this.Kn=new Au(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new jn((s,u)=>Kt(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.Kn.get(s);if(u.isValidDocument()){const p=Y2(this.Un.M,u);r=r.add(s.path.popLast()),i+=OC(p)-h,t.push(this.Un.addEntry(e,s,p))}else if(i-=h,this.trackRemovals){const p=Y2(this.Un.M,u.convertToNoDocument(St.min()));t.push(this.Un.addEntry(e,s,p))}else t.push(this.Un.removeEntry(e,s))}),r.forEach(s=>{t.push(this.Un.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Un.updateMetadata(e,i)),ue.waitFor(t)}getFromCache(e,t){return this.Un.Fn(e,t).next(i=>(this.Kn.set(t,i.size),i.document))}getAllFromCache(e,t){return this.Un.Ln(e,t).next(({documents:i,qn:r})=>(r.forEach((s,u)=>{this.Kn.set(s,u)}),i))}}function cB(n){return Zi(n,"remoteDocumentGlobal")}function Ru(n){return Zi(n,"remoteDocuments")}function FC(n){return n.path.toArray()}class iq{constructor(e){this.M=e}kt(e,t,i,r){const s=new MC("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",V2,{unique:!0}),h.createObjectStore("documentMutations"),uB(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=ue.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),uB(e)),u=u.next(()=>function(h){const p=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,p){return p.store("mutations").Ut().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",V2,{unique:!0});const C=p.store("mutations"),I=y.map(x=>C.put(x));return ue.waitFor(I)})}(e,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Gn(s))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(s)))),i<7&&r>=7&&(u=u.next(()=>this.jn(s))),i<8&&r>=8&&(u=u.next(()=>this.Wn(e,s))),i<9&&r>=9&&(u=u.next(()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e),function(h){const p=h.objectStore("remoteDocuments");p.createIndex("readTimeIndex","readTime",{unique:!1}),p.createIndex("collectionReadTimeIndex",SW,{unique:!1})}(t)})),i<10&&r>=10&&(u=u.next(()=>this.zn(s))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:FW});p.createIndex("collectionPathOverlayIndex",LW,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",VW,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:kW}).createIndex("sequenceNumberIndex",RW,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:OW}).createIndex("documentKeyIndex",PW,{unique:!1})}(e)})),u}Qn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=OC(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Gn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.Ut().next(r=>ue.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Ut("userMutationsIndex",u).next(h=>ue.forEach(h,p=>{Mt(p.userId===s.userId);const y=kg(this.M,p);return iB(e,s.userId,y).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Wt((u,h)=>{const p=new ln(u),y=[0,Yi(p)];s.push(t.get(y).next(C=>C?ue.resolve():t.put({targetId:0,path:Yi(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ue.waitFor(s))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:NW});const i=t.store("collectionParents"),r=new kx,s=u=>{if(r.add(u)){const h=u.lastSegment(),p=u.popLast();return i.put({collectionId:h,parent:Yi(p)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,h)=>{const p=new ln(u);return s(p.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,h,p],y)=>{const C=ra(h);return s(C.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((i,r)=>{const s=mv(r),u=Z2(this.M,s);return t.put(u)})}}function uB(n){n.createObjectStore("targetDocuments",{keyPath:MW}).createIndex("documentTargetsIndex",xW,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",AW,{unique:!0}),n.createObjectStore("targetGlobal")}const Px="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fx{constructor(e,t,i,r,s,u,h,p,y,C,I=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hn=s,this.window=u,this.document=h,this.Jn=y,this.Yn=C,this.Xn=I,this.Zn=null,this.ts=!1,this.isPrimary=!1,this.networkEnabled=!0,this.es=null,this.inForeground=!1,this.ns=null,this.ss=null,this.rs=Number.NEGATIVE_INFINITY,this.os=x=>Promise.resolve(),!Fx.vt())throw new Ee(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eq(this,r),this.us=t+"main",this.M=new W2(p),this.cs=new sa(this.us,this.Xn,new iq(this.M)),this.hs=new KW(this.referenceDelegate,this.M),this.ls=new tq(this.M),this.fs=new HW,this.window&&this.window.localStorage?this.ds=this.window.localStorage:(this.ds=null,!1===C&&Ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this._s().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ee(oe.FAILED_PRECONDITION,Px);return this.ws(),this.gs(),this.ys(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.hs.getHighestSequenceNumber(e))}).then(e=>{this.Zn=new Hs(e,this.Jn)}).then(()=>{this.ts=!0}).catch(e=>(this.cs&&this.cs.close(),Promise.reject(e)))}ps(e){var t=this;return this.os=function(){var i=(0,Y.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.cs.Ot(function(){var t=(0,Y.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hn.enqueueAndForget((0,Y.Z)(function*(){t.started&&(yield t._s())})))}_s(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>LC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Is(e).next(t=>{t||(this.isPrimary=!1,this.Hn.enqueueRetryable(()=>this.os(!1)))})}).next(()=>this.Ts(e)).next(t=>this.isPrimary&&!t?this.Es(e).next(()=>!1):!!t&&this.As(e).next(()=>!0))).catch(e=>{if(jh(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hn.enqueueRetryable(()=>this.os(e)),this.isPrimary=e})}Is(e){return vv(e).get("owner").next(t=>ue.resolve(this.Rs(t)))}bs(e){return LC(e).delete(this.clientId)}Ps(){var e=this;return(0,Y.Z)(function*(){if(e.isPrimary&&!e.Vs(e.rs,18e5)){e.rs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Zi(i,"clientMetadata");return r.Ut().next(s=>{const u=e.vs(s,18e5),h=s.filter(p=>-1===u.indexOf(p));return ue.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e.ds)for(const i of t)e.ds.removeItem(e.Ss(i.clientId))}})()}ys(){this.ss=this.Hn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this._s().then(()=>this.Ps()).then(()=>this.ys()))}Rs(e){return!!e&&e.ownerId===this.clientId}Ts(e){return this.Yn?ue.resolve(!0):vv(e).get("owner").next(t=>{if(null!==t&&this.Vs(t.leaseTimestampMs,5e3)&&!this.Ds(t.ownerId)){if(this.Rs(t)&&this.networkEnabled)return!0;if(!this.Rs(t)){if(!t.allowTabSynchronization)throw new Ee(oe.FAILED_PRECONDITION,Px);return!1}}return!(!this.networkEnabled||!this.inForeground)||LC(e).Ut().next(i=>void 0===this.vs(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Y.Z)(function*(){e.ts=!1,e.Cs(),e.ss&&(e.ss.cancel(),e.ss=null),e.xs(),e.Ns(),yield e.cs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new z2(t,Hs.A);return e.Es(i).next(()=>e.bs(i))}),e.cs.close(),e.ks()})()}vs(e,t){return e.filter(i=>this.Vs(i.updateTimeMs,t)&&!this.Ds(i.clientId))}Ms(){return this.runTransaction("getActiveClients","readonly",e=>LC(e).Ut().next(t=>this.vs(t,18e5).map(i=>i.clientId)))}get started(){return this.ts}getMutationQueue(e,t){return Rx.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getIndexManager(e){return new ZW(e)}getDocumentOverlayCache(e){return Nx.Yt(this.M,e)}getBundleCache(){return this.fs}runTransaction(e,t,i){Pe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=13===(u=this.Xn)?BW:12===u?j2:11===u?U2:void ct();var u;let h;return this.cs.runTransaction(e,r,s,p=>(h=new z2(p,this.Zn?this.Zn.next():Hs.A),"readwrite-primary"===t?this.Is(h).next(y=>!!y||this.Ts(h)).next(y=>{if(!y)throw Ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hn.enqueueRetryable(()=>this.os(!1)),new Ee(oe.FAILED_PRECONDITION,H2);return i(h)}).next(y=>this.As(h).next(()=>y)):this.Os(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Os(e){return vv(e).get("owner").next(t=>{if(null!==t&&this.Vs(t.leaseTimestampMs,5e3)&&!this.Ds(t.ownerId)&&!this.Rs(t)&&!(this.Yn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ee(oe.FAILED_PRECONDITION,Px)})}As(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vv(e).put("owner",t)}static vt(){return sa.vt()}Es(e){const t=vv(e);return t.get("owner").next(i=>this.Rs(i)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}Vs(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ei(`Detected an update time that is in the future: ${e} > ${i}`),1))}ws(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ns=()=>{this.Hn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this._s()))},this.document.addEventListener("visibilitychange",this.ns),this.inForeground="visible"===this.document.visibilityState)}xs(){this.ns&&(this.document.removeEventListener("visibilitychange",this.ns),this.ns=null)}gs(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.es=()=>{this.Cs(),(0,et.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hn.enterRestrictedMode(!0),this.Hn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.es))}Ns(){this.es&&(this.window.removeEventListener("pagehide",this.es),this.es=null)}Ds(e){var t;try{const i=null!==(null===(t=this.ds)||void 0===t?void 0:t.getItem(this.Ss(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ei("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Cs(){if(this.ds)try{this.ds.setItem(this.Ss(this.clientId),String(Date.now()))}catch(e){Ei("Failed to set zombie client id.",e)}}ks(){if(this.ds)try{this.ds.removeItem(this.Ss(this.clientId))}catch(e){}}Ss(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vv(n){return Zi(n,"owner")}function LC(n){return Zi(n,"clientMetadata")}function Lx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class rq{constructor(e,t){this.progress=e,this.$s=t}}class sq{constructor(e,t,i){this.ls=e,this.Fs=t,this.indexManager=i}Bs(e,t){return this.Fs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Ls(e,t,i))}Ls(e,t,i){return this.ls.getEntry(e,t).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}qs(e,t){e.forEach((i,r)=>{for(const s of t)s.applyToLocalView(r)})}Us(e,t){return this.ls.getEntries(e,t).next(i=>this.Ks(e,i).next(()=>i))}Ks(e,t){return this.Fs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Gs(e,t,i){return Qe.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Qs(e,t.path):px(t)?this.js(e,t,i):this.Ws(e,t,i);var r}Qs(e,t){return this.Bs(e,new Qe(t)).next(i=>{let r=vx();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}js(e,t,i){const r=t.collectionGroup;let s=vx();return this.indexManager.getCollectionParents(e,r).next(u=>ue.forEach(u,h=>{const p=(y=t,C=h.child(r),new Xl(C,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,C;return this.Ws(e,p,i).next(y=>{y.forEach((C,I)=>{s=s.insert(C,I)})})}).next(()=>s))}Ws(e,t,i){let r;return this.ls.getAll(e,t.path,i).next(s=>(r=s,this.Fs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const u of s)for(const h of u.mutations){const p=h.key;let y=r.get(p);null==y&&(y=Qn.newInvalidDocument(p),r=r.insert(p,y)),_x(h,y,u.localWriteTime),y.isFoundDocument()||(r=r.remove(p))}}).next(()=>(r.forEach((s,u)=>{mx(t,u)||(r=r.remove(s))}),r))}}class Vx{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.zs=i,this.Hs=r}static Js(e,t){let i=fn(),r=fn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Vx(e,t.fromCache,i,r)}}class dB{Ys(e){this.Xs=e}Gs(e,t,i,r){return 0===(s=t).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||i.isEqual(St.min())?this.Zs(e,t):this.Xs.Us(e,r).next(s=>{const u=this.ti(t,s);return(bC(t)||wC(t))&&this.ei(t.limitType,u,r,i)?this.Zs(e,t):(ox()<=hs.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gx(t)),this.Xs.Gs(e,t,i).next(h=>(u.forEach(p=>{h=h.insert(p.key,p)}),h)))});var s}ti(e,t){let i=new jn(r2(e));return t.forEach((r,s)=>{mx(e,s)&&(i=i.add(s))}),i}ei(e,t,i,r){if(i.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Zs(e,t){return ox()<=hs.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",gx(t)),this.Xs.Gs(e,t,St.min())}}class oq{constructor(e,t,i,r){this.persistence=e,this.ni=t,this.M=r,this.si=new hi(Kt),this.ii=new Au(s=>Lh(s),iv),this.ri=St.min(),this.oi=e.getRemoteDocumentCache(),this.hs=e.getTargetCache(),this.fs=e.getBundleCache(),this.ai(i)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Fs=this.persistence.getMutationQueue(e,this.indexManager),this.ui=new sq(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function hB(n,e,t,i){return new oq(n,e,t,i)}function fB(n,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,Y.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.Fs.getAllMutationBatches(i).next(s=>(r=s,t.ai(e),t.Fs.getAllMutationBatches(i))).next(s=>{const u=[],h=[];let p=fn();for(const y of r){u.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}for(const y of s){h.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}return t.ui.Us(i,p).next(y=>({ci:y,removedBatchIds:u,addedBatchIds:h}))})})}),Bx.apply(this,arguments)}function aq(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.oi.newChangeBuffer({trackRemovals:!0});return function(u,h,p,y){const C=p.batch,I=C.keys();let x=ue.resolve();return I.forEach(N=>{x=x.next(()=>y.getEntry(h,N)).next(V=>{const z=p.docVersions.get(N);Mt(null!==z),V.version.compareTo(z)<0&&(C.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),y.addEntry(V)))})}),x.next(()=>u.Fs.removeMutationBatch(h,C))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.Fs.performConsistencyCheck(i)).next(()=>t.ui.Us(i,r))})}function pB(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hs.getLastRemoteSnapshotVersion(t))}function lq(n,e){const t=qe(n),i=e.snapshotVersion;let r=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.oi.newChangeBuffer({trackRemovals:!0});r=t.si;const h=[];e.targetChanges.forEach((y,C)=>{const I=r.get(C);if(!I)return;h.push(t.hs.removeMatchingKeys(s,y.removedDocuments,C).next(()=>t.hs.addMatchingKeys(s,y.addedDocuments,C)));let x=I.withSequenceNumber(s.currentSequenceNumber);var N,V,z;e.targetMismatches.has(C)?x=x.withResumeToken(Pi.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,i)),r=r.insert(C,x),V=x,z=y,(0===(N=I).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0)&&h.push(t.hs.updateTargetData(s,x))});let p=bo();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,y))}),h.push(gB(s,u,e.documentUpdates).next(y=>{p=y})),!i.isEqual(St.min())){const y=t.hs.getLastRemoteSnapshotVersion(s).next(C=>t.hs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(y)}return ue.waitFor(h).next(()=>u.apply(s)).next(()=>t.ui.Ks(s,p)).next(()=>p)}).then(s=>(t.si=r,s))}function gB(n,e,t){let i=fn();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let s=bo();return t.forEach((u,h)=>{const p=r.get(u);h.isNoDocument()&&h.version.isEqual(St.min())?(e.removeEntry(u,h.readTime),s=s.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(h),s=s.insert(u,h)):Pe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),s})}function cq(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Fs.getNextMutationBatchAfterBatchId(i,e)))}function Fg(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.hs.getTargetData(i,e).next(s=>s?(r=s,ue.resolve(r)):t.hs.allocateTargetId(i).next(u=>(r=new Mu(e,u,0,i.currentSequenceNumber),t.hs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.si.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.si=t.si.insert(i.targetId,i),t.ii.set(e,i.targetId)),i})}function Lg(n,e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,Y.Z)(function*(n,e,t){const i=qe(n),r=i.si.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!jh(u))throw u;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.si=i.si.remove(e),i.ii.delete(r.target)}),Ux.apply(this,arguments)}function VC(n,e,t){const i=qe(n);let r=St.min(),s=fn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,p,y){const C=qe(h),I=C.ii.get(y);return void 0!==I?ue.resolve(C.si.get(I)):C.hs.getTargetData(p,y)}(i,u,vo(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.hs.getMatchingKeysForTargetId(u,h.targetId).next(p=>{s=p})}).next(()=>i.ni.Gs(u,e,t?r:St.min(),t?s:fn())).next(h=>({documents:h,hi:s})))}function mB(n,e){const t=qe(n),i=qe(t.hs),r=t.si.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,e).next(u=>u?u.target:null))}function _B(n){const e=qe(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(i,r,s){const u=qe(i);let h=bo(),p=Sx(s);const y=Ru(r),C=IDBKeyRange.lowerBound(p,!0);return y.Wt({index:"readTimeIndex",range:C},(I,x)=>{const N=q2(u.M,x);h=h.insert(N.key,N),p=x.readTime}).next(()=>({$s:h,readTime:Ax(p)}))}(e.oi,t,e.ri)).then(({$s:t,readTime:i})=>(e.ri=i,t))}function jx(){return jx=(0,Y.Z)(function*(n){const e=qe(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(i){const r=Ru(i);let s=St.min();return r.Wt({index:"readTimeIndex",reverse:!0},(u,h,p)=>{h.readTime&&(s=Ax(h.readTime)),p.done()}).next(()=>s)}(t)).then(t=>{e.ri=t})}),jx.apply(this,arguments)}function Hx(){return Hx=(0,Y.Z)(function*(n,e,t,i){const r=qe(n);let s=fn(),u=bo();for(const y of t){const C=e.li(y.metadata.name);y.document&&(s=s.add(C));const I=e.fi(y);I.setReadTime(e.di(y.metadata.readTime)),u=u.insert(C,I)}const h=r.oi.newChangeBuffer({trackRemovals:!0}),p=yield Fg(r,(y=i,vo(Ig(ln.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>gB(y,h,u).next(C=>(h.apply(y),C)).next(C=>r.hs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.hs.addMatchingKeys(y,s,p.targetId)).next(()=>r.ui.Ks(y,C)).next(()=>C)))}),Hx.apply(this,arguments)}function hq(n,e){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,Y.Z)(function*(n,e,t=fn()){const i=yield Fg(n,vo(Mx(e.bundledQuery))),r=qe(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=qi(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.fs.saveNamedQuery(s,e);const h=i.withResumeToken(Pi.EMPTY_BYTE_STRING,u);return r.si=r.si.insert(h.targetId,h),r.hs.updateTargetData(s,h).next(()=>r.hs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.hs.addMatchingKeys(s,t,i.targetId)).next(()=>r.fs.saveNamedQuery(s,e))})}),Gx.apply(this,arguments)}class fq{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return ue.resolve(this._i.get(t))}saveBundleMetadata(e,t){var i;return this._i.set(t.id,{id:(i=t).id,version:i.version,createTime:qi(i.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(i=t).name,query:Mx(i.bundledQuery),readTime:qi(i.readTime)}),ue.resolve();var i}}class pq{constructor(){this.overlays=new hi(Qe.comparator),this.mi=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.Xt(e,t,s)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.mi.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.mi.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const r=lv(),s=t.length+1,u=new Qe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ue.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new hi((y,C)=>y-C);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let C=s.get(y.largestBatchId);null===C&&(C=lv(),s=s.insert(y.largestBatchId,C)),C.set(y.getKey(),y)}}const h=lv(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,C)=>h.set(y,C)),!(h.size()>=r)););return ue.resolve(h)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.mi.get(r.largestBatchId).delete(i.key);this.mi.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Tx(t,i));let s=this.mi.get(t);void 0===s&&(s=fn(),this.mi.set(t,s)),this.mi.set(t,s.add(i.key))}}class $x{constructor(){this.gi=new jn(Ki.yi),this.pi=new jn(Ki.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const i=new Ki(e,t);this.gi=this.gi.add(i),this.pi=this.pi.add(i)}Ti(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ei(new Ki(e,t))}Ai(e,t){e.forEach(i=>this.removeReference(i,t))}Ri(e){const t=new Qe(new ln([])),i=new Ki(t,e),r=new Ki(t,e+1),s=[];return this.pi.forEachInRange([i,r],u=>{this.Ei(u),s.push(u.key)}),s}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Qe(new ln([])),i=new Ki(t,e),r=new Ki(t,e+1);let s=fn();return this.pi.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new Ki(e,0),i=this.gi.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ki{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Qe.comparator(e.key,t.key)||Kt(e.Vi,t.Vi)}static Ii(e,t){return Kt(e.Vi,t.Vi)||Qe.comparator(e.key,t.key)}}class gq{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Fs=[],this.vi=1,this.Si=new jn(Ki.yi)}checkEmpty(e){return ue.resolve(0===this.Fs.length)}addMutationBatch(e,t,i,r){const s=this.vi;this.vi++;const u=new Ex(s,t,i,r);this.Fs.push(u);for(const h of r)this.Si=this.Si.add(new Ki(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ci(t+1),s=r<0?0:r;return ue.resolve(this.Fs.length>s?this.Fs[s]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.Fs.length?-1:this.vi-1)}getAllMutationBatches(e){return ue.resolve(this.Fs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ki(t,0),r=new Ki(t,Number.POSITIVE_INFINITY),s=[];return this.Si.forEachInRange([i,r],u=>{const h=this.Di(u.Vi);s.push(h)}),ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new jn(Kt);return t.forEach(r=>{const s=new Ki(r,0),u=new Ki(r,Number.POSITIVE_INFINITY);this.Si.forEachInRange([s,u],h=>{i=i.add(h.Vi)})}),ue.resolve(this.xi(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Qe.isDocumentKey(s)||(s=s.child(""));const u=new Ki(new Qe(s),0);let h=new jn(Kt);return this.Si.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(p.Vi)),!0)},u),ue.resolve(this.xi(h))}xi(e){const t=[];return e.forEach(i=>{const r=this.Di(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Mt(0===this.Ni(t.batchId,"removed")),this.Fs.shift();let i=this.Si;return ue.forEach(t.mutations,r=>{const s=new Ki(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Si=i})}dn(e){}containsKey(e,t){const i=new Ki(t,0),r=this.Si.firstAfterOrEqual(i);return ue.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ue.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.Fs.length?0:e-this.Fs[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.Fs.length?null:this.Fs[t]}}class mq{constructor(e){this.ki=e,this.docs=new hi(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,u=this.ki(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():Qn.newInvalidDocument(t))}getEntries(e,t){let i=bo();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Qn.newInvalidDocument(r))}),ue.resolve(i)}getAll(e,t,i){let r=bo();const s=new Qe(t.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||p.readTime.compareTo(i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return ue.resolve(r)}Mi(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _q(this)}getSize(e){return ue.resolve(this.size)}}class _q extends lB{constructor(e){super(),this.Un=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Un.addEntry(e,r)):this.Un.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Un.getEntry(e,t)}getAllFromCache(e,t){return this.Un.getEntries(e,t)}}class yq{constructor(e){this.persistence=e,this.Oi=new Au(t=>Lh(t),iv),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.$i=0,this.Fi=new $x,this.targetCount=0,this.Bi=Wh.mn()}forEachTarget(e,t){return this.Oi.forEach((i,r)=>t(r)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$i&&(this.$i=t),ue.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Wh(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.In(t),ue.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.Fi.Ri(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Oi.forEach((u,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Oi.delete(u),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ue.waitFor(s).next(()=>r)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Oi.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Fi.Ti(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Fi.Ai(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(u=>{s.push(r.markPotentiallyOrphaned(e,u))}),ue.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Fi.Ri(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Fi.Pi(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Fi.containsKey(t))}}class vq{constructor(e,t){this.Li={},this.overlays={},this.Zn=new Hs(0),this.ts=!1,this.ts=!0,this.referenceDelegate=e(this),this.hs=new yq(this),this.indexManager=new YW,this.ls=new mq(i=>this.referenceDelegate.qi(i)),this.M=new W2(t),this.fs=new fq(this.M)}start(){return Promise.resolve()}shutdown(){return this.ts=!1,Promise.resolve()}get started(){return this.ts}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pq,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Li[e.toKey()];return i||(i=new gq(t,this.referenceDelegate),this.Li[e.toKey()]=i),i}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getBundleCache(){return this.fs}runTransaction(e,t,i){Pe("MemoryPersistence","Starting transaction:",e);const r=new bq(this.Zn.next());return this.referenceDelegate.Ui(),i(r).next(s=>this.referenceDelegate.Ki(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gi(e,t){return ue.or(Object.values(this.Li).map(i=>()=>i.containsKey(e,t)))}}class bq extends G2{constructor(e){super(),this.currentSequenceNumber=e}}class zx{constructor(e){this.persistence=e,this.Qi=new $x,this.ji=null}static Wi(e){return new zx(e)}get zi(){if(this.ji)return this.ji;throw ct()}addReference(e,t,i){return this.Qi.addReference(i,t),this.zi.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.Qi.removeReference(i,t),this.zi.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(r=>this.zi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.zi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Ui(){this.ji=new Set}Ki(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.zi,i=>{const r=Qe.fromPath(i);return this.Hi(e,r).next(s=>{s||t.removeEntry(r,St.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(i=>{i?this.zi.delete(t.toString()):this.zi.add(t.toString())})}qi(e){return 0}Hi(e,t){return ue.or([()=>ue.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gi(e,t)])}}function yB(n,e){return`firestore_clients_${n}_${e}`}function vB(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Wx(n,e){return`firestore_targets_${n}_${e}`}class BC{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Ee(r.error.code,r.error.message))),u?new BC(e,t,r.state,s):(Ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bv{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ee(i.error.code,i.error.message))),s?new bv(e,i.state,r):(Ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class UC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=TC();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=UV(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new UC(e,s):(Ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class qx{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new qx(t.clientId,t.onlineState):(Ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Yx{constructor(){this.activeTargetIds=TC()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zx{constructor(e,t,i,r,s){this.window=e,this.Hn=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new hi(Kt),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=yB(this.persistenceKey,this.tr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Yx),this.ur=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Y.Z)(function*(){const t=yield e.syncEngine.Ms();for(const r of t){if(r===e.tr)continue;const s=e.getItem(yB(e.persistenceKey,r));if(s){const u=UC.Ji(r,s);u&&(e.sr=e.sr.insert(u.clientId,u))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Wx(this.persistenceKey,e));if(i){const r=bv.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wx(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(){this.Ar()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Pe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hn.enqueueRetryable((0,Y.Z)(function*(){if(t.started){if(null!==i.key)if(t.ur.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.cr.test(i.key)){if(null!==i.newValue){const r=t.Vr(i.key,i.newValue);if(r)return t.vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ar){const r=function(s){let u=Hs.A;if(null!=s)try{const h=JSON.parse(s);Mt("number"==typeof h),u=h}catch(h){Ei("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Hs.A&&t.sequenceNumberHandler(r)}else if(i.key===t.dr)return t.syncEngine.Cr()}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new BC(this.currentUser,e,t,i),s=vB(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Yi())}pr(e){const t=vB(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=Wx(this.persistenceKey,e),s=new bv(e,t,i);this.setItem(r,s.Yi())}Ar(){this.setItem(this.dr,"value-not-used")}Rr(e){const t=this.ur.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return UC.Ji(i,t)}Vr(e,t){const i=this.cr.exec(e),r=Number(i[1]);return BC.Ji(new gr(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return bv.Ji(r,t)}wr(e){return qx.Ji(e)}vr(e){var t=this;return(0,Y.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Nr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.kr(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),s=this.gr(i),u=[],h=[];return s.forEach(p=>{r.has(p)||u.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Mr(u,h).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=TC();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class bB{constructor(){this.Or=new Yx,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Or.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Or.Zi(e)}isLocalQueryTarget(e){return this.Or.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Or.activeTargetIds}isActiveQueryTarget(e){return this.Or.activeTargetIds.has(e)}start(){return this.Or=new Yx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class wq{Fr(e){}shutdown(){}}class wB{constructor(){this.Br=()=>this.Lr(),this.qr=()=>this.Ur(),this.Kr=[],this.Gr()}Fr(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}Gr(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}Lr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Ur(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Dq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Cq{constructor(e){this.Qr=e.Qr,this.jr=e.jr}Wr(e){this.zr=e}Hr(e){this.Jr=e}onMessage(e){this.Yr=e}close(){this.jr()}send(e){this.Qr(e)}Xr(){this.zr()}Zr(e){this.Jr(e)}eo(e){this.Yr(e)}}class Eq extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.no=(e.ssl?"https":"http")+"://"+e.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}io(e,t,i,r,s){const u=this.ro(e,t);Pe("RestConnection","Sending: ",u,i);const h={};return this.oo(h,r,s),this.ao(e,u,h,i).then(p=>(Pe("RestConnection","Received: ",p),p),p=>{throw Zy("RestConnection",`${e} failed with error: `,p,"url: ",u,"request:",i),p})}uo(e,t,i,r,s){return this.io(e,t,i,r,s)}oo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+yg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ro(e,t){return`${this.no}/v1/${t}:${Dq[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,i,r){return new Promise((s,u)=>{const h=new A6;h.listenOnce(I6.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case sx.NO_ERROR:const y=h.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(y)),s(y);break;case sx.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),u(new Ee(oe.DEADLINE_EXCEEDED,"Request time out"));break;case sx.HTTP_ERROR:const C=h.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',C,"response text:",h.getResponseText()),C>0){const I=h.getResponseJson().error;if(I&&I.status&&I.message){const x=function(N){const V=N.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(V)>=0?V:oe.UNKNOWN}(I.status);u(new Ee(x,I.message))}else u(new Ee(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ee(oe.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);h.send(t,"POST",p,i,15)})}co(e,t,i){const r=[this.no,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=C6(),u=E6(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new S6({})),this.oo(h.initMessageHeaders,t,i),(0,et.uI)()||(0,et.b$)()||(0,et.d)()||(0,et.w1)()||(0,et.Mn)()||(0,et.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Pe("Connection","Creating WebChannel: "+p,h);const y=s.createWebChannel(p,h);let C=!1,I=!1;const x=new Cq({Qr:V=>{I?Pe("Connection","Not sending because WebChannel is closed:",V):(C||(Pe("Connection","Opening WebChannel transport."),y.open(),C=!0),Pe("Connection","WebChannel sending:",V),y.send(V))},jr:()=>y.close()}),N=(V,z,se)=>{V.listen(z,Me=>{try{se(Me)}catch(ge){setTimeout(()=>{throw ge},0)}})};return N(y,fC.EventType.OPEN,()=>{I||Pe("Connection","WebChannel transport opened.")}),N(y,fC.EventType.CLOSE,()=>{I||(I=!0,Pe("Connection","WebChannel transport closed"),x.Zr())}),N(y,fC.EventType.ERROR,V=>{I||(I=!0,Zy("Connection","WebChannel transport errored:",V),x.Zr(new Ee(oe.UNAVAILABLE,"The operation could not be completed")))}),N(y,fC.EventType.MESSAGE,V=>{var z;if(!I){const se=V.data[0];Mt(!!se);const Me=se,ge=Me.error||(null===(z=Me[0])||void 0===z?void 0:z.error);if(ge){Pe("Connection","WebChannel received error:",ge);const Ze=ge.status;let Se=function(Be){const vt=Ti[Be];if(void 0!==vt)return v2(vt)}(Ze),He=ge.message;void 0===Se&&(Se=oe.INTERNAL,He="Unknown error status: "+Ze+" with message "+ge.message),I=!0,x.Zr(new Ee(Se,He)),y.close()}else Pe("Connection","WebChannel received:",se),x.eo(se)}}),N(u,T6.STAT_EVENT,V=>{V.stat===NV.PROXY?Pe("Connection","Detected buffering proxy"):V.stat===NV.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.Xr()},0),x}}function DB(){return"undefined"!=typeof window?window:null}function jC(){return"undefined"!=typeof document?document:null}function wv(n){return new pW(n,!0)}class Kx{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Hn=e,this.timerId=t,this.ho=i,this.lo=r,this.fo=s,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}reset(){this._o=0}yo(){this._o=this.fo}po(e){this.cancel();const t=Math.floor(this._o+this.Io()),i=Math.max(0,Date.now()-this.mo),r=Math.max(0,t-i);r>0&&Pe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this._o} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.wo=this.Hn.enqueueAfterDelay(this.timerId,r,()=>(this.mo=Date.now(),e())),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}To(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}cancel(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}Io(){return(Math.random()-.5)*this._o}}class CB{constructor(e,t,i,r,s,u,h,p){this.Hn=e,this.Eo=i,this.Ao=r,this.Ro=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new Kx(e,t)}So(){return 1===this.state||5===this.state||this.Do()}Do(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Co()}stop(){var e=this;return(0,Y.Z)(function*(){e.So()&&(yield e.close(0))})()}xo(){this.state=0,this.vo.reset()}No(){this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,()=>this.ko()))}Mo(e){this.Oo(),this.stream.send(e)}ko(){var e=this;return(0,Y.Z)(function*(){if(e.Do())return e.close(0)})()}Oo(){this.Po&&(this.Po.cancel(),this.Po=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var i=this;return(0,Y.Z)(function*(){i.Oo(),i.$o(),i.vo.cancel(),i.bo++,4!==e?i.vo.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),i.vo.yo()):t&&t.code===oe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Fo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Hr(t)})()}Fo(){}auth(){this.state=1;const e=this.Bo(this.bo),t=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.bo===t&&this.Lo(i,r)},i=>{e(()=>{const r=new Ee(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Lo(e,t){const i=this.Bo(this.bo);this.stream=this.Uo(e,t),this.stream.Wr(()=>{i(()=>(this.state=2,this.Vo=this.Hn.enqueueAfterDelay(this.Ao,1e4,()=>(this.Do()&&(this.state=3),Promise.resolve())),this.listener.Wr()))}),this.stream.Hr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Co(){var e=this;this.state=5,this.vo.po((0,Y.Z)(function*(){e.state=0,e.start()}))}qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Bo(e){return t=>{this.Hn.enqueueAndForget(()=>this.bo===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Iq extends CB{constructor(e,t,i,r,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.M=s}Uo(e,t){return this.Ro.co("Listen",e,t)}onMessage(e){this.vo.reset();const t=function _W(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:ct(),r=e.targetChange.targetIds||[],s=function(p,y){return p.N?(Mt(void 0===y||"string"==typeof y),Pi.fromBase64String(y||"")):(Mt(void 0===y||y instanceof Uint8Array),Pi.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=void 0===p.code?oe.UNKNOWN:v2(p.code);return new Ee(y,p.message||"")}(u);t=new D2(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=$a(n,i.document.name),s=qi(i.document.updateTime),u=new Mr({mapValue:{fields:i.document.fields}}),h=Qn.newFoundDocument(r,s,u);t=new SC(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=$a(n,i.document),s=i.readTime?qi(i.readTime):St.min(),u=Qn.newNoDocument(r,s);t=new SC([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=$a(n,i.document);t=new SC([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ct();{const i=e.filter,s=new sW(i.count||0);t=new w2(i.targetId,s)}}var p;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return St.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?St.min():s.readTime?qi(s.readTime):St.min()}(e);return this.listener.Ko(t,i)}Go(e){const t={};t.database=fv(this.M),t.addTarget=function(r,s){let u;const h=s.target;return u=yC(h)?{documents:k2(r,h)}:{query:R2(r,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=T2(r,s.resumeToken):s.snapshotVersion.compareTo(St.min())>0&&(u.readTime=dv(r,s.snapshotVersion.toTimestamp())),u}(this.M,e);const i=function vW(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Mo(t)}Qo(e){const t={};t.database=fv(this.M),t.removeTarget=e,this.Mo(t)}}class Tq extends CB{constructor(e,t,i,r,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.M=s,this.jo=!1}get Wo(){return this.jo}start(){this.jo=!1,this.lastStreamToken=void 0,super.start()}Fo(){this.jo&&this.zo([])}Uo(e,t){return this.Ro.co("Write",e,t)}onMessage(e){if(Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.jo){this.vo.reset();const t=function yW(n,e){return n&&n.length>0?(Mt(void 0!==e),n.map(t=>function(i,r){let s=qi(i.updateTime?i.updateTime:r);return s.isEqual(St.min())&&(s=qi(r)),new nW(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=qi(e.commitTime);return this.listener.Ho(i,t)}return Mt(!e.writeResults||0===e.writeResults.length),this.jo=!0,this.listener.Jo()}Yo(){const e={};e.database=fv(this.M),this.Mo(e)}zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>pv(this.M,i))};this.Mo(t)}}class Sq extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Ro=i,this.M=r,this.Xo=!1}Zo(){if(this.Xo)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.")}io(e,t,i){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.Ro.io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ee(oe.UNKNOWN,r.toString())})}uo(e,t,i){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.Ro.uo(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ee(oe.UNKNOWN,r.toString())})}terminate(){this.Xo=!0}}class Aq{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}sa(){0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ea=null,this.ra("Backend didn't respond within 10 seconds."),this.ia("Offline"),Promise.resolve())))}oa(e){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ia("Offline")))}set(e){this.aa(),this.ta=0,"Online"===e&&(this.na=!1),this.ia(e)}ia(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.na?(Ei(t),this.na=!1):Pe("OnlineStateTracker",t)}aa(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}class Mq{constructor(e,t,i,r,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=s,this.fa.Fr(h=>{i.enqueueAndForget((0,Y.Z)(function*(){var p;Ou(u)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Y.Z)(function*(y){const C=qe(y);C.ha.add(4),yield Vg(C),C.da.set("Unknown"),C.ha.delete(4),yield Dv(C)}),function(y){return p.apply(this,arguments)})(u))}))}),this.da=new Aq(i,r)}}function Dv(n){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,Y.Z)(function*(n){if(Ou(n))for(const e of n.la)yield e(!0)}),Jx.apply(this,arguments)}function Vg(n){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,Y.Z)(function*(n){for(const e of n.la)yield e(!1)}),Qx.apply(this,arguments)}function HC(n,e){const t=qe(n);t.ca.has(e.targetId)||(t.ca.set(e.targetId,e),tN(t)?eN(t):Ug(t).Do()&&Xx(t,e))}function Cv(n,e){const t=qe(n),i=Ug(t);t.ca.delete(e),i.Do()&&EB(t,e),0===t.ca.size&&(i.Do()?i.No():Ou(t)&&t.da.set("Unknown"))}function Xx(n,e){n._a.Z(e.targetId),Ug(n).Go(e)}function EB(n,e){n._a.Z(e),Ug(n).Qo(e)}function eN(n){n._a=new dW({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.ca.get(e)||null}),Ug(n).start(),n.da.sa()}function tN(n){return Ou(n)&&!Ug(n).So()&&n.ca.size>0}function Ou(n){return 0===qe(n).ha.size}function IB(n){n._a=void 0}function xq(n){return nN.apply(this,arguments)}function nN(){return nN=(0,Y.Z)(function*(n){n.ca.forEach((e,t)=>{Xx(n,e)})}),nN.apply(this,arguments)}function Nq(n,e){return iN.apply(this,arguments)}function iN(){return iN=(0,Y.Z)(function*(n,e){IB(n),tN(n)?(n.da.oa(e),eN(n)):n.da.set("Unknown")}),iN.apply(this,arguments)}function kq(n,e,t){return rN.apply(this,arguments)}function rN(){return rN=(0,Y.Z)(function*(n,e,t){if(n.da.set("Online"),e instanceof D2&&2===e.state&&e.cause)try{yield(i=(0,Y.Z)(function*(r,s){const u=s.cause;for(const h of s.targetIds)r.ca.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.ca.delete(h),r._a.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield GC(n,i)}else if(e instanceof SC?n._a.at(e):e instanceof w2?n._a._t(e):n._a.ht(e),!t.isEqual(St.min()))try{const i=yield pB(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const u=r._a.yt(s);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.ca.get(p);y&&r.ca.set(p,y.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const p=r.ca.get(h);if(!p)return;r.ca.set(h,p.withResumeToken(Pi.EMPTY_BYTE_STRING,p.snapshotVersion)),EB(r,h);const y=new Mu(p.target,h,1,p.sequenceNumber);Xx(r,y)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Pe("RemoteStore","Failed to raise snapshot:",i),yield GC(n,i)}var i}),rN.apply(this,arguments)}function GC(n,e,t){return sN.apply(this,arguments)}function sN(){return sN=(0,Y.Z)(function*(n,e,t){if(!jh(e))throw e;n.ha.add(1),yield Vg(n),n.da.set("Offline"),t||(t=()=>pB(n.localStore)),n.asyncQueue.enqueueRetryable((0,Y.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.ha.delete(1),yield Dv(n)}))}),sN.apply(this,arguments)}function TB(n,e){return e().catch(t=>GC(n,t,e))}function Bg(n){return oN.apply(this,arguments)}function oN(){return oN=(0,Y.Z)(function*(n){const e=qe(n),t=Pu(e);let i=e.ua.length>0?e.ua[e.ua.length-1].batchId:-1;for(;Rq(e);)try{const r=yield cq(e.localStore,i);if(null===r){0===e.ua.length&&t.No();break}i=r.batchId,Oq(e,r)}catch(r){yield GC(e,r)}SB(e)&&AB(e)}),oN.apply(this,arguments)}function Rq(n){return Ou(n)&&n.ua.length<10}function Oq(n,e){n.ua.push(e);const t=Pu(n);t.Do()&&t.Wo&&t.zo(e.mutations)}function SB(n){return Ou(n)&&!Pu(n).So()&&n.ua.length>0}function AB(n){Pu(n).start()}function Pq(n){return aN.apply(this,arguments)}function aN(){return aN=(0,Y.Z)(function*(n){Pu(n).Yo()}),aN.apply(this,arguments)}function Fq(n){return lN.apply(this,arguments)}function lN(){return lN=(0,Y.Z)(function*(n){const e=Pu(n);for(const t of n.ua)e.zo(t.mutations)}),lN.apply(this,arguments)}function Lq(n,e,t){return cN.apply(this,arguments)}function cN(){return cN=(0,Y.Z)(function*(n,e,t){const i=n.ua.shift(),r=Ix.from(i,e,t);yield TB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Bg(n)}),cN.apply(this,arguments)}function Vq(n,e){return uN.apply(this,arguments)}function uN(){return uN=(0,Y.Z)(function*(n,e){var t;e&&Pu(n).Wo&&(yield(t=(0,Y.Z)(function*(i,r){if(y2(s=r.code)&&s!==oe.ABORTED){const u=i.ua.shift();Pu(i).xo(),yield TB(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Bg(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),SB(n)&&AB(n)}),uN.apply(this,arguments)}function MB(n,e){return dN.apply(this,arguments)}function dN(){return dN=(0,Y.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const i=Ou(t);t.ha.add(3),yield Vg(t),i&&t.da.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.ha.delete(3),yield Dv(t)}),dN.apply(this,arguments)}function hN(n,e){return fN.apply(this,arguments)}function fN(){return fN=(0,Y.Z)(function*(n,e){const t=qe(n);e?(t.ha.delete(2),yield Dv(t)):e||(t.ha.add(2),yield Vg(t),t.da.set("Unknown"))}),fN.apply(this,arguments)}function Ug(n){return n.wa||(n.wa=function(e,t,i){const r=qe(e);return r.Zo(),new Iq(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Wr:xq.bind(null,n),Hr:Nq.bind(null,n),Ko:kq.bind(null,n)}),n.la.push(function(){var e=(0,Y.Z)(function*(t){t?(n.wa.xo(),tN(n)?eN(n):n.da.set("Unknown")):(yield n.wa.stop(),IB(n))});return function(t){return e.apply(this,arguments)}}())),n.wa}function Pu(n){return n.ma||(n.ma=function(e,t,i){const r=qe(e);return r.Zo(),new Tq(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Wr:Pq.bind(null,n),Hr:Vq.bind(null,n),Jo:Fq.bind(null,n),Ho:Lq.bind(null,n)}),n.la.push(function(){var e=(0,Y.Z)(function*(t){t?(n.ma.xo(),yield Bg(n)):(yield n.ma.stop(),n.ua.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.ua.length} pending writes`),n.ua=[]))});return function(t){return e.apply(this,arguments)}}())),n.ma}class pN{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,s){const u=Date.now()+i,h=new pN(e,t,u,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ee(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jg(n,e){if(Ei("AsyncQueue",`${e}: ${n}`),jh(n))return new Ee(oe.UNAVAILABLE,`${e}: ${n}`);throw n}class Hg{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Qe.comparator(t.key,i.key):(t,i)=>Qe.comparator(t.key,i.key),this.keyedMap=vx(),this.sortedSet=new hi(this.comparator)}static emptySet(e){return new Hg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Hg;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class xB{constructor(){this.ga=new hi(Qe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?0!==e.type&&3===i.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==i.type?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.ga=this.ga.remove(t):1===e.type&&2===i.type?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ct():this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class Gg{constructor(e,t,i,r,s,u,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(u=>{s.push({type:0,doc:u})}),new Gg(e,t,Hg.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Bq{constructor(){this.pa=void 0,this.listeners=[]}}class Uq{constructor(){this.queries=new Au(e=>n2(e),rv),this.onlineState="Unknown",this.Ia=new Set}}function gN(n,e){return mN.apply(this,arguments)}function mN(){return mN=(0,Y.Z)(function*(n,e){const t=qe(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new Bq),r)try{s.pa=yield t.onListen(i)}catch(u){const h=jg(u,`Initialization of query '${gx(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Ta(t.onlineState),s.pa&&e.Ea(s.pa)&&vN(t)}),mN.apply(this,arguments)}function _N(n,e){return yN.apply(this,arguments)}function yN(){return yN=(0,Y.Z)(function*(n,e){const t=qe(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),yN.apply(this,arguments)}function jq(n,e){const t=qe(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const h of u.listeners)h.Ea(r)&&(i=!0);u.pa=r}}i&&vN(t)}function Hq(n,e,t){const i=qe(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function vN(n){n.Ia.forEach(e=>{e.next()})}class bN{constructor(e,t,i){this.query=e,this.Aa=t,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=i||{}}Ea(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Gg(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Ra?this.Pa(e)&&(this.Aa.next(e),t=!0):this.Va(e,this.onlineState)&&(this.va(e),t=!0),this.ba=e,t}onError(e){this.Aa.error(e)}Ta(e){this.onlineState=e;let t=!1;return this.ba&&!this.Ra&&this.Va(this.ba,e)&&(this.va(this.ba),t=!0),t}Va(e,t){return!e.fromCache||!(this.options.Sa&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Pa(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ba&&this.ba.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}va(e){e=Gg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Ra=!0,this.Aa.next(e)}}class Gq{constructor(e,t){this.payload=e,this.byteLength=t}Da(){return"metadata"in this.payload}}class NB{constructor(e){this.M=e}li(e){return $a(this.M,e)}fi(e){return e.metadata.exists?N2(this.M,e.document,!1):Qn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return qi(e)}}class $q{constructor(e,t,i){this.Ca=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.progress=kB(e)}xa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Na(e){const t=new Map,i=new NB(this.M);for(const r of e)if(r.metadata.queries){const s=i.li(r.metadata.name);for(const u of r.metadata.queries){const h=(t.get(u)||fn()).add(s);t.set(u,h)}}return t}complete(){var e=this;return(0,Y.Z)(function*(){const t=yield function dq(n,e,t,i){return Hx.apply(this,arguments)}(e.localStore,new NB(e.M),e.documents,e.Ca.id),i=e.Na(e.documents);for(const r of e.queries)yield hq(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",new rq(Object.assign({},e.progress),t)})()}}function kB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class RB{constructor(e){this.key=e}}class OB{constructor(e){this.key=e}}class PB{constructor(e,t){this.query=e,this.ka=t,this.Ma=null,this.current=!1,this.Oa=fn(),this.mutatedKeys=fn(),this.$a=r2(e),this.Fa=new Hg(this.$a)}get Ba(){return this.ka}La(e,t){const i=t?t.qa:new xB,r=t?t.Fa:this.Fa;let s=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const p=bC(this.query)&&r.size===this.query.limit?r.last():null,y=wC(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,I)=>{const x=r.get(C),N=mx(this.query,I)?I:null,V=!!x&&this.mutatedKeys.has(x.key),z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let se=!1;x&&N?x.data.isEqual(N.data)?V!==z&&(i.track({type:3,doc:N}),se=!0):this.Ua(x,N)||(i.track({type:2,doc:N}),se=!0,(p&&this.$a(N,p)>0||y&&this.$a(N,y)<0)&&(h=!0)):!x&&N?(i.track({type:0,doc:N}),se=!0):x&&!N&&(i.track({type:1,doc:x}),se=!0,(p||y)&&(h=!0)),se&&(N?(u=u.add(N),s=z?s.add(C):s.delete(C)):(u=u.delete(C),s=s.delete(C)))}),bC(this.query)||wC(this.query))for(;u.size>this.query.limit;){const C=bC(this.query)?u.last():u.first();u=u.delete(C.key),s=s.delete(C.key),i.track({type:1,doc:C})}return{Fa:u,qa:i,ei:h,mutatedKeys:s}}Ua(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Fa;this.Fa=e.Fa,this.mutatedKeys=e.mutatedKeys;const s=e.qa.ya();s.sort((y,C)=>function(I,x){const N=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return N(I)-N(x)}(y.type,C.type)||this.$a(y.doc,C.doc)),this.Ka(i);const u=t?this.Ga():[],h=0===this.Oa.size&&this.current?1:0,p=h!==this.Ma;return this.Ma=h,0!==s.length||p?{snapshot:new Gg(this.query,e.Fa,r,s,e.mutatedKeys,0===h,p,!1),Qa:u}:{Qa:u}}Ta(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new xB,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}ja(e){return!this.ka.has(e)&&!!this.Fa.has(e)&&!this.Fa.get(e).hasLocalMutations}Ka(e){e&&(e.addedDocuments.forEach(t=>this.ka=this.ka.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ka=this.ka.delete(t)),this.current=e.current)}Ga(){if(!this.current)return[];const e=this.Oa;this.Oa=fn(),this.Fa.forEach(i=>{this.ja(i.key)&&(this.Oa=this.Oa.add(i.key))});const t=[];return e.forEach(i=>{this.Oa.has(i)||t.push(new OB(i))}),this.Oa.forEach(i=>{e.has(i)||t.push(new RB(i))}),t}Wa(e){this.ka=e.hi,this.Oa=fn();const t=this.La(e.documents);return this.applyChanges(t,!0)}za(){return Gg.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}class zq{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Wq{constructor(e){this.key=e,this.Ha=!1}}class qq{constructor(e,t,i,r,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.Ja={},this.Ya=new Au(h=>n2(h),rv),this.Xa=new Map,this.Za=new Set,this.tu=new hi(Qe.comparator),this.eu=new Map,this.nu=new $x,this.su={},this.iu=new Map,this.ru=Wh.gn(),this.onlineState="Unknown",this.ou=void 0}get isPrimaryClient(){return!0===this.ou}}function Yq(n,e){return wN.apply(this,arguments)}function wN(){return wN=(0,Y.Z)(function*(n,e){const t=$N(n);let i,r;const s=t.Ya.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.za();else{const u=yield Fg(t.localStore,vo(e));t.isPrimaryClient&&HC(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield DN(t,e,i,"current"===h)}return r}),wN.apply(this,arguments)}function DN(n,e,t,i){return CN.apply(this,arguments)}function CN(){return CN=(0,Y.Z)(function*(n,e,t,i){n.au=(C,I,x)=>{return(N=(0,Y.Z)(function*(V,z,se,Me){let ge=z.view.La(se);ge.ei&&(ge=yield VC(V.localStore,z.query,!1).then(({documents:He})=>z.view.La(He,ge)));const Ze=Me&&Me.targetChanges.get(z.targetId),Se=z.view.applyChanges(ge,V.isPrimaryClient,Ze);return RN(V,z.targetId,Se.Qa),Se.snapshot}),function(V,z,se,Me){return N.apply(this,arguments)})(n,C,I,x);var N};const r=yield VC(n.localStore,e,!0),s=new PB(e,r.hi),u=s.La(r.documents),h=uv.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),p=s.applyChanges(u,n.isPrimaryClient,h);RN(n,t,p.Qa);const y=new zq(e,t,s);return n.Ya.set(e,y),n.Xa.has(t)?n.Xa.get(t).push(e):n.Xa.set(t,[e]),p.snapshot}),CN.apply(this,arguments)}function Zq(n,e){return EN.apply(this,arguments)}function EN(){return EN=(0,Y.Z)(function*(n,e){const t=qe(n),i=t.Ya.get(e),r=t.Xa.get(i.targetId);if(r.length>1)return t.Xa.set(i.targetId,r.filter(s=>!rv(s,e))),void t.Ya.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Lg(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Cv(t.remoteStore,i.targetId),$g(t,i.targetId)}).catch(qh))):($g(t,i.targetId),yield Lg(t.localStore,i.targetId,!0))}),EN.apply(this,arguments)}function IN(){return IN=(0,Y.Z)(function*(n,e,t){const i=zN(n);try{const r=yield function(s,u){const h=qe(s),p=zi.now(),y=u.reduce((I,x)=>I.add(x.key),fn());let C;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>h.ui.Us(I,y).next(x=>{C=x;const N=[];for(const V of u){const z=rW(V,C.get(V.key));null!=z&&N.push(new Uh(V.key,z,ZV(z.value.mapValue),Ii.exists(!0)))}return h.Fs.addMutationBatch(I,p,N,u)})).then(I=>(I.applyToLocalDocumentSet(C),{batchId:I.batchId,changes:C}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,h){let p=s.su[s.currentUser.toKey()];p||(p=new hi(Kt)),p=p.insert(u,h),s.su[s.currentUser.toKey()]=p}(i,r.batchId,t),yield ec(i,r.changes),yield Bg(i.remoteStore)}catch(r){const s=jg(r,"Failed to persist write");t.reject(s)}}),IN.apply(this,arguments)}function FB(n,e){return TN.apply(this,arguments)}function TN(){return TN=(0,Y.Z)(function*(n,e){const t=qe(n);try{const i=yield lq(t.localStore,e);e.targetChanges.forEach((r,s)=>{const u=t.eu.get(s);u&&(Mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Ha=!0:r.modifiedDocuments.size>0?Mt(u.Ha):r.removedDocuments.size>0&&(Mt(u.Ha),u.Ha=!1))}),yield ec(t,i,e)}catch(i){yield qh(i)}}),TN.apply(this,arguments)}function LB(n,e,t){const i=qe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.Ya.forEach((s,u)=>{const h=u.view.Ta(e);h.snapshot&&r.push(h.snapshot)}),function(s,u){const h=qe(s);h.onlineState=u;let p=!1;h.queries.forEach((y,C)=>{for(const I of C.listeners)I.Ta(u)&&(p=!0)}),p&&vN(h)}(i.eventManager,e),r.length&&i.Ja.Ko(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Jq(n,e,t){return SN.apply(this,arguments)}function SN(){return SN=(0,Y.Z)(function*(n,e,t){const i=qe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.eu.get(e),s=r&&r.key;if(s){let u=new hi(Qe.comparator);u=u.insert(s,Qn.newNoDocument(s,St.min()));const h=fn().add(s),p=new cv(St.min(),new Map,new jn(Kt),u,h);yield FB(i,p),i.tu=i.tu.remove(s),i.eu.delete(e),ON(i)}else yield Lg(i.localStore,e,!1).then(()=>$g(i,e,t)).catch(qh)}),SN.apply(this,arguments)}function Qq(n,e){return AN.apply(this,arguments)}function AN(){return AN=(0,Y.Z)(function*(n,e){const t=qe(n),i=e.batch.batchId;try{const r=yield aq(t.localStore,e);kN(t,i,null),NN(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ec(t,r)}catch(r){yield qh(r)}}),AN.apply(this,arguments)}function Xq(n,e,t){return MN.apply(this,arguments)}function MN(){return MN=(0,Y.Z)(function*(n,e,t){const i=qe(n);try{const r=yield function(s,u){const h=qe(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.Fs.lookupMutationBatch(p,u).next(C=>(Mt(null!==C),y=C.keys(),h.Fs.removeMutationBatch(p,C))).next(()=>h.Fs.performConsistencyCheck(p)).next(()=>h.ui.Us(p,y))})}(i.localStore,e);kN(i,e,t),NN(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ec(i,r)}catch(r){yield qh(r)}}),MN.apply(this,arguments)}function xN(){return xN=(0,Y.Z)(function*(n,e){const t=qe(n);Ou(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=qe(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.Fs.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.iu.get(i)||[];r.push(e),t.iu.set(i,r)}catch(i){const r=jg(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),xN.apply(this,arguments)}function NN(n,e){(n.iu.get(e)||[]).forEach(t=>{t.resolve()}),n.iu.delete(e)}function kN(n,e,t){const i=qe(n);let r=i.su[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.su[i.currentUser.toKey()]=r}}function $g(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Xa.get(e))n.Ya.delete(i),t&&n.Ja.uu(i,t);n.Xa.delete(e),n.isPrimaryClient&&n.nu.Ri(e).forEach(i=>{n.nu.containsKey(i)||VB(n,i)})}function VB(n,e){n.Za.delete(e.path.canonicalString());const t=n.tu.get(e);null!==t&&(Cv(n.remoteStore,t),n.tu=n.tu.remove(e),n.eu.delete(t),ON(n))}function RN(n,e,t){for(const i of t)i instanceof RB?(n.nu.addReference(i.key,e),t5(n,i)):i instanceof OB?(Pe("SyncEngine","Document no longer in limbo: "+i.key),n.nu.removeReference(i.key,e),n.nu.containsKey(i.key)||VB(n,i.key)):ct()}function t5(n,e){const t=e.key,i=t.path.canonicalString();n.tu.get(t)||n.Za.has(i)||(Pe("SyncEngine","New document in limbo: "+t),n.Za.add(i),ON(n))}function ON(n){for(;n.Za.size>0&&n.tu.size<n.maxConcurrentLimboResolutions;){const e=n.Za.values().next().value;n.Za.delete(e);const t=new Qe(ln.fromString(e)),i=n.ru.next();n.eu.set(i,new Wq(t)),n.tu=n.tu.insert(t,i),HC(n.remoteStore,new Mu(vo(Ig(t.path)),i,2,Hs.A))}}function ec(n,e,t){return PN.apply(this,arguments)}function PN(){return PN=(0,Y.Z)(function*(n,e,t){const i=qe(n),r=[],s=[],u=[];var h;i.Ya.isEmpty()||(i.Ya.forEach((h,p)=>{u.push(i.au(p,e,t).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),r.push(y);const C=Vx.Js(p.targetId,y);s.push(C)}}))}),yield Promise.all(u),i.Ja.Ko(r),yield(h=(0,Y.Z)(function*(p,y){const C=qe(p);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ue.forEach(y,x=>ue.forEach(x.zs,N=>C.persistence.referenceDelegate.addReference(I,x.targetId,N)).next(()=>ue.forEach(x.Hs,N=>C.persistence.referenceDelegate.removeReference(I,x.targetId,N)))))}catch(I){if(!jh(I))throw I;Pe("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const x=I.targetId;if(!I.fromCache){const N=C.si.get(x),z=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);C.si=C.si.insert(x,z)}}}),function(p,y){return h.apply(this,arguments)})(i.localStore,s))}),PN.apply(this,arguments)}function n5(n,e){return FN.apply(this,arguments)}function FN(){return FN=(0,Y.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const i=yield fB(t.localStore,e);t.currentUser=e,(r=t).iu.forEach(u=>{u.forEach(h=>{h.reject(new Ee(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.iu.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ec(t,i.ci)}var r}),FN.apply(this,arguments)}function r5(n,e){const t=qe(n),i=t.eu.get(e);if(i&&i.Ha)return fn().add(i.key);{let r=fn();const s=t.Xa.get(e);if(!s)return r;for(const u of s){const h=t.Ya.get(u);r=r.unionWith(h.view.Ba)}return r}}function s5(n,e){return LN.apply(this,arguments)}function LN(){return LN=(0,Y.Z)(function*(n,e){const t=qe(n),i=yield VC(t.localStore,e.query,!0),r=e.view.Wa(i);return t.isPrimaryClient&&RN(t,e.targetId,r.Qa),r}),LN.apply(this,arguments)}function o5(n){return VN.apply(this,arguments)}function VN(){return VN=(0,Y.Z)(function*(n){const e=qe(n);return _B(e.localStore).then(t=>ec(e,t))}),VN.apply(this,arguments)}function a5(n,e,t,i){return BN.apply(this,arguments)}function BN(){return BN=(0,Y.Z)(function*(n,e,t,i){const r=qe(n),s=yield function(u,h){const p=qe(u),y=qe(p.Fs);return p.persistence.runTransaction("Lookup mutation documents","readonly",C=>y.ln(C,h).next(I=>I?p.ui.Us(C,I):ue.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===t?yield Bg(r.remoteStore):"acknowledged"===t||"rejected"===t?(kN(r,e,i||null),NN(r,e),h=e,qe(qe(r.localStore).Fs).dn(h)):ct(),yield ec(r,s)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),BN.apply(this,arguments)}function UN(){return UN=(0,Y.Z)(function*(n,e){const t=qe(n);if($N(t),zN(t),!0===e&&!0!==t.ou){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield BB(t,i.toArray());t.ou=!0,yield hN(t.remoteStore,!0);for(const s of r)HC(t.remoteStore,s)}else if(!1===e&&!1!==t.ou){const i=[];let r=Promise.resolve();t.Xa.forEach((s,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>($g(t,u),Lg(t.localStore,u,!0))),Cv(t.remoteStore,u)}),yield r,yield BB(t,i),function(s){const u=qe(s);u.eu.forEach((h,p)=>{Cv(u.remoteStore,p)}),u.nu.bi(),u.eu=new Map,u.tu=new hi(Qe.comparator)}(t),t.ou=!1,yield hN(t.remoteStore,!1)}}),UN.apply(this,arguments)}function BB(n,e,t){return jN.apply(this,arguments)}function jN(){return jN=(0,Y.Z)(function*(n,e,t){const i=qe(n),r=[],s=[];for(const u of e){let h;const p=i.Xa.get(u);if(p&&0!==p.length){h=yield Fg(i.localStore,vo(p[0]));for(const y of p){const C=i.Ya.get(y),I=yield s5(i,C);I.snapshot&&s.push(I.snapshot)}}else{const y=yield mB(i.localStore,u);h=yield Fg(i.localStore,y),yield DN(i,UB(y),u,!1)}r.push(h)}return i.Ja.Ko(s),r}),jN.apply(this,arguments)}function UB(n){return e2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function c5(n){const e=qe(n);return qe(qe(e.localStore).persistence).Ms()}function u5(n,e,t,i){return HN.apply(this,arguments)}function HN(){return HN=(0,Y.Z)(function*(n,e,t,i){const r=qe(n);if(r.ou)Pe("SyncEngine","Ignoring unexpected query state notification.");else if(r.Xa.has(e))switch(t){case"current":case"not-current":{const s=yield _B(r.localStore),u=cv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ec(r,s,u);break}case"rejected":yield Lg(r.localStore,e,!0),$g(r,e,i);break;default:ct()}}),HN.apply(this,arguments)}function d5(n,e,t){return GN.apply(this,arguments)}function GN(){return GN=(0,Y.Z)(function*(n,e,t){const i=$N(n);if(i.ou){for(const r of e){if(i.Xa.has(r)){Pe("SyncEngine","Adding an already active target "+r);continue}const s=yield mB(i.localStore,r),u=yield Fg(i.localStore,s);yield DN(i,UB(s),u.targetId,!1),HC(i.remoteStore,u)}for(const r of t)i.Xa.has(r)&&(yield Lg(i.localStore,r,!1).then(()=>{Cv(i.remoteStore,r),$g(i,r)}).catch(qh))}}),GN.apply(this,arguments)}function $N(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jq.bind(null,e),e.Ja.Ko=jq.bind(null,e.eventManager),e.Ja.uu=Hq.bind(null,e.eventManager),e}function zN(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xq.bind(null,e),e}class jB{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Y.Z)(function*(){t.M=wv(e.databaseInfo.databaseId),t.sharedClientState=t.hu(e),t.persistence=t.lu(e),yield t.persistence.start(),t.gcScheduler=t.fu(e),t.localStore=t.du(e)})()}fu(e){return null}du(e){return hB(this.persistence,new dB,e.initialUser,this.M)}lu(e){return new vq(zx.Wi,this.M)}hu(e){return new bB}terminate(){var e=this;return(0,Y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class HB extends jB{constructor(e,t,i){super(),this._u=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Y.Z)(function*(){yield t().call(i,e),yield function uq(n){return jx.apply(this,arguments)}(i.localStore),yield i._u.initialize(i,e),yield zN(i._u.syncEngine),yield Bg(i._u.remoteStore),yield i.persistence.ps(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}du(e){return hB(this.persistence,new dB,e.initialUser,this.M)}fu(e){return new QW(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}lu(e){const t=Lx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ps.withCacheSize(this.cacheSizeBytes):ps.DEFAULT;return new Fx(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,DB(),jC(),this.M,this.sharedClientState,!!this.forceOwnership)}hu(e){return new bB}}class f5 extends HB{constructor(e,t){super(e,t,!1),this._u=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Y.Z)(function*(){yield t().call(i,e);const r=i._u.syncEngine;i.sharedClientState instanceof Zx&&(i.sharedClientState.syncEngine={Nr:a5.bind(null,r),kr:u5.bind(null,r),Mr:d5.bind(null,r),Ms:c5.bind(null,r),Cr:o5.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ps(function(){var s=(0,Y.Z)(function*(u){yield function l5(n,e){return UN.apply(this,arguments)}(i._u.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}hu(e){const t=DB();if(!Zx.vt(t))throw new Ee(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Lx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zx(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class WN{initialize(e,t){var i=this;return(0,Y.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>LB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=n5.bind(null,i.syncEngine),yield hN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Uq}createDatastore(e){const t=wv(e.databaseInfo.databaseId),i=new Eq(e.databaseInfo);return new Sq(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>LB(this.syncEngine,h,0),u=wB.vt()?new wB:new wq,new Mq(t,i,r,s,u);var t,i,r,s,u}createSyncEngine(e,t){return function(i,r,s,u,h,p,y){const C=new qq(i,r,s,u,h,p);return y&&(C.ou=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Y.Z)(function*(t){const i=qe(t);Pe("RemoteStore","RemoteStore shutting down."),i.ha.add(5),yield Vg(i),i.fa.shutdown(),i.da.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function GB(n,e=10240){let t=0;return{read:()=>(0,Y.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Y.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class $C{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.wu(this.observer.next,e)}error(e){this.observer.error?this.wu(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}mu(){this.muted=!0}wu(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class p5{constructor(e,t){this.gu=e,this.M=t,this.metadata=new $i,this.buffer=new Uint8Array,this.yu=new TextDecoder("utf-8"),this.pu().then(i=>{i&&i.Da()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.gu.cancel()}getMetadata(){var e=this;return(0,Y.Z)(function*(){return e.metadata.promise})()}cu(){var e=this;return(0,Y.Z)(function*(){return yield e.getMetadata(),e.pu()})()}pu(){var e=this;return(0,Y.Z)(function*(){const t=yield e.Iu();if(null===t)return null;const i=e.yu.decode(t),r=Number(i);isNaN(r)&&e.Tu(`length string (${i}) is not valid number`);const s=yield e.Eu(r);return new Gq(JSON.parse(s),t.length+r)})()}Au(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Iu(){var e=this;return(0,Y.Z)(function*(){for(;e.Au()<0&&!(yield e.Ru()););if(0===e.buffer.length)return null;const t=e.Au();t<0&&e.Tu("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Eu(e){var t=this;return(0,Y.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ru())&&t.Tu("Reached the end of bundle when more is expected.");const i=t.yu.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Tu(e){throw this.gu.cancel(),new Error(`Invalid bundle format: ${e}`)}Ru(){var e=this;return(0,Y.Z)(function*(){const t=yield e.gu.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class g5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Y.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ee(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Y.Z)(function*(s,u){const h=qe(s),p=fv(h.M)+"/documents",y={documents:u.map(N=>hv(h.M,N))},C=yield h.uo("BatchGetDocuments",p,y),I=new Map;C.forEach(N=>{const V=function mW(n,e){return"found"in e?function(t,i){Mt(!!i.found);const r=$a(t,i.found.name),s=qi(i.found.updateTime),u=new Mr({mapValue:{fields:i.found.fields}});return Qn.newFoundDocument(r,s,u)}(n,e):"missing"in e?function(t,i){Mt(!!i.missing),Mt(!!i.readTime);const r=$a(t,i.missing),s=qi(i.readTime);return Qn.newNoDocument(r,s)}(n,e):ct()}(h.M,N);I.set(V.key.toString(),V)});const x=[];return u.forEach(N=>{const V=I.get(N.toString());Mt(!!V),x.push(V)}),x}),function(s,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new av(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Y.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=Qe.fromPath(r);e.mutations.push(new yx(s,e.precondition(s)))}),yield(i=(0,Y.Z)(function*(r,s){const u=qe(r),h=fv(u.M)+"/documents",p={writes:s.map(y=>pv(u.M,y))};yield u.io("Commit",h,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ct();t=St.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ee(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ii.updateTime(t):Ii.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new Ee(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ii.updateTime(t)}return Ii.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class m5{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.bu=5,this.vo=new Kx(this.asyncQueue,"transaction_retry")}run(){this.bu-=1,this.Pu()}Pu(){var e=this;this.vo.po((0,Y.Z)(function*(){const t=new g5(e.datastore),i=e.Vu(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.vu(s)}))}).catch(r=>{e.vu(r)})}))}Vu(e){try{const t=this.updateFunction(e);return!Ph(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}vu(e){this.bu>0&&this.Su(e)?(this.bu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Pu(),Promise.resolve()))):this.deferred.reject(e)}Su(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!y2(t)}return!1}}class _5{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=gr.UNAUTHENTICATED,this.clientId=PV.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Y.Z)(function*(h){Pe("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Pe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=jg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function $B(n,e){return qN.apply(this,arguments)}function qN(){return qN=(0,Y.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Y.Z)(function*(s){i.isEqual(s)||(yield fB(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),qN.apply(this,arguments)}function zB(n,e){return YN.apply(this,arguments)}function YN(){return YN=(0,Y.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ZN(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>MB(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>MB(e.remoteStore,s)),n.onlineComponents=e}),YN.apply(this,arguments)}function ZN(n){return KN.apply(this,arguments)}function KN(){return KN=(0,Y.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield $B(n,new jB)),n.offlineComponents}),KN.apply(this,arguments)}function zC(n){return JN.apply(this,arguments)}function JN(){return JN=(0,Y.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield zB(n,new WN)),n.onlineComponents}),JN.apply(this,arguments)}function WB(n){return ZN(n).then(e=>e.persistence)}function QN(n){return ZN(n).then(e=>e.localStore)}function qB(n){return zC(n).then(e=>e.remoteStore)}function XN(n){return zC(n).then(e=>e.syncEngine)}function zg(n){return ek.apply(this,arguments)}function ek(){return ek=(0,Y.Z)(function*(n){const e=yield zC(n),t=e.eventManager;return t.onListen=Yq.bind(null,e.syncEngine),t.onUnlisten=Zq.bind(null,e.syncEngine),t}),ek.apply(this,arguments)}function YB(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(r,s,u,h,p){const y=new $C({next:I=>{s.enqueueAndForget(()=>_N(r,C));const x=I.docs.has(u);!x&&I.fromCache?p.reject(new Ee(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&I.fromCache&&h&&"server"===h.source?p.reject(new Ee(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),C=new bN(Ig(u.path),y,{includeMetadataChanges:!0,Sa:!0});return gN(r,C)}(yield zg(n),n.asyncQueue,e,t,i)})),i.promise}function ZB(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(r,s,u,h,p){const y=new $C({next:I=>{s.enqueueAndForget(()=>_N(r,C)),I.fromCache&&"server"===h.source?p.reject(new Ee(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),C=new bN(u,y,{includeMetadataChanges:!0,Sa:!0});return gN(r,C)}(yield zg(n),n.asyncQueue,e,t,i)})),i.promise}const KB=new Map;function tk(n,e,t){if(!t)throw new Ee(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JB(n,e,t,i){if(!0===e&&!0===i)throw new Ee(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function QB(n){if(!Qe.isDocumentKey(n))throw new Ee(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XB(n){if(Qe.isDocumentKey(n))throw new Ee(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ct()}function en(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=WC(n);throw new Ee(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function eU(n,e){if(e<=0)throw new Ee(oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class tU{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ee(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ee(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,JB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ev{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tU({}),this._settingsFrozen=!1,e instanceof Ql?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ee(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(r.options.projectId)}(e))}get app(){if(!this._app)throw new Ee(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ee(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new N6;switch(t.type){case"gapi":const i=t.client;return Mt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new P6(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ee(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=KB.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),KB.delete(e),t.terminate())}(this),Promise.resolve()}}class On{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class xr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xr(this.firestore,e,this._query)}}class za extends xr{constructor(e,t,i){super(e,t,Ig(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new Qe(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function Iv(n,e,...t){if(n=(0,et.m9)(n),tk("collection","path",e),n instanceof Ev){const i=ln.fromString(e,...t);return XB(i),new za(n,null,i)}{if(!(n instanceof On||n instanceof za))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ln.fromString(e,...t));return XB(i),new za(n.firestore,null,i)}}function Tv(n,e,...t){if(n=(0,et.m9)(n),1===arguments.length&&(e=PV.R()),tk("doc","path",e),n instanceof Ev){const i=ln.fromString(e,...t);return QB(i),new On(n,null,new Qe(i))}{if(!(n instanceof On||n instanceof za))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ln.fromString(e,...t));return QB(i),new On(n.firestore,n instanceof za?n.converter:null,new Qe(i))}}function nU(n,e){return n=(0,et.m9)(n),e=(0,et.m9)(e),(n instanceof On||n instanceof za)&&(e instanceof On||e instanceof za)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function iU(n,e){return n=(0,et.m9)(n),e=(0,et.m9)(e),n instanceof xr&&e instanceof xr&&n.firestore===e.firestore&&rv(n._query,e._query)&&n.converter===e.converter}class A5{constructor(){this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new Kx(this,"async_queue_retry"),this.Fu=()=>{const t=jC();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.vo.To()};const e=jC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Fu)}get isShuttingDown(){return this.xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Bu(),this.Lu(e)}enterRestrictedMode(e){if(!this.xu){this.xu=!0,this.Ou=e||!1;const t=jC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Fu)}}enqueue(e){if(this.Bu(),this.xu)return new Promise(()=>{});const t=new $i;return this.Lu(()=>this.xu&&this.Ou?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Cu.push(e),this.qu()))}qu(){var e=this;return(0,Y.Z)(function*(){if(0!==e.Cu.length){try{yield e.Cu[0](),e.Cu.shift(),e.vo.reset()}catch(t){if(!jh(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Cu.length>0&&e.vo.po(()=>e.qu())}})()}Lu(e){const t=this.Du.then(()=>(this.Mu=!0,e().catch(i=>{throw this.ku=i,this.Mu=!1,Ei("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Mu=!1,i))));return this.Du=t,t}enqueueAfterDelay(e,t,i){this.Bu(),this.$u.indexOf(e)>-1&&(t=0);const r=pN.createAndSchedule(this,e,t,i,s=>this.Uu(s));return this.Nu.push(r),r}Bu(){this.ku&&ct()}verifyOperationInProgress(){}Ku(){var e=this;return(0,Y.Z)(function*(){let t;do{t=e.Du,yield t}while(t!==e.Du)})()}Gu(e){for(const t of this.Nu)if(t.timerId===e)return!0;return!1}Qu(e){return this.Ku().then(()=>{this.Nu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ku()})}ju(e){this.$u.push(e)}Uu(e){const t=this.Nu.indexOf(e);this.Nu.splice(t,1)}}function nk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class M5{constructor(){this._progressObserver={},this._taskCompletionResolver=new $i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Hn extends Ev{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new A5,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||rU(this),this._firestoreClient.terminate()}}function N5(n=(0,qt.getApp)()){return(0,qt._getProvider)(n,"firestore").getImmediate()}function Si(n){return n._firestoreClient||rU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function rU(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new j6(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new _5(n._authCredentials,n._appCheckCredentials,n._queue,i)}function sU(n,e,t){const i=new $i;return n.asyncQueue.enqueue((0,Y.Z)(function*(){try{yield $B(n,t),yield zB(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function oU(n){if(n._initialized||n._terminated)throw new Ee(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ee(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wa(Pi.fromBase64String(e))}catch(t){throw new Ee(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wa(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yh{constructor(e){this._methodName=e}}class qC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const U5=/^__.*__$/;class j5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Uh(e,this.data,this.fieldMask,t,this.fieldTransforms):new ov(e,this.data,t,this.fieldTransforms)}}class aU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Uh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class YC{constructor(e,t,i,r,s,u){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Wu(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get zu(){return this.settings.zu}Hu(e){return new YC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ju(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:i,Yu:!1});return r.Xu(e),r}Zu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:i,Yu:!1});return r.Wu(),r}tc(e){return this.Hu({path:void 0,Yu:!0})}ec(e){return JC(e,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Wu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Xu(this.path.get(e))}Xu(e){if(0===e.length)throw this.ec("Document fields must not be empty");if(lU(this.zu)&&U5.test(e))throw this.ec('Document fields cannot begin and end with "__"')}}class H5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||wv(e)}ic(e,t,i,r=!1){return new YC({zu:e,methodName:t,sc:i,path:Wi.emptyPath(),Yu:!1,nc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Zh(n){const e=n._freezeSettings(),t=wv(n._databaseId);return new H5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZC(n,e,t,i,r,s={}){const u=n.ic(s.merge||s.mergeFields?2:0,e,t,r);ok("Data must be an object, but it was:",u,i);const h=dU(i,u);let p,y;if(s.merge)p=new bg(u.fieldMask),y=u.fieldTransforms;else if(s.mergeFields){const C=[];for(const I of s.mergeFields){const x=ak(e,I,t);if(!u.contains(x))throw new Ee(oe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);fU(C,x)||C.push(x)}p=new bg(C),y=u.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=u.fieldTransforms;return new j5(new Mr(h),p,y)}class Sv extends Yh{_toFieldTransform(e){if(2!==e.zu)throw e.ec(1===e.zu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sv}}function cU(n,e,t){return new YC({zu:3,sc:e.settings.sc,methodName:n._methodName,Yu:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class ik extends Yh{_toFieldTransform(e){return new sv(e.path,new Sg)}isEqual(e){return e instanceof ik}}class G5 extends Yh{constructor(e,t){super(e),this.rc=t}_toFieldTransform(e){const t=cU(this,e,!0),i=this.rc.map(s=>Kh(s,t)),r=new Vh(i);return new sv(e.path,r)}isEqual(e){return this===e}}class $5 extends Yh{constructor(e,t){super(e),this.rc=t}_toFieldTransform(e){const t=cU(this,e,!0),i=this.rc.map(s=>Kh(s,t)),r=new Bh(i);return new sv(e.path,r)}isEqual(e){return this===e}}class z5 extends Yh{constructor(e,t){super(e),this.oc=t}_toFieldTransform(e){const t=new Ag(e.M,a2(e.M,this.oc));return new sv(e.path,t)}isEqual(e){return this===e}}function rk(n,e,t,i){const r=n.ic(1,e,t);ok("Data must be an object, but it was:",r,i);const s=[],u=Mr.empty();Rh(i,(p,y)=>{const C=KC(e,p,t);y=(0,et.m9)(y);const I=r.Zu(C);if(y instanceof Sv)s.push(C);else{const x=Kh(y,I);null!=x&&(s.push(C),u.set(C,x))}});const h=new bg(s);return new aU(u,h,r.fieldTransforms)}function sk(n,e,t,i,r,s){const u=n.ic(1,e,t),h=[ak(e,i,t)],p=[r];if(s.length%2!=0)throw new Ee(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)h.push(ak(e,s[x])),p.push(s[x+1]);const y=[],C=Mr.empty();for(let x=h.length-1;x>=0;--x)if(!fU(y,h[x])){const N=h[x];let V=p[x];V=(0,et.m9)(V);const z=u.Zu(N);if(V instanceof Sv)y.push(N);else{const se=Kh(V,z);null!=se&&(y.push(N),C.set(N,se))}}const I=new bg(y);return new aU(C,I,u.fieldTransforms)}function uU(n,e,t,i=!1){return Kh(t,n.ic(i?4:3,e))}function Kh(n,e){if(hU(n=(0,et.m9)(n)))return ok("Unsupported field value:",e,n),dU(n,e);if(n instanceof Yh)return function(t,i){if(!lU(i.zu))throw i.ec(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ec(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Yu&&4!==e.zu)throw e.ec("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const u of t){let h=Kh(u,i.tc(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,et.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return a2(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=zi.fromDate(t);return{timestampValue:dv(i.M,r)}}if(t instanceof zi){const r=new zi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:dv(i.M,r)}}if(t instanceof qC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wa)return{bytesValue:T2(i.M,t._byteString)};if(t instanceof On){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ec(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:bx(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ec(`Unsupported field value: ${WC(t)}`)}(n,e)}function dU(n,e){const t={};return VV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rh(n,(i,r)=>{const s=Kh(r,e.Ju(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function hU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof zi||n instanceof qC||n instanceof Wa||n instanceof On||n instanceof Yh)}function ok(n,e,t){if(!hU(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=WC(t);throw e.ec("an object"===i?n+" a custom object":n+" "+i)}var i}function ak(n,e,t){if((e=(0,et.m9)(e))instanceof tc)return e._internalPath;if("string"==typeof e)return KC(n,e);throw JC("Field path arguments must be of type string or ",n,!1,void 0,t)}const W5=new RegExp("[~\\*/\\[\\]]");function KC(n,e,t){if(e.search(W5)>=0)throw JC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tc(...e.split("."))._internalPath}catch(i){throw JC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function JC(n,e,t,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||u)&&(p+=" (found",s&&(p+=` in field ${i}`),u&&(p+=` in document ${r}`),p+=")"),new Ee(oe.INVALID_ARGUMENT,h+n+p)}function fU(n,e){return n.some(t=>t.isEqual(e))}class Av{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new q5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(QC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class q5 extends Av{data(){return super.data()}}function QC(n,e){return"string"==typeof e?KC(n,e):e instanceof tc?e._internalPath:e._delegate._internalPath}class Jh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nc extends Av{constructor(e,t,i,r,s,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(QC("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Mv extends nc{data(e={}){return super.data(e)}}class Fu{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Jh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Mv(this._firestore,this._userDataWriter,i.key,i,new Jh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Mv(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Jh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new Mv(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Jh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==u.type&&(p=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),y=s.indexOf(u.doc.key)),{type:Y5(u.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Y5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function pU(n,e){return n instanceof nc&&e instanceof nc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Fu&&e instanceof Fu&&n._firestore===e._firestore&&iU(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function gU(n){if(wC(n)&&0===n.explicitOrderBy.length)throw new Ee(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xv{}function Lu(n,...e){for(const t of e)n=t._apply(n);return n}class Z5 extends xv{constructor(e,t,i){super(),this.ac=e,this.uc=t,this.cc=i,this.type="where"}_apply(e){const t=Zh(e.firestore),i=function(r,s,u,h,p,y,C){let I;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){wU(C,y);const N=[];for(const V of C)N.push(bU(h,r,V));I={arrayValue:{values:N}}}else I=bU(h,r,C)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||wU(C,y),I=uU(u,"where",C,"in"===y||"not-in"===y);const x=mr.create(p,y,I);return function(N,V){if(V.S()){const se=fx(N);if(null!==se&&!se.isEqual(V.field))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${se.toString()}' and '${V.field.toString()}'`);const Me=hx(N);null!==Me&&DU(0,V.field,Me)}const z=function(se,Me){for(const ge of se.filters)if(Me.indexOf(ge.op)>=0)return ge.op;return null}(N,function(se){switch(se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==z)throw new Ee(oe.INVALID_ARGUMENT,z===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${z.toString()}' filters.`)}(r,x),x}(e._query,0,t,e.firestore._databaseId,this.ac,this.uc,this.cc);return new xr(e.firestore,e.converter,function(r,s){const u=r.filters.concat([s]);return new Xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class J5 extends xv{constructor(e,t){super(),this.ac=e,this.hc=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Eg(r,s);return function(h,p){if(null===hx(h)){const y=fx(h);null!==y&&DU(0,y,p.field)}}(i,u),u}(e._query,this.ac,this.hc);return new xr(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Xl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class mU extends xv{constructor(e,t,i){super(),this.type=e,this.lc=t,this.fc=i}_apply(e){return new xr(e.firestore,e.converter,t2(e._query,this.lc,this.fc))}}class _U extends xv{constructor(e,t,i){super(),this.type=e,this.dc=t,this._c=i}_apply(e){const t=vU(e,this.type,this.dc,this._c);return new xr(e.firestore,e.converter,(r=t,new Xl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class yU extends xv{constructor(e,t,i){super(),this.type=e,this.dc=t,this._c=i}_apply(e){const t=vU(e,this.type,this.dc,this._c);return new xr(e.firestore,e.converter,(r=t,new Xl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function vU(n,e,t,i){if(t[0]=(0,et.m9)(t[0]),t[0]instanceof Av)return function(r,s,u,h,p){if(!h)throw new Ee(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const C of Tg(r))if(C.field.isKeyField())y.push(Dg(s,h.key));else{const I=h.data.field(C.field);if(lx(I))throw new Ee(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const x=C.field.canonicalString();throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}y.push(I)}return new Su(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Zh(n.firestore);return function(s,u,h,p,y,C){const I=s.explicitOrderBy;if(y.length>I.length)throw new Ee(oe.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let N=0;N<y.length;N++){const V=y[N];if(I[N].field.isKeyField()){if("string"!=typeof V)throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof V}`);if(!px(s)&&-1!==V.indexOf("/"))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${V}' contains a slash.`);const z=s.path.child(ln.fromString(V));if(!Qe.isDocumentKey(z))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const se=new Qe(z);x.push(Dg(u,se))}else{const z=uU(h,p,V);x.push(z)}}return new Su(x,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function bU(n,e,t){if("string"==typeof(t=(0,et.m9)(t))){if(""===t)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!px(e)&&-1!==t.indexOf("/"))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ln.fromString(t));if(!Qe.isDocumentKey(i))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Dg(n,new Qe(i))}if(t instanceof On)return Dg(n,t._key);throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${WC(t)}.`)}function wU(n,e){if(!Array.isArray(n)||0===n.length)throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function DU(n,e,t){if(!t.isEqual(e))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class lk{convertValue(e,t="none"){switch(Fh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ct()}}convertObject(e,t){const i={};return Rh(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new qC(oi(e.latitude),oi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=BV(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Jy(e));default:return null}}convertTimestamp(e){const t=Iu(e);return new zi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ln.fromString(e);Mt(F2(i));const r=new Ql(i.get(1),i.get(3)),s=new Qe(i.popFirst(5));return r.isEqual(t)||Ei(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function XC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class s4 extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}class CU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zh(e)}set(e,t,i){this._verifyNotCommitted();const r=Vu(e,this._firestore),s=XC(r.converter,t,i),u=ZC(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Ii.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Vu(e,this._firestore);let u;return u="string"==typeof(t=(0,et.m9)(t))||t instanceof tc?sk(this._dataReader,"WriteBatch.update",s._key,t,i,r):rk(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(u.toMutation(s._key,Ii.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Vu(e,this._firestore);return this._mutations=this._mutations.concat(new av(t._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vu(n,e){if((n=(0,et.m9)(n)).firestore!==e)throw new Ee(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function EU(n){n=en(n,On);const e=en(n.firestore,Hn);return YB(Si(e),n._key).then(t=>dk(e,n,t))}class Qh extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function IU(n,e,t){n=en(n,On);const i=en(n.firestore,Hn),r=XC(n.converter,e,t);return Wg(i,[ZC(Zh(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ii.none())])}function TU(n,e,t,...i){n=en(n,On);const r=en(n.firestore,Hn),s=Zh(r);let u;return u="string"==typeof(e=(0,et.m9)(e))||e instanceof tc?sk(s,"updateDoc",n._key,e,t,i):rk(s,"updateDoc",n._key,e),Wg(r,[u.toMutation(n._key,Ii.exists(!0))])}function ck(n,e){const t=en(n.firestore,Hn),i=Tv(n),r=XC(n.converter,e);return Wg(t,[ZC(Zh(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ii.exists(!1))]).then(()=>i)}function uk(n,...e){var t,i,r;n=(0,et.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||nk(e[u])||(s=e[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(nk(e[u])){const I=e[u];e[u]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[u+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),e[u+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let p,y,C;if(n instanceof On)y=en(n.firestore,Hn),C=Ig(n._key.path),p={next:I=>{e[u]&&e[u](dk(y,n,I))},error:e[u+1],complete:e[u+2]};else{const I=en(n,xr);y=en(I.firestore,Hn),C=I._query;const x=new Qh(y);p={next:N=>{e[u]&&e[u](new Fu(y,x,I,N))},error:e[u+1],complete:e[u+2]},gU(n._query)}return function(I,x,N,V){const z=new $C(V),se=new bN(x,z,N);return I.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return gN(yield zg(I),se)})),()=>{z.mu(),I.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return _N(yield zg(I),se)}))}}(Si(y),C,h,p)}function Wg(n,e){return function(t,i){const r=new $i;return t.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function Kq(n,e,t){return IN.apply(this,arguments)}(yield XN(t),i,r)})),r.promise}(Si(n),e)}function dk(n,e,t){const i=t.docs.get(e._key),r=new Qh(n);return new nc(n,r,e._key,i,new Jh(t.hasPendingWrites,t.fromCache),e.converter)}class f4 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zh(e)}get(e){const t=Vu(e,this._firestore),i=new s4(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ct();const s=r[0];if(s.isFoundDocument())return new Av(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Av(this._firestore,i,t._key,null,t.converter);throw ct()})}set(e,t,i){const r=Vu(e,this._firestore),s=XC(r.converter,t,i),u=ZC(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const s=Vu(e,this._firestore);let u;return u="string"==typeof(t=(0,et.m9)(t))||t instanceof tc?sk(this._dataReader,"Transaction.update",s._key,t,i,r):rk(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,u),this}delete(e){const t=Vu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Vu(e,this._firestore),i=new Qh(this._firestore);return super.get(e).then(r=>new nc(this._firestore,i,t._key,r._document,new Jh(!1,!1),t.converter))}}function hk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ee("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function AU(){if("undefined"==typeof Uint8Array)throw new Ee("unimplemented","Uint8Arrays are not available in this environment.")}function MU(){if(!function B6(){return"undefined"!=typeof atob}())throw new Ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){yg=qt.SDK_VERSION,(0,qt._registerComponent)(new Vs.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new Hn(r,new R6(t.getProvider("auth-internal")),new F6(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),(0,qt.registerVersion)(kV,"3.4.6",n),(0,qt.registerVersion)(kV,"3.4.6","esm2017")}();class Nv{constructor(e){this._delegate=e}static fromBase64String(e){return MU(),new Nv(Wa.fromBase64String(e))}static fromUint8Array(e){return AU(),new Nv(Wa.fromUint8Array(e))}toBase64(){return MU(),this._delegate.toBase64()}toUint8Array(){return AU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fk(n){return function D4(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class C4{enableIndexedDbPersistence(e,t){return function k5(n,e){oU(n=en(n,Hn));const t=Si(n),i=n._freezeSettings(),r=new WN;return sU(t,r,new HB(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function R5(n){oU(n=en(n,Hn));const e=Si(n),t=n._freezeSettings(),i=new WN;return sU(e,i,new f5(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function O5(n){if(n._initialized&&!n._terminated)throw new Ee(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $i;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{yield(t=(0,Y.Z)(function*(i){if(!sa.vt())return Promise.resolve();const r=i+"main";yield sa.delete(r)}),function(i){return t.apply(this,arguments)})(Lx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class xU{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ql||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function T5(n,e,t,i={}){var r;const s=(n=en(n,Ev))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Zy("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=gr.MOCK_USER;else{u=(0,et.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ee(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new gr(p)}n._authCredentials=new k6(new RV(u,h))}}(this._delegate,e,t,i)}enableNetwork(){return function F5(n){return function y5(n){return n.asyncQueue.enqueue((0,Y.Z)(function*(){const e=yield WB(n),t=yield qB(n);return e.setNetworkEnabled(!0),function(i){const r=qe(i);return r.ha.delete(0),Dv(r)}(t)}))}(Si(n=en(n,Hn)))}(this._delegate)}disableNetwork(){return function L5(n){return function v5(n){return n.asyncQueue.enqueue((0,Y.Z)(function*(){const e=yield WB(n),t=yield qB(n);return e.setNetworkEnabled(!1),(i=(0,Y.Z)(function*(r){const s=qe(r);s.ha.add(0),yield Vg(s),s.da.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Si(n=en(n,Hn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,JB("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function P5(n){return function(e){const t=new $i;return e.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function e5(n,e){return xN.apply(this,arguments)}(yield XN(e),t)})),t.promise}(Si(n=en(n,Hn)))}(this._delegate)}onSnapshotsInSync(e){return function h4(n,e){return function D5(n,e){const t=new $C(e);return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return i=yield zg(n),r=t,qe(i).Ia.add(r),void r.next();var i,r})),()=>{t.mu(),n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return i=yield zg(n),r=t,void qe(i).Ia.delete(r);var i,r}))}}(Si(n=en(n,Hn)),nk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qg(this,Iv(this._delegate,e))}catch(t){throw $r(t,"collection()","Firestore.collection()")}}doc(e){try{return new wo(this,Tv(this._delegate,e))}catch(t){throw $r(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zr(this,function S5(n,e){if(n=en(n,Ev),tk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xr(n,null,(t=e,new Xl(ln.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw $r(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function p4(n,e){return function C5(n,e){const t=new $i;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){const i=yield(r=n,zC(r).then(s=>s.datastore));var r;new m5(n.asyncQueue,i,e,t).run()})),t.promise}(Si(n=en(n,Hn)),t=>e(new f4(n,t)))}(this._delegate,t=>e(new NU(this,t)))}batch(){return Si(this._delegate),new kU(new CU(this._delegate,e=>Wg(this._delegate,e)))}loadBundle(e){return function V5(n,e){const t=Si(n=en(n,Hn)),i=new M5;return function E5(n,e,t,i){const r=function(s,u){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,y){if(p instanceof Uint8Array)return GB(p,y);if(p instanceof ArrayBuffer)return GB(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new p5(p,u);var p}(t,wv(e));n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){!function h5(n,e,t){const i=qe(n);var r;(r=(0,Y.Z)(function*(s,u,h){try{const p=yield u.getMetadata();if(yield function(x,N){const V=qe(x),z=qi(N.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",se=>V.fs.getBundleMetadata(se,N.id)).then(se=>!!se&&se.createTime.compareTo(z)>=0)}(s.localStore,p))return yield u.close(),void h._completeWith((x=p,{taskState:"Success",documentsLoaded:x.totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}));h._updateProgress(kB(p));const y=new $q(p,s.localStore,u.M);let C=yield u.cu();for(;C;){const x=yield y.xa(C);x&&h._updateProgress(x),C=yield u.cu()}const I=yield y.complete();yield ec(s,I.$s,void 0),yield function(x,N){const V=qe(x);return V.persistence.runTransaction("Save bundle","readwrite",z=>V.fs.saveBundleMetadata(z,N))}(s.localStore,p),h._completeWith(I.progress)}catch(p){Zy("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p)}var x}),function(s,u,h){return r.apply(this,arguments)})(i,e,t).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield XN(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function B5(n,e){return function I5(n,e){return n.asyncQueue.enqueue((0,Y.Z)(function*(){return function(t,i){const r=qe(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.fs.getNamedQuery(s,i))}(yield QN(n),e)}))}(Si(n=en(n,Hn)),e).then(t=>t?new xr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new zr(this,t):null)}}class eE extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nv(new Wa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wo.forKey(t,this.firestore,null)}}class NU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eE(e)}get(e){const t=ef(e);return this._delegate.get(t).then(i=>new kv(this._firestore,new nc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=ef(e);return i?(hk("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=ef(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=ef(e);return this._delegate.delete(t),this}}class kU{constructor(e){this._delegate=e}set(e,t,i){const r=ef(e);return i?(hk("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=ef(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=ef(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xh{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Mv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rv(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Xh.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Xh(e,new eE(e),t),r.set(t,s)),s}}Xh.INSTANCES=new WeakMap;class wo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eE(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wo(t,new On(t._delegate,i,new Qe(e)))}static forKey(e,t,i){return new wo(t,new On(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new qg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qg(this.firestore,Iv(this._delegate,e))}catch(t){throw $r(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,et.m9)(e))instanceof On&&nU(this._delegate,e)}set(e,t){t=hk("DocumentReference.set",t);try{return t?IU(this._delegate,e,t):IU(this._delegate,e)}catch(i){throw $r(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?TU(this._delegate,e):TU(this._delegate,e,t,...i)}catch(r){throw $r(r,"updateDoc()","DocumentReference.update()")}}delete(){return function d4(n){return Wg(en(n.firestore,Hn),[new av(n._key,Ii.none())])}(this._delegate)}onSnapshot(...e){const t=RU(e),i=OU(e,r=>new kv(this.firestore,new nc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return uk(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function o4(n){n=en(n,On);const e=en(n.firestore,Hn),t=Si(e),i=new Qh(e);return function b5(n,e){const t=new $i;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(i=(0,Y.Z)(function*(r,s,u){try{const h=yield function(p,y){const C=qe(p);return C.persistence.runTransaction("read document","readonly",I=>C.ui.Bs(I,y))}(r,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Ee(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=jg(h,`Failed to get document '${s} from cache`);u.reject(p)}}),function(r,s,u){return i.apply(this,arguments)})(yield QN(n),e,t);var i})),t.promise}(t,n._key).then(r=>new nc(e,i,n._key,r,new Jh(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function a4(n){n=en(n,On);const e=en(n.firestore,Hn);return YB(Si(e),n._key,{source:"server"}).then(t=>dk(e,n,t))}(this._delegate):EU(this._delegate),t.then(i=>new kv(this.firestore,new nc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new wo(this.firestore,this._delegate.withConverter(e?Xh.getInstance(this.firestore,e):null))}}function $r(n,e,t){return n.message=n.message.replace(e,t),n}function RU(n){for(const e of n)if("object"==typeof e&&!fk(e))return e;return{}}function OU(n,e){var t,i;let r;return r=fk(n[0])?n[0]:fk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class kv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return pU(this._delegate,e._delegate)}}class Rv extends kv{data(e){const t=this._delegate.data(e);return function x6(n,e){n||ct()}(void 0!==t),t}}class zr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eE(e)}where(e,t,i){try{return new zr(this.firestore,Lu(this._delegate,function K5(n,e,t){const i=e,r=QC("where",n);return new Z5(r,i,t)}(e,t,i)))}catch(r){throw $r(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zr(this.firestore,Lu(this._delegate,function Q5(n,e="asc"){const t=e,i=QC("orderBy",n);return new J5(i,t)}(e,t)))}catch(i){throw $r(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zr(this.firestore,Lu(this._delegate,function X5(n){return eU("limit",n),new mU("limit",n,"F")}(e)))}catch(t){throw $r(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zr(this.firestore,Lu(this._delegate,function e4(n){return eU("limitToLast",n),new mU("limitToLast",n,"L")}(e)))}catch(t){throw $r(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zr(this.firestore,Lu(this._delegate,function t4(...n){return new _U("startAt",n,!0)}(...e)))}catch(t){throw $r(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zr(this.firestore,Lu(this._delegate,function n4(...n){return new _U("startAfter",n,!1)}(...e)))}catch(t){throw $r(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zr(this.firestore,Lu(this._delegate,function i4(...n){return new yU("endBefore",n,!1)}(...e)))}catch(t){throw $r(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zr(this.firestore,Lu(this._delegate,function r4(...n){return new yU("endAt",n,!0)}(...e)))}catch(t){throw $r(t,"endAt()","Query.endAt()")}}isEqual(e){return iU(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function c4(n){n=en(n,xr);const e=en(n.firestore,Hn),t=Si(e),i=new Qh(e);return function w5(n,e){const t=new $i;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(i=(0,Y.Z)(function*(r,s,u){try{const h=yield VC(r,s,!0),p=new PB(s,h.hi),y=p.La(h.documents),C=p.applyChanges(y,!1);u.resolve(C.snapshot)}catch(h){const p=jg(h,`Failed to execute query '${s} against cache`);u.reject(p)}}),function(r,s,u){return i.apply(this,arguments)})(yield QN(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Fu(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function u4(n){n=en(n,xr);const e=en(n.firestore,Hn),t=Si(e),i=new Qh(e);return ZB(t,n._query,{source:"server"}).then(r=>new Fu(e,i,n,r))}(this._delegate):function l4(n){n=en(n,xr);const e=en(n.firestore,Hn),t=Si(e),i=new Qh(e);return gU(n._query),ZB(t,n._query).then(r=>new Fu(e,i,n,r))}(this._delegate),t.then(i=>new pk(this.firestore,new Fu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=RU(e),i=OU(e,r=>new pk(this.firestore,new Fu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return uk(this._delegate,t,i)}withConverter(e){return new zr(this.firestore,this._delegate.withConverter(e?Xh.getInstance(this.firestore,e):null))}}class I4{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class pk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new I4(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Rv(this._firestore,i))})}isEqual(e){return pU(this._delegate,e._delegate)}}class qg extends zr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wo(this.firestore,e):null}doc(e){try{return new wo(this.firestore,void 0===e?Tv(this._delegate):Tv(this._delegate,e))}catch(t){throw $r(t,"doc()","CollectionReference.doc()")}}add(e){return ck(this._delegate,e).then(t=>new wo(this.firestore,t))}isEqual(e){return nU(this._delegate,e._delegate)}withConverter(e){return new qg(this.firestore,this._delegate.withConverter(e?Xh.getInstance(this.firestore,e):null))}}function ef(n){return en(n,On)}class gk{constructor(...e){this._delegate=new tc(...e)}static documentId(){return new gk(Wi.keyField().canonicalString())}isEqual(e){return(e=(0,et.m9)(e))instanceof tc&&this._delegate._internalPath.isEqual(e._internalPath)}}class tf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function m4(){return new ik("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new tf(e)}static delete(){const e=function g4(){return new Sv("deleteField")}();return e._methodName="FieldValue.delete",new tf(e)}static arrayUnion(...e){const t=function _4(...n){return new G5("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new tf(t)}static arrayRemove(...e){const t=function y4(...n){return new $5("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new tf(t)}static increment(e){const t=function v4(n){return new z5("increment",n)}(e);return t._methodName="FieldValue.increment",new tf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const T4={Firestore:xU,GeoPoint:qC,Timestamp:zi,Blob:Nv,Transaction:NU,WriteBatch:kU,DocumentReference:wo,DocumentSnapshot:kv,Query:zr,QueryDocumentSnapshot:Rv,QuerySnapshot:pk,CollectionReference:qg,FieldPath:gk,FieldValue:tf,setLogLevel:function E4(n){!function M6(n){Eu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function yr(n,e){return(0,Bn.e)((t,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();t.subscribe((0,on.x)(i,p=>{null==r||r.unsubscribe();let y=0;const C=s++;(0,vi.Xf)(n(p,C)).subscribe(r=(0,on.x)(i,I=>i.next(e?e(p,I,C,y++):I),()=>{r=null,h()}))},()=>{u=!0,h()}))})}!function A4(n){(function S4(n,e){n.INTERNAL.registerComponent(new Vs.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},T4)))})(n,(e,t)=>new xU(e,t,new C4)),n.registerVersion("@firebase/firestore-compat","0.1.15")}(w8.Z);class M4 extends Lt.x{constructor(e=1/0,t=1/0,i=Um){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;t||(i.push(e),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!e.closed;u+=i?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=u;p+=2)h=p;h&&i.splice(0,h+1)}}}function PU(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,sy.B)({connector:()=>new M4(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const tE=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function FU(n){return(0,Bn.e)((e,t)=>{let i=!1;e.subscribe((0,on.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function LU(n=N4){return(0,Bn.e)((e,t)=>{let i=!1;e.subscribe((0,on.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function N4(){return new tE}function nf(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Rn((r,s)=>n(r,s,i)):ss.y,(0,ui.q)(1),t?FU(e):LU(()=>new tE))}function VU(n,e){return(0,ds.m)(e)?yr(()=>n,e):yr(()=>n)}class Yg{constructor(e){return e}}class BU{constructor(){return(0,qt.getApps)()}}const mk=new c.OlP("angularfire2._apps"),R4={provide:Yg,useFactory:function k4(n){return n&&1===n.length?n[0]:new Yg((0,qt.getApp)())},deps:[[new c.FiY,mk]]},O4={provide:BU,deps:[[new c.FiY,mk]]};function P4(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Yg(i)}}let F4=(()=>{class n{constructor(t){(0,qt.registerVersion)("angularfire",BD.full,"core"),(0,qt.registerVersion)("angularfire",BD.full,"app"),(0,qt.registerVersion)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[R4,O4]}),n})();function L4(n,...e){return{ngModule:F4,providers:[{provide:mk,useFactory:P4(n),multi:!0,deps:[c.R0b,c.zs3,UD,...e]}]}}const V4=jD(qt.initializeApp,!0),UU=new Map,B4={activated:!1,tokenObservers:[]},U4={initialized:!1,enabled:!1};function Ji(n){return UU.get(n)||B4}function oa(n,e){UU.set(n,e)}function nE(){return U4}class z4{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Y.Z)(function*(){t.stop();try{t.pending=new et.BH,yield function W4(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new et.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Wr=new et.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function HU(n){if(!Ji(n).activated)throw Wr.create("use-before-activation",{appName:n.name})}function vk(n,e){return bk.apply(this,arguments)}function bk(){return bk=(0,Y.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const s={method:"POST",body:JSON.stringify(e),headers:i};let u,h;try{u=yield fetch(n,s)}catch(I){throw Wr.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==u.status)throw Wr.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(I){throw Wr.create("fetch-parse-error",{originalErrorMessage:I.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Wr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(p[1]),C=Date.now();return{token:h.attestationToken,expireTimeMillis:C+y,issuedAtTimeMillis:C}}),bk.apply(this,arguments)}function J4(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Ov="firebase-app-check-store";let sE=null;function $U(){return sE||(sE=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Wr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ov,{keyPath:"compositeKey"})}}catch(t){e(Wr.create("storage-open",{originalErrorMessage:t.message}))}}),sE)}function wk(){return wk=(0,Y.Z)(function*(n,e){const i=(yield $U()).transaction(Ov,"readwrite"),s=i.objectStore(Ov).put({compositeKey:n,value:e});return new Promise((u,h)=>{s.onsuccess=p=>{u()},i.onerror=p=>{var y;h(Wr.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})}),wk.apply(this,arguments)}const Pv=new hs.Yd("@firebase/app-check");function YU(n,e){return(0,et.hl)()?function tY(n,e){return function zU(n,e){return wk.apply(this,arguments)}(function qU(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Pv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ZU(){return nE().enabled}function KU(){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,Y.Z)(function*(){const n=nE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Ik.apply(this,arguments)}const aY={error:"UNKNOWN_ERROR"};function lY(n){return et.US.encodeString(JSON.stringify(n),!1)}function oE(n){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,Y.Z)(function*(n,e=!1){const t=n.app;HU(t);const i=Ji(t);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&aE(p)&&(r=p)}if(!e&&r&&aE(r))return{token:r.token};let h,u=!1;if(ZU()){i.exchangeTokenPromise||(i.exchangeTokenPromise=vk(J4(t,yield KU()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),u=!0);const p=yield i.exchangeTokenPromise;return yield YU(t,p),oa(t,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),u=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Pv.warn(p.message):Pv.error(p),s=p}return r?(h={token:r.token},oa(t,Object.assign(Object.assign({},i),{token:r})),yield YU(t,r)):h=uY(s),u&&QU(t,h),h}),Tk.apply(this,arguments)}function Ak(n,e){const t=Ji(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),oa(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function JU(n){const{app:e}=n,t=Ji(e);let i=t.tokenRefresher;i||(i=function cY(n){const{app:e}=n;return new z4((0,Y.Z)(function*(){let i;if(i=Ji(e).token?yield oE(n,!0):yield oE(n),i.error)throw i.error}),()=>!0,()=>{const t=Ji(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),oa(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function QU(n,e){const t=Ji(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function aE(n){return n.expireTimeMillis-Date.now()>0}function uY(n){return{token:lY(aY),error:n}}class dY{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ji(this.app);for(const t of e)Ak(this.app,t.next);return Promise.resolve()}}const oj="app-check-internal";!function IY(){(0,qt._registerComponent)(new Vs.wA("app-check",n=>function hY(n,e){return new dY(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(oj).initialize()})),(0,qt._registerComponent)(new Vs.wA(oj,n=>function fY(n){return{getToken:e=>oE(n,e),addTokenListener:e=>function Sk(n,e,t,i){const{app:r}=n,s=Ji(r),u={next:t,error:i,type:e};if(oa(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,u]})),s.token&&aE(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),JU(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>JU(n))}(n,"INTERNAL",e),removeTokenListener:e=>Ak(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qt.registerVersion)("@firebase/app-check","0.5.4")}();class cE{constructor(){return fM("app-check")}}"undefined"!=typeof window&&window;var xY=L(127);const lj=new c.OlP("angularfire2.auth.use-emulator"),cj=new c.OlP("angularfire2.auth.settings"),uj=new c.OlP("angularfire2.auth.tenant-id"),dj=new c.OlP("angularfire2.auth.langugage-code"),hj=new c.OlP("angularfire2.auth.use-device-language"),fj=new c.OlP("angularfire.auth.persistence"),pj=(n,e,t,i,r,s,u,h)=>(0,Ha.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),u)for(const[y,C]of Object.entries(u))p.settings[y]=C;return h&&p.setPersistence(h),p},[t,i,r,s,u,h]);let gj=(()=>{class n{constructor(t,i,r,s,u,h,p,y,C,I,x,N){const V=new Lt.x,z=lt(void 0).pipe((0,dg.Q)(u.outsideAngular),yr(()=>s.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,5881)))),(0,st.U)(()=>(0,Ha.on)(t,s,i)),(0,st.U)(se=>pj(se,s,h,y,C,I,p,x)),PU({bufferSize:1,refCount:!1}));if(il(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{z.pipe(nf()).subscribe();const Me=z.pipe(yr(Se=>Se.getRedirectResult().then(He=>He,()=>null)),Us,PU({bufferSize:1,refCount:!1})),ge=z.pipe(yr(Se=>new ii.y(He=>({unsubscribe:s.runOutsideAngular(()=>Se.onAuthStateChanged(Be=>He.next(Be),Be=>He.error(Be),()=>He.complete()))})))),Ze=z.pipe(yr(Se=>new ii.y(He=>({unsubscribe:s.runOutsideAngular(()=>Se.onIdTokenChanged(Be=>He.next(Be),Be=>He.error(Be),()=>He.complete()))}))));this.authState=Me.pipe(VU(ge),(0,My.R)(u.outsideAngular),(0,dg.Q)(u.insideAngular)),this.user=Me.pipe(VU(Ze),(0,My.R)(u.outsideAngular),(0,dg.Q)(u.insideAngular)),this.idToken=this.user.pipe(yr(Se=>Se?(0,An.D)(Se.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(yr(Se=>Se?(0,An.D)(Se.getIdTokenResult()):lt(null))),this.credential=(0,Y_.T)(Me,V,this.authState.pipe(Rn(Se=>!Se))).pipe((0,st.U)(Se=>(null==Se?void 0:Se.user)?Se:null),(0,My.R)(u.outsideAngular),(0,dg.Q)(u.insideAngular))}return(0,Ha.pX)(this,z,s,{spy:{apply:(se,Me,ge)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&ge.then(Ze=>V.next(Ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ha.Dh),c.LFG(Ha.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(UD),c.LFG(lj,8),c.LFG(cj,8),c.LFG(uj,8),c.LFG(dj,8),c.LFG(hj,8),c.LFG(fj,8),c.LFG(cE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function mj(n,e){return function kY(n,e=$c){return new ii.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function Rk(n,e){return mj(n,e).pipe((0,st.U)(t=>({payload:t,type:"query"})))}function uE(n,e){return Rk(n,e).pipe(Fs(void 0),pM(),(0,st.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const p=r.find(C=>C.doc.ref.isEqual(u.ref)),y=null==t?void 0:t.payload.docs.find(C=>C.ref.isEqual(u.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(u.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function _j(n,e,t){return uE(n,t).pipe(xy((i,r)=>function OY(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function PY(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ok(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Ok(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ok(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),Ko(),(0,st.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function Ok(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function yj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class vj{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=uE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,st.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Fs(void 0),pM(),Rn(([i,r])=>r.length>0||!i),(0,st.U)(([i,r])=>r),Us)}auditTrail(e){return this.stateChanges(e).pipe(xy((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=yj(e);return _j(this.query,t,this.afs.schedulers.outsideAngular).pipe(Us)}valueChanges(e={}){return Rk(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Us)}get(e){return(0,An.D)(this.query.get(e)).pipe(Us)}add(e){return this.ref.add(e)}doc(e){return new bj(this.ref.doc(e),this.afs)}}class bj{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=Cj(i,t);return new vj(r,s,this.afs)}snapshotChanges(){return function RY(n,e){return mj(n,e).pipe(Fs(void 0),pM(),(0,st.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Us)}valueChanges(e={}){return this.snapshotChanges().pipe((0,st.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,An.D)(this.ref.get(e)).pipe(Us)}}class FY{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?uE(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Rn(t=>t.length>0),Us):uE(this.query,this.afs.schedulers.outsideAngular).pipe(Us)}auditTrail(e){return this.stateChanges(e).pipe(xy((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=yj(e);return _j(this.query,t,this.afs.schedulers.outsideAngular).pipe(Us)}valueChanges(e={}){return Rk(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Us)}get(e){return(0,An.D)(this.query.get(e)).pipe(Us)}}const wj=new c.OlP("angularfire2.enableFirestorePersistence"),Dj=new c.OlP("angularfire2.firestore.persistenceSettings"),LY=new c.OlP("angularfire2.firestore.settings"),VY=new c.OlP("angularfire2.firestore.use-emulator");function Cj(n,e=(t=>t)){return{query:e(n),ref:n}}let BY=(()=>{class n{constructor(t,i,r,s,u,h,p,y,C,I,x,N,V,z,se,Me,ge){this.schedulers=p;const Ze=(0,Ha.on)(t,h,i),Se=C;I&&pj(Ze,h,x,V,z,se,N,Me),[this.firestore,this.persistenceEnabled$]=(0,Ha.cc)(`${Ze.name}.firestore`,"AngularFirestore",Ze.name,()=>{const He=h.runOutsideAngular(()=>Ze.firestore());if(s&&He.settings(s),Se&&He.useEmulator(...Se),r&&!il(u)){const Be=()=>{try{return(0,An.D)(He.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(vt){return"undefined"!=typeof console&&console.warn(vt),lt(!1)}};return[He,h.runOutsideAngular(Be)]}return[He,lt(!1)]},[s,Se,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:u}=Cj(r,i),h=this.schedulers.ngZone.run(()=>s);return new vj(h,u,this)}collectionGroup(t,i){const r=i||(u=>u),s=this.firestore.collectionGroup(t);return new FY(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new bj(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ha.Dh),c.LFG(Ha.xv,8),c.LFG(wj,8),c.LFG(LY,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(UD),c.LFG(Dj,8),c.LFG(VY,8),c.LFG(gj,8),c.LFG(lj,8),c.LFG(cj,8),c.LFG(uj,8),c.LFG(dj,8),c.LFG(hj,8),c.LFG(fj,8),c.LFG(cE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UY=(()=>{class n{constructor(){xY.Z.registerVersion("angularfire",BD.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:wj,useValue:!0},{provide:Dj,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[BY]}),n})();const Ej_firebase={projectId:"unicar-c3d27",appId:"1:776079287373:web:a4289b2ce8785eb49b6804",storageBucket:"unicar-c3d27.appspot.com",locationId:"europe-west",apiKey:"AIzaSyB6TLp1k0go6GXol060-dY1kkfk3Fq4_Vo",authDomain:"unicar-c3d27.firebaseapp.com",messagingSenderId:"776079287373",measurementId:"G-Y51FXHQKTR"};L(760);class Tj{constructor(){return fM("auth")}}var $Y={includeMetadataChanges:!1};function Nj(n,e){return void 0===e&&(e={}),function KY(n){return function Lk(n,e){return void 0===e&&(e=$Y),new ii.y(function(t){return{unsubscribe:uk(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}(n,{includeMetadataChanges:!0}).pipe((0,st.U)(function(e){return e.docs}))}(n).pipe((0,st.U)(function(t){return t.map(function(i){return function Sj(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(i,e)})}))}class Zg{constructor(e){return e}}const kj="firestore",Uk=new c.OlP("angularfire2.firestore-instances");function XY(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Zg(i)}}const eZ={provide:class JY{constructor(){return fM(kj)}},deps:[[new c.FiY,Uk]]},tZ={provide:Zg,useFactory:function QY(n,e){const t=function hM(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(u=>u.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(kj,n,e);return t&&new Zg(t)},deps:[[new c.FiY,Uk],Yg]};let nZ=(()=>{class n{constructor(){(0,qt.registerVersion)("angularfire",BD.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[tZ,eZ]}),n})();function iZ(n,...e){return{ngModule:nZ,providers:[{provide:Uk,useFactory:XY(n),multi:!0,deps:[c.R0b,c.zs3,UD,BU,[new c.FiY,Tj],[new c.FiY,cE],...e]}]}}const rZ=jD(Nj,!0),sZ=jD(Iv,!0),oZ=jD(N5,!0),aZ=["*",[["mat-card-footer"]]],lZ=["*","mat-card-footer"];let cZ=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(uu,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:lZ,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(aZ),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),uZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ar],ar]}),n})();var dZ=L(9672);function Rj(n,e,t){n?(0,dZ.f)(t,n,e):e()}function Oj(n){return new ii.y(e=>{(0,vi.Xf)(n()).subscribe(e)})}function Pj(){return(0,Bn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,on.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class fZ extends ii.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Bn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ao.w0;const t=this.getSubject();e.add(this.source.subscribe((0,on.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ao.w0.EMPTY)}return e}refCount(){return Pj()(this)}}function Hk(n){return n<=0?()=>go.E:(0,Bn.e)((e,t)=>{let i=[];e.subscribe((0,on.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}class ic{constructor(e,t){this.id=e,this.url=t}}class Gk extends ic{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fv extends ic{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fj extends ic{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gZ extends ic{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mZ extends ic{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _Z extends ic{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yZ extends ic{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vZ extends ic{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bZ extends ic{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lj{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vj{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wZ{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DZ{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CZ{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EZ{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bj{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zt="primary";class IZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Kg(n){return new IZ(n)}const Uj="ngNavigationCancelingError";function $k(n){const e=Error("NavigationCancelingError: "+n);return e[Uj]=!0,e}function SZ(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function qa(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!jj(n[r],e[r]))return!1;return!0}function jj(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Hj(n){return Array.prototype.concat.apply([],n)}function Gj(n){return n.length>0?n[n.length-1]:null}function vr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ya(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,An.D)(Promise.resolve(n)):lt(n)}const xZ={exact:function Wj(n,e,t){if(!sf(n.segments,e.segments)||!dE(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Wj(n.children[i],e.children[i],t))return!1;return!0},subset:qj},$j={exact:function NZ(n,e){return qa(n,e)},subset:function kZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jj(n[t],e[t]))},ignored:()=>!0};function zj(n,e,t){return xZ[t.paths](n.root,e.root,t.matrixParams)&&$j[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function qj(n,e,t){return Yj(n,e,e.segments,t)}function Yj(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!sf(r,t)||e.hasChildren()||!dE(r,t,i))}if(n.segments.length===t.length){if(!sf(n.segments,t)||!dE(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!qj(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(sf(n.segments,r)&&dE(n.segments,r,i)&&n.children[Zt])&&Yj(n.children[Zt],e,s,i)}}function dE(n,e,t){return e.every((i,r)=>$j[t](n[r].parameters,i.parameters))}class rf{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kg(this.queryParams)),this._queryParamMap}toString(){return PZ.serialize(this)}}class Qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,vr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hE(this)}}class Lv{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Kg(this.parameters)),this._parameterMap}toString(){return Xj(this)}}function sf(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class Zj{}class Kj{parse(e){const t=new $Z(e);return new rf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Vv(e.root,!0)}`,i=function VZ(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${fE(t)}=${fE(r)}`).join("&"):`${fE(t)}=${fE(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function FZ(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const PZ=new Kj;function hE(n){return n.segments.map(e=>Xj(e)).join("/")}function Vv(n,e){if(!n.hasChildren())return hE(n);if(e){const t=n.children[Zt]?Vv(n.children[Zt],!1):"",i=[];return vr(n.children,(r,s)=>{s!==Zt&&i.push(`${s}:${Vv(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function OZ(n,e){let t=[];return vr(n.children,(i,r)=>{r===Zt&&(t=t.concat(e(i,r)))}),vr(n.children,(i,r)=>{r!==Zt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Zt?[Vv(n.children[Zt],!1)]:[`${r}:${Vv(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zt]?`${hE(n)}/${t[0]}`:`${hE(n)}/(${t.join("//")})`}}function Jj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fE(n){return Jj(n).replace(/%3B/gi,";")}function zk(n){return Jj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pE(n){return decodeURIComponent(n)}function Qj(n){return pE(n.replace(/\+/g,"%20"))}function Xj(n){return`${zk(n.path)}${function LZ(n){return Object.keys(n).map(e=>`;${zk(e)}=${zk(n[e])}`).join("")}(n.parameters)}`}const BZ=/^[^\/()?;=#]+/;function gE(n){const e=n.match(BZ);return e?e[0]:""}const UZ=/^[^=?&#]+/,HZ=/^[^&#]+/;class $Z{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Zt]=new Qt(e,t)),i}parseSegment(){const e=gE(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Lv(pE(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=gE(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=gE(this.remaining);r&&(i=r,this.capture(i))}e[pE(t)]=pE(i)}parseQueryParam(e){const t=function jZ(n){const e=n.match(UZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function GZ(n){const e=n.match(HZ);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Qj(t),s=Qj(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=gE(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Zt);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[Zt]:new Qt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class eH{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Wk(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Wk(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qk(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return qk(e,this._root).map(t=>t.value)}}function Wk(n,e){if(n===e.value)return e;for(const t of e.children){const i=Wk(n,t);if(i)return i}return null}function qk(n,e){if(n===e.value)return[e];for(const t of e.children){const i=qk(n,t);if(i.length)return i.unshift(e),i}return[]}class rc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jg(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class tH extends eH{constructor(e,t){super(e),this.snapshot=t,Yk(this,e)}toString(){return this.snapshot.toString()}}function nH(n,e){const t=function zZ(n,e){const u=new mE([],{},{},"",{},Zt,e,null,n.root,-1,{});return new rH("",new rc(u,[]))}(n,e),i=new Nn([new Lv("",{})]),r=new Nn({}),s=new Nn({}),u=new Nn({}),h=new Nn(""),p=new af(i,r,u,h,s,Zt,e,t.root);return p.snapshot=t.root,new tH(new rc(p,[]),t)}class af{constructor(e,t,i,r,s,u,h,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(e=>Kg(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(e=>Kg(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iH(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function WZ(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class mE{constructor(e,t,i,r,s,u,h,p,y,C,I){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=C,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rH extends eH{constructor(e,t){super(t),this.url=e,Yk(this,t)}toString(){return sH(this._root)}}function Yk(n,e){e.value._routerState=n,e.children.forEach(t=>Yk(n,t))}function sH(n){const e=n.children.length>0?` { ${n.children.map(sH).join(", ")} } `:"";return`${n.value}${e}`}function Zk(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,qa(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),qa(e.params,t.params)||n.params.next(t.params),function AZ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!qa(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),qa(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Kk(n,e){const t=qa(n.params,e.params)&&function RZ(n,e){return sf(n,e)&&n.every((t,i)=>qa(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Kk(n.parent,e.parent))}function Bv(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function YZ(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Bv(n,i,r);return Bv(n,i)})}(n,e,t);return new rc(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Bv(n,h)),u}}const i=function ZZ(n){return new af(new Nn(n.url),new Nn(n.params),new Nn(n.queryParams),new Nn(n.fragment),new Nn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Bv(n,s));return new rc(i,r)}}function _E(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Uv(n){return"object"==typeof n&&null!=n&&n.outlets}function Jk(n,e,t,i,r){let s={};if(i&&vr(i,(h,p)=>{s[p]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`}),n===e)return new rf(t,s,r);const u=oH(n,e,t);return new rf(u,s,r)}function oH(n,e,t){const i={};return vr(n.children,(r,s)=>{i[s]=r===e?t:oH(r,e,t)}),new Qt(n.segments,i)}class aH{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&_E(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Uv);if(r&&r!==Gj(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qk{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function lH(n,e,t){if(n||(n=new Qt([],{})),0===n.segments.length&&n.hasChildren())return yE(n,e,t);const i=function tK(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const u=n.segments[r],h=t[i];if(Uv(h))break;const p=`${h}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!uH(p,y,u))return s;i+=2}else{if(!uH(p,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Qt(n.segments.slice(0,i.pathIndex),{});return s.children[Zt]=new Qt(n.segments.slice(i.pathIndex),n.children),yE(s,0,r)}return i.match&&0===r.length?new Qt(n.segments,{}):i.match&&!n.hasChildren()?Xk(n,e,t):i.match?yE(n,0,r):Xk(n,e,t)}function yE(n,e,t){if(0===t.length)return new Qt(n.segments,{});{const i=function eK(n){return Uv(n[0])?n[0].outlets:{[Zt]:n}}(t),r={};return vr(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=lH(n.children[u],e,s))}),vr(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new Qt(n.segments,r)}}function Xk(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Uv(s)){const p=nK(s.outlets);return new Qt(i,p)}if(0===r&&_E(t[0])){i.push(new Lv(n.segments[e].path,cH(t[0]))),r++;continue}const u=Uv(s)?s.outlets[Zt]:`${s}`,h=r<t.length-1?t[r+1]:null;u&&h&&_E(h)?(i.push(new Lv(u,cH(h))),r+=2):(i.push(new Lv(u,{})),r++)}return new Qt(i,{})}function nK(n){const e={};return vr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Xk(new Qt([],{}),0,t))}),e}function cH(n){const e={};return vr(n,(t,i)=>e[i]=`${t}`),e}function uH(n,e,t){return n==t.path&&qa(e,t.parameters)}class rK{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Zk(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Jg(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),vr(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Jg(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Jg(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Jg(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new EZ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new DZ(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Zk(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Zk(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=function sK(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),p=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=p,u.outlet&&u.outlet.activateWith(r,p),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class eR{constructor(e,t){this.routes=e,this.module=t}}function Bu(n){return"function"==typeof n}function lf(n){return n instanceof rf}const jv=Symbol("INITIAL_VALUE");function Hv(){return yr(n=>function jk(...n){const e=(0,es.yG)(n),t=(0,es.jO)(n),{args:i,keys:r}=hd(n);if(0===i.length)return(0,An.D)([],e);const s=new ii.y(function hZ(n,e,t=ss.y){return i=>{Rj(e,()=>{const{length:r}=n,s=new Array(r);let u=r,h=r;for(let p=0;p<r;p++)Rj(e,()=>{const y=(0,An.D)(n[p],e);let C=!1;y.subscribe((0,on.x)(i,I=>{s[p]=I,C||(C=!0,h--),h||i.next(t(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>fd(r,u):ss.y));return t?s.pipe(dl(t)):s}(n.map(e=>e.pipe((0,ui.q)(1),Fs(jv)))).pipe(xy((e,t)=>{let i=!1;return t.reduce((r,s,u)=>r!==jv?r:(s===jv&&(i=!0),i||!1!==s&&u!==t.length-1&&!lf(s)?r:s),e)},jv),Rn(e=>e!==jv),(0,st.U)(e=>lf(e)?e:!0===e),(0,ui.q)(1)))}class dK{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Gv,this.attachRef=null}}class Gv{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new dK,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let tR=(()=>{class n{constructor(t,i,r,s,u){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=s||Zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,p=new hK(t,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Gv),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class hK{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===af?this.route:e===Gv?this.childContexts:this.parent.get(e,t)}}let dH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},directives:[tR],encapsulation:2}),n})();function hH(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];fK(i,pK(e,i))}}function fK(n,e){n.children&&hH(n.children,e)}function pK(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function nR(n){const e=n.children&&n.children.map(nR),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Zt&&(t.component=dH),t}function Do(n){return n.outlet||Zt}function fH(n,e){const t=n.filter(i=>Do(i)===e);return t.push(...n.filter(i=>Do(i)!==e)),t}const pH={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vE(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},pH):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||SZ)(t,n,e);if(!s)return Object.assign({},pH);const u={};vr(s.posParams,(p,y)=>{u[y]=p.path});const h=s.consumed.length>0?Object.assign(Object.assign({},u),s.consumed[s.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function bE(n,e,t,i,r="corrected"){if(t.length>0&&function _K(n,e,t){return t.some(i=>wE(n,e,i)&&Do(i)!==Zt)}(n,t,i)){const u=new Qt(e,function mK(n,e,t,i){const r={};r[Zt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Do(s)!==Zt){const u=new Qt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Do(s)]=u}return r}(n,e,i,new Qt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function yK(n,e,t){return t.some(i=>wE(n,e,i))}(n,t,i)){const u=new Qt(n.segments,function gK(n,e,t,i,r,s){const u={};for(const h of i)if(wE(n,t,h)&&!r[Do(h)]){const p=new Qt([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,u[Do(h)]=p}return Object.assign(Object.assign({},r),u)}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new Qt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function wE(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function gH(n,e,t,i){return!!(Do(n)===i||i!==Zt&&wE(e,t,n))&&("**"===n.path||vE(e,n,t).matched)}function mH(n,e,t){return 0===e.length&&!n.children[t]}class DE{constructor(e){this.segmentGroup=e||null}}class _H{constructor(e){this.urlTree=e}}function $v(n){return sh(new DE(n))}function yH(n){return sh(new _H(n))}function vK(n){return sh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class DK{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=bE(this.urlTree.root,[],[],this.config).segmentGroup,t=new Qt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Zt).pipe((0,st.U)(s=>this.createUrlTree(iR(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ls(s=>{if(s instanceof _H)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof DE?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Zt).pipe((0,st.U)(r=>this.createUrlTree(iR(r),e.queryParams,e.fragment))).pipe(Ls(r=>{throw r instanceof DE?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new Qt([],{[Zt]:e}):e;return new rf(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,st.U)(s=>new Qt([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,An.D)(r).pipe(Ba(s=>{const u=i.children[s],h=fH(t,s);return this.expandSegmentGroup(e,h,u,s).pipe((0,st.U)(p=>({segment:p,outlet:s})))}),xy((s,u)=>(s[u.outlet]=u.segment,s),{}),function pZ(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Rn((r,s)=>n(r,s,i)):ss.y,Hk(1),t?FU(e):LU(()=>new tE))}())}expandSegment(e,t,i,r,s,u){return(0,An.D)(i).pipe(Ba(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,s,u).pipe(Ls(y=>{if(y instanceof DE)return lt(null);throw y}))),nf(h=>!!h),Ls((h,p)=>{if(h instanceof tE||"EmptyError"===h.name)return mH(t,r,s)?lt(new Qt([],{})):$v(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,s,u,h){return gH(r,t,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u):$v(t):$v(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?yH(s):this.lineralizeSegments(i,s).pipe((0,Di.z)(u=>{const h=new Qt(u,{});return this.expandSegment(e,h,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:C}=vE(t,r,s);if(!h)return $v(t);const I=this.applyRedirectCommands(p,r.redirectTo,C);return r.redirectTo.startsWith("/")?yH(I):this.lineralizeSegments(r,I).pipe((0,Di.z)(x=>this.expandSegment(e,t,i,x.concat(y),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?lt(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,st.U)(I=>(i._loadedConfig=I,new Qt(r,{})))):lt(new Qt(r,{}));const{matched:u,consumedSegments:h,remainingSegments:p}=vE(t,i,r);return u?this.getChildConfig(e,i,r).pipe((0,Di.z)(C=>{const I=C.module,x=C.routes,{segmentGroup:N,slicedSegments:V}=bE(t,h,p,x),z=new Qt(N.segments,N.children);if(0===V.length&&z.hasChildren())return this.expandChildren(I,x,z).pipe((0,st.U)(Ze=>new Qt(h,Ze)));if(0===x.length&&0===V.length)return lt(new Qt(h,{}));const se=Do(i)===s;return this.expandSegment(I,z,x,V,se?Zt:s,!0).pipe((0,st.U)(ge=>new Qt(h.concat(ge.segments),ge.children)))})):$v(t)}getChildConfig(e,t,i){return t.children?lt(new eR(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?lt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,Di.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,st.U)(s=>(t._loadedConfig=s,s))):function bK(n){return sh($k(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):lt(new eR([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;if(!r||0===r.length)return lt(!0);const s=r.map(u=>{const h=e.get(u);let p;if(function aK(n){return n&&Bu(n.canLoad)}(h))p=h.canLoad(t,i);else{if(!Bu(h))throw new Error("Invalid CanLoad guard");p=h(t,i)}return Ya(p)});return lt(s).pipe(Hv(),di(u=>{if(!lf(u))return;const h=$k(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,st.U)(u=>!0===u))}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return lt(i);if(r.numberOfChildren>1||!r.children[Zt])return vK(e.redirectTo);r=r.children[Zt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new rf(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return vr(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=t[h]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let u={};return vr(t.children,(h,p)=>{u[p]=this.createSegmentGroup(e,h,i,r)}),new Qt(s,u)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function iR(n){const e={};for(const i of Object.keys(n.children)){const s=iR(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function CK(n){if(1===n.numberOfChildren&&n.children[Zt]){const e=n.children[Zt];return new Qt(n.segments.concat(e.segments),e.children)}return n}(new Qt(n.segments,e))}class vH{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class CE{constructor(e,t){this.component=e,this.route=t}}function IK(n,e,t){const i=n._root;return zv(i,e?e._root:null,t,[i.value])}function EE(n,e,t){const i=function SK(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function zv(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Jg(e);return n.children.forEach(u=>{(function AK(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const p=function MK(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!sf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!sf(n.url,e.url)||!qa(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kk(n,e)||!qa(n.queryParams,e.queryParams);default:return!Kk(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new vH(i)):(s.data=u.data,s._resolvedData=u._resolvedData),zv(n,e,s.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new CE(h.outlet.component,u))}else u&&Wv(e,h,r),r.canActivateChecks.push(new vH(i)),zv(n,null,s.component?h?h.children:null:t,i,r)})(u,s[u.value.outlet],t,i.concat([u.value]),r),delete s[u.value.outlet]}),vr(s,(u,h)=>Wv(u,t.getContext(h),r)),r}function Wv(n,e,t){const i=Jg(n),r=n.value;vr(i,(s,u)=>{Wv(s,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new CE(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class VK{}function bH(n){return new ii.y(e=>e.error(n))}class UK{constructor(e,t,i,r,s,u){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=u}recognize(){const e=bE(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Zt);if(null===t)return null;const i=new mE([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new rc(i,t),s=new rH(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=iH(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const u=t.children[s],h=fH(e,s),p=this.processSegmentGroup(h,u,s);if(null===p)return null;i.push(...p)}const r=wH(i);return function jK(n){n.sort((e,t)=>e.value.outlet===Zt?-1:t.value.outlet===Zt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const u=this.processSegmentAgainstRoute(s,t,i,r);if(null!==u)return u}return mH(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!gH(e,t,i,r))return null;let s,u=[],h=[];if("**"===e.path){const N=i.length>0?Gj(i).parameters:{};s=new mE(i,N,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,EH(e),Do(e),e.component,e,DH(t),CH(t)+i.length,IH(e))}else{const N=vE(t,e,i);if(!N.matched)return null;u=N.consumedSegments,h=N.remainingSegments,s=new mE(u,N.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,EH(e),Do(e),e.component,e,DH(t),CH(t)+u.length,IH(e))}const p=function HK(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:y,slicedSegments:C}=bE(t,u,h,p.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);if(0===C.length&&y.hasChildren()){const N=this.processChildren(p,y);return null===N?null:[new rc(s,N)]}if(0===p.length&&0===C.length)return[new rc(s,[])];const I=Do(e)===r,x=this.processSegment(p,y,C,I?Zt:r);return null===x?null:[new rc(s,x)]}}function GK(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wH(n){const e=[],t=new Set;for(const i of n){if(!GK(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=wH(i.children);e.push(new rc(i.value,r))}return e.filter(i=>!t.has(i))}function DH(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function CH(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function EH(n){return n.data||{}}function IH(n){return n.resolve||{}}function TH(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rR(n){return yr(e=>{const t=n(e);return t?(0,An.D)(t).pipe((0,st.U)(()=>e)):lt(e)})}class JK extends class KK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const sR=new c.OlP("ROUTES");class SH{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,st.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=s.create(e);return new eR(Hj(u.injector.get(sR,void 0,c.XFs.Self|c.XFs.Optional)).map(nR),u)}),Ls(s=>{throw t._loader$=void 0,s}));return t._loader$=new fZ(r,()=>new Lt.x).pipe(Pj()),t._loader$}loadModuleFactory(e){return Ya(e()).pipe((0,Di.z)(t=>t instanceof c.YKP?lt(t):(0,An.D)(this.compiler.compileModuleAsync(t))))}}class XK{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function e7(n){throw n}function t7(n,e,t){return e.parse("/")}function AH(n,e){return lt(null)}const n7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},r7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qr=(()=>{class n{constructor(t,i,r,s,u,h,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Lt.x,this.errorHandler=e7,this.malformedUriErrorHandler=t7,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:AH,afterPreactivation:AH},this.urlHandlingStrategy=new XK,this.routeReuseStrategy=new JK,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const I=u.get(c.R0b);this.isNgZoneEnabled=I instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function MZ(){return new rf(new Qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new SH(u,h,x=>this.triggerEvent(new Lj(x)),x=>this.triggerEvent(new Vj(x))),this.routerState=nH(this.currentUrlTree,this.rootComponentType),this.transitions=new Nn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Rn(r=>0!==r.id),(0,st.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),yr(r=>{let s=!1,u=!1;return lt(r).pipe(di(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yr(h=>{const p=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return MH(h.source)&&(this.browserUrlTree=h.extractedUrl),lt(h).pipe(yr(I=>{const x=this.transitions.getValue();return i.next(new Gk(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),x!==this.transitions.getValue()?go.E:Promise.resolve(I)}),function EK(n,e,t,i){return yr(r=>function wK(n,e,t,i,r){return new DK(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,st.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),di(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function $K(n,e,t,i,r){return(0,Di.z)(s=>function BK(n,e,t,i,r="emptyOnly",s="legacy"){try{const u=new UK(n,e,t,i,r,s).recognize();return null===u?bH(new VK):lt(u)}catch(u){return bH(u)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe((0,st.U)(u=>Object.assign(Object.assign({},s),{targetSnapshot:u}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),di(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(N,I)}this.browserUrlTree=I.urlAfterRedirects}const x=new mZ(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(x)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:N,source:V,restoredState:z,extras:se}=h,Me=new Gk(x,this.serializeUrl(N),V,z);i.next(Me);const ge=nH(N,this.rootComponentType).snapshot;return lt(Object.assign(Object.assign({},h),{targetSnapshot:ge,urlAfterRedirects:N,extras:Object.assign(Object.assign({},se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),go.E}),rR(h=>{const{targetSnapshot:p,id:y,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:x,replaceUrl:N}}=h;return this.hooks.beforePreactivation(p,{navigationId:y,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!x,replaceUrl:!!N})}),di(h=>{const p=new _Z(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,st.U)(h=>Object.assign(Object.assign({},h),{guards:IK(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function xK(n,e){return(0,Di.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?lt(Object.assign(Object.assign({},t),{guardsResult:!0})):function NK(n,e,t,i){return(0,An.D)(n).pipe((0,Di.z)(r=>function LK(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?lt(s.map(h=>{const p=EE(h,e,r);let y;if(function uK(n){return n&&Bu(n.canDeactivate)}(p))y=Ya(p.canDeactivate(n,e,t,i));else{if(!Bu(p))throw new Error("Invalid CanDeactivate guard");y=Ya(p(n,e,t,i))}return y.pipe(nf())})).pipe(Hv()):lt(!0)}(r.component,r.route,t,e,i)),nf(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Di.z)(h=>h&&function oK(n){return"boolean"==typeof n}(h)?function kK(n,e,t,i){return(0,An.D)(e).pipe(Ba(r=>fu(function OK(n,e){return null!==n&&e&&e(new wZ(n)),lt(!0)}(r.route.parent,i),function RK(n,e){return null!==n&&e&&e(new CZ(n)),lt(!0)}(r.route,i),function FK(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function TK(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Oj(()=>lt(u.guards.map(p=>{const y=EE(p,u.node,t);let C;if(function cK(n){return n&&Bu(n.canActivateChild)}(y))C=Ya(y.canActivateChild(i,n));else{if(!Bu(y))throw new Error("Invalid CanActivateChild guard");C=Ya(y(i,n))}return C.pipe(nf())})).pipe(Hv())));return lt(s).pipe(Hv())}(n,r.path,t),function PK(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return lt(!0);const r=i.map(s=>Oj(()=>{const u=EE(s,e,t);let h;if(function lK(n){return n&&Bu(n.canActivate)}(u))h=Ya(u.canActivate(e,n));else{if(!Bu(u))throw new Error("Invalid CanActivate guard");h=Ya(u(e,n))}return h.pipe(nf())}));return lt(r).pipe(Hv())}(n,r.route,t))),nf(r=>!0!==r,!0))}(i,s,n,e):lt(h)),(0,st.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),di(h=>{if(lf(h.guardsResult)){const y=$k(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw y.url=h.guardsResult,y}const p=new yZ(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),Rn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),rR(h=>{if(h.guards.canActivateChecks.length)return lt(h).pipe(di(p=>{const y=new vZ(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),yr(p=>{let y=!1;return lt(p).pipe(function zK(n,e){return(0,Di.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return lt(t);let s=0;return(0,An.D)(r).pipe(Ba(u=>function WK(n,e,t,i){return function qK(n,e,t,i){const r=TH(n);if(0===r.length)return lt({});const s={};return(0,An.D)(r).pipe((0,Di.z)(u=>function YK(n,e,t,i){const r=EE(n,e,i);return Ya(r.resolve?r.resolve(e,t):r(e,t))}(n[u],e,t,i).pipe(di(h=>{s[u]=h}))),Hk(1),(0,Di.z)(()=>TH(s).length===r.length?lt(s):go.E))}(n._resolve,n,e,i).pipe((0,st.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),iH(n,t).resolve),null)))}(u.route,i,n,e)),di(()=>s++),Hk(1),(0,Di.z)(u=>s===r.length?lt(t):go.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),di({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),di(p=>{const y=new bZ(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),rR(h=>{const{targetSnapshot:p,id:y,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:x,replaceUrl:N}}=h;return this.hooks.afterPreactivation(p,{navigationId:y,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!x,replaceUrl:!!N})}),(0,st.U)(h=>{const p=function qZ(n,e,t){const i=Bv(n,e._root,t?t._root:void 0);return new tH(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:p})}),di(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,st.U)(i=>(new rK(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),di({next(){s=!0},complete(){s=!0}}),Zp(()=>{var h;s||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),Ls(h=>{if(u=!0,function TZ(n){return n&&n[Uj]}(h)){const p=lf(h.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const y=new Fj(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(y),p?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||MH(r.source)};this.scheduleNavigation(C,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new gZ(r.id,this.serializeUrl(r.extractedUrl),h);i.next(p);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return go.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},u=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(u){const p=Object.assign({},u);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,i,u,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hH(t),this.config=t.map(nR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:p}=i,y=r||this.routerState.root,C=p?this.currentUrlTree.fragment:u;let I=null;switch(h){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}return null!==I&&(I=this.removeEmptyProps(I)),function KZ(n,e,t,i,r){if(0===t.length)return Jk(e.root,e.root,e.root,i,r);const s=function JZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new aH(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return vr(s.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new aH(t,e,i)}(t);if(s.toRoot())return Jk(e.root,e.root,new Qt([],{}),i,r);const u=function QZ(n,e,t){if(n.isAbsolute)return new Qk(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Qk(s,s===e.root,0)}const i=_E(n.commands[0])?0:1;return function XZ(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Qk(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),h=u.processChildren?yE(u.segmentGroup,u.index,s.commands):lH(u.segmentGroup,u.index,s.commands);return Jk(e.root,u.segmentGroup,h,i,r)}(y,this.currentUrlTree,t,I,null!=C?C:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=lf(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function s7(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},n7):!1===i?Object.assign({},r7):i,lf(t))return zj(this.currentUrlTree,t,r);const s=this.parseUrl(t);return zj(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Fv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,u){var h,p;if(this.disposed)return Promise.resolve(!1);let y,C,I;u?(y=u.resolve,C=u.reject,I=u.promise):I=new Promise((V,z)=>{y=V,C=z});const x=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),N=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):N=0,this.setTransition({id:x,targetPageId:N,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:y,reject:C,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(V=>Promise.reject(V))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new Fj(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function MH(n){return"imperative"!==n}class xH{}class NH{preload(e,t){return lt(null)}}let kH=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new SH(r,i,p=>t.triggerEvent(new Lj(p)),p=>t.triggerEvent(new Vj(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(Rn(t=>t instanceof Fv),Ba(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const u=s._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return(0,An.D)(r).pipe((0,Hp.J)(),(0,st.U)(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?lt(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,Di.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qr),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(xH))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),lR=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gk?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fv&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Bj&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Bj(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const cf=new c.OlP("ROUTER_CONFIGURATION"),RH=new c.OlP("ROUTER_FORROOT_GUARD"),c7=[be,{provide:Zj,useClass:Kj},{provide:qr,useFactory:function p7(n,e,t,i,r,s,u={},h,p){const y=new qr(null,n,e,t,i,r,Hj(s));return h&&(y.urlHandlingStrategy=h),p&&(y.routeReuseStrategy=p),function g7(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,y),u.enableTracing&&y.events.subscribe(C=>{var I,x;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${C.constructor.name}`),console.log(C.toString()),console.log(C),null===(x=console.groupEnd)||void 0===x||x.call(console)}),y},deps:[Zj,Gv,be,c.zs3,c.Sil,sR,cf,[class QK{},new c.FiY],[class ZK{},new c.FiY]]},Gv,{provide:af,useFactory:function m7(n){return n.routerState.root},deps:[qr]},kH,NH,class l7{preload(e,t){return t().pipe(Ls(()=>lt(null)))}},{provide:cf,useValue:{enableTracing:!1}}];function u7(){return new c.PXZ("Router",qr)}let OH=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[c7,PH(t),{provide:RH,useFactory:f7,deps:[[qr,new c.FiY,new c.tp0]]},{provide:cf,useValue:i||{}},{provide:te,useFactory:h7,deps:[me,[new c.tBr(Je),new c.FiY],cf]},{provide:lR,useFactory:d7,deps:[qr,If,cf]},{provide:xH,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:NH},{provide:c.PXZ,multi:!0,useFactory:u7},[cR,{provide:c.ip1,multi:!0,useFactory:_7,deps:[cR]},{provide:FH,useFactory:y7,deps:[cR]},{provide:c.tb,multi:!0,useExisting:FH}]]}}static forChild(t){return{ngModule:n,providers:[PH(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(RH,8),c.LFG(qr,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function d7(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new lR(n,e,t)}function h7(n,e,t={}){return t.useHash?new Ae(n,e):new $e(n,e)}function f7(n){return"guarded"}function PH(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:sR,multi:!0,useValue:n}]}let cR=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Lt.x}appInitializer(){return this.injector.get(W,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),s=this.injector.get(qr),u=this.injector.get(cf);return"disabled"===u.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?lt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(cf),r=this.injector.get(kH),s=this.injector.get(lR),u=this.injector.get(qr),h=this.injector.get(c.z2F);t===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),s.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function _7(n){return n.appInitializer.bind(n)}function y7(n){return n.bootstrapListener.bind(n)}const FH=new c.OlP("Router Initializer");let b7=(()=>{class n{constructor(){this.title="UniCar"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},directives:[tR],styles:[""]}),n})();const{isArray:w7}=Array;function LH(n){return 1===n.length&&w7(n[0])?n[0]:n}function IE(...n){const e=(0,es.jO)(n),t=LH(n);return t.length?new ii.y(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let u=0;!i.closed&&u<t.length;u++)(0,vi.Xf)(t[u]).subscribe((0,on.x)(i,h=>{if(r[u].push(h),r.every(p=>p.length)){const p=r.map(y=>y.shift());i.next(e?e(...p):p),r.some((y,C)=>!y.length&&s[C])&&i.complete()}},()=>{s[u]=!0,!r[u].length&&i.complete()}));return()=>{r=s=null}}):go.E}function uR(...n){const e=(0,es.jO)(n);return(0,Bn.e)((t,i)=>{const r=n.length,s=new Array(r);let u=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,vi.Xf)(n[p]).subscribe((0,on.x)(i,y=>{s[p]=y,!h&&!u[p]&&(u[p]=!0,(h=u.every(ss.y))&&(u=null))},lp.Z));t.subscribe((0,on.x)(i,p=>{if(h){const y=[p,...s];i.next(e?e(...y):y)}}))})}new ii.y(lp.Z),Math,Math,Math;const F9=["*"],eJ=["dialog"];function OJ(n,e){1&n&&c._uU(0),2&n&&c.Oqu(100===e.fill?"\u2605":"\u2606")}function PJ(n,e){}function FJ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"span",2),c._uU(1),c.qZA(),c.TgZ(2,"span",3),c.NdJ("mouseenter",function(){const s=c.CHM(t).index;return c.oxw().enter(s+1)})("click",function(){const s=c.CHM(t).index;return c.oxw().handleClick(s+1)}),c.YNc(3,PJ,0,0,"ng-template",4),c.qZA()}if(2&n){const t=e.index,i=c.oxw(),r=c.MAs(1);c.xp6(1),c.hij("(",t<i.nextRate?"*":" ",")"),c.xp6(1),c.Udp("cursor",i.isInteractive()?"pointer":"default"),c.xp6(1),c.Q6J("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||r)("ngTemplateOutletContext",i.contexts[t])}}function wR(n,e,t=0){return Math.max(Math.min(n,e),t)}function df(n){return null!=n}function rm(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const n3={animation:!0,transitionTimerDelayMs:5},KJ=()=>{},{transitionTimerDelayMs:JJ}=n3,Xv=new Map,Yr=(n,e,t,i)=>{let r=i.context||{};const s=Xv.get(e);if(s)switch(i.runningTransition){case"continue":return go.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Xv.delete(e)}const u=t(e,i.animation,r)||KJ;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),lt(void 0).pipe(function YJ(n){return e=>new ii.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new Lt.x,p=new Lt.x,y=h.pipe(function C7(...n){return e=>fu(e,lt(...n))}(!0));Xv.set(e,{transition$:h,complete:()=>{p.next(),p.complete()},context:r});const C=function ZJ(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const I=Ri(e,"transitionend").pipe(Cn(y),Rn(({target:N})=>N===e));(function VH(...n){return 1===(n=LH(n)).length?(0,vi.Xf)(n[0]):new ii.y(function D7(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,vi.Xf)(n[i]).subscribe((0,on.x)(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))})(_u(C+JJ).pipe(Cn(y)),I,p).pipe(Cn(y)).subscribe(()=>{Xv.delete(e),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()};let NE=(()=>{class n{constructor(){this.animation=n3.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_i]]}),n})(),u3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_i]]}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),g3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_i]]}),n})(),m3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var Pn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Pn||(Pn={})),Pn))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const y3=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function v3(n){const e=Array.from(n.querySelectorAll(y3)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let S3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_i,jc]]}),n})(),N3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class gf{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let HQ=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ui.q)(1)).subscribe(()=>{Yr(this._zone,this._el.nativeElement,(t,i)=>{i&&rm(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Yr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(c.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),c.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class k3{close(e){}dismiss(e){}}class GQ{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Lt.x,this._dismissed=new Lt.x,this._hidden=new Lt.x,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,u)=>{this._resolve=s,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Cn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Cn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function WJ(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():lt(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),IE(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var r0=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(r0||(r0={})),r0))();let $Q=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new Lt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new Lt.x,this.hidden=new Lt.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ui.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=IE(Yr(this._zone,t,()=>t.classList.remove("show"),i),Yr(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};IE(Yr(this._zone,this._elRef.nativeElement,(s,u)=>{u&&rm(s),s.classList.add("show")},t),Yr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Ri(t,"keydown").pipe(Cn(this._closed$),Rn(r=>r.which===Pn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(r0.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Ri(this._dialogEl.nativeElement,"mousedown").pipe(Cn(this._closed$),di(()=>i=!1),yr(()=>Ri(t,"mouseup").pipe(Cn(this._closed$),(0,ui.q)(1))),Rn(({target:r})=>t===r)).subscribe(()=>{i=!0}),Ri(t,"click").pipe(Cn(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(r0.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=v3(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Yr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(fe),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&c.Gf(eJ,7),2&t){let r;c.iGM(r=c.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),c.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),c.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:F9,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&t&&c.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),zQ=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:u}=r;if(t>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=u),r.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WQ=(()=>{class n{constructor(t,i,r,s,u,h){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=u,this._ngZone=h,this._activeWindowCmptHasChanged=new Lt.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const p=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Ri(e,"focusin").pipe(Cn(t),(0,st.U)(s=>s.target));Ri(e,"keydown").pipe(Cn(t),Rn(s=>s.which===Pn.Tab),uR(r)).subscribe(([s,u])=>{const[h,p]=v3(e);(u===h||u===e)&&s.shiftKey&&(p.focus(),s.preventDefault()),u===p&&!s.shiftKey&&(h.focus(),s.preventDefault())}),i&&Ri(e,"click").pipe(Cn(t),uR(r),(0,st.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,p.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(p.location.nativeElement)}})}open(t,i,r,s){const u=s.container instanceof HTMLElement?s.container:df(s.container)?this._document.querySelector(s.container):this._document.body,h=this._rendererFactory.createRenderer(null,null),p=this._scrollBar.hide(),y=()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!u)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const C=new k3,I=this._getContentRef(t,s.injector||i,r,C,s);let x=!1!==s.backdrop?this._attachBackdrop(t,u):void 0,N=this._attachWindowComponent(t,u,I),V=new GQ(N,I,x,s.beforeDismiss);return this._registerModalRef(V),this._registerWindowCmpt(N),V.result.then(p,p),V.result.then(y,y),C.close=z=>{V.close(z)},C.dismiss=z=>{V.dismiss(z)},this._applyWindowOptions(N.instance,s),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),x&&x.instance&&(this._applyBackdropOptions(x.instance,s),x.changeDetectorRef.detectChanges()),N.changeDetectorRef.detectChanges(),V}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,i){let s=t.resolveComponentFactory(HQ).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(t,i,r){let u=t.resolveComponentFactory($Q).create(this._injector,r.nodes);return this._applicationRef.attachView(u.hostView),i.appendChild(u.location.nativeElement),u}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{df(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{df(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,s,u){return r?r instanceof c.Rgc?this._createFromTemplateRef(r,s):function t3(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(t,i,r,s,u):new gf([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(s),new gf([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new gf([[i]])}_createFromComponent(t,i,r,s,u){const h=t.resolveComponentFactory(r),p=c.zs3.create({providers:[{provide:k3,useValue:s}],parent:i}),y=h.create(p),C=y.location.nativeElement;return u.scrollable&&C.classList.add("component-host-scrollable"),this._applicationRef.attachView(y.hostView),new gf([[C]],y.hostView,y)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(fe),c.LFG(zQ),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qQ=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(NE))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YQ=(()=>{class n{constructor(t,i,r,s){this._moduleCFR=t,this._injector=i,this._modalStack=r,this._config=s}open(t,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(WQ),c.LFG(qQ))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[YQ]}),n})(),L3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_i]]}),n})(),z3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_i]]}),n})(),q3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_i]]}),n})(),Y3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_i]]}),n})(),sX=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oX=(()=>{class n{constructor(t,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new c.vpe,this.leave=new c.vpe,this.rateChange=new c.vpe(!0),this.onChange=r=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case Pn.ArrowDown:case Pn.ArrowLeft:this.update(this.rate-1);break;case Pn.ArrowUp:case Pn.ArrowRight:this.update(this.rate+1);break;case Pn.Home:this.update(0);break;case Pn.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(t,i)=>({fill:0,index:i})),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,i=!0){const r=wR(t,this.max,0);this.isInteractive()&&this.rate!==r&&(this.rate=r,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((i,r)=>i.fill=Math.round(100*wR(t-r,1,0)))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(sX),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,c.Rgc,5),2&t){let s;c.iGM(s=c.CRH())&&(i.starTemplateFromContent=s.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,i){1&t&&c.NdJ("blur",function(){return i.handleBlur()})("keydown",function(s){return i.handleKeyDown(s)})("mouseleave",function(){return i.reset()}),2&t&&(c.Ikx("tabindex",i.disabled?-1:0),c.uIk("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText())("aria-disabled",!!i.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[c._Bn([{provide:Zn,useExisting:(0,c.Gpc)(()=>n),multi:!0}]),c.TTD],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(c.YNc(0,OJ,1,1,"ng-template",null,0,c.W1O),c.YNc(2,FJ,4,5,"ng-template",1)),2&t&&(c.xp6(2),c.Q6J("ngForOf",i.contexts))},directives:[Tn,_s],encapsulation:2,changeDetection:0}),n})(),Z3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_i]]}),n})(),K3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_i]]}),n})(),J3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_i]]}),n})(),Q3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function cX(){return 100}});let X3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_i]]}),n})();const uX=[c3,u3,h3,g3,m3,S3,N3,R3,L3,z3,q3,Y3,Z3,K3,J3,Q3,X3];let dX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[uX,c3,u3,h3,g3,m3,S3,N3,R3,L3,z3,q3,Y3,Z3,K3,J3,Q3,X3]}),n})(),hX=(()=>{class n{constructor(t){this.firestore=t,this.trips$=rZ(sZ(this.firestore,"trips"))}read(t){const i=Tv(this.firestore,"trips/"+t);return console.log("trips/"+t),EU(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Zg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fX=(()=>{class n{constructor(t,i){this.showViaje=t,this.router=i,this.viaje={nameDriver:"",date:"",origin:"",destination:"",hour:"",model_car:"",brand_car:"",colour_car:"",seats:0,price:0},this.rate=2.5,this.showViaje.read(this.router.snapshot.params.id).then(s=>{if(console.log(s.data()),null!=s.data())return this.viaje=s.data(),!0;console.log("Not Found")}).catch(s=>{console.log(s),alert(s.message)})}unirse(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hX),c.Y36(af))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-show-viaje"]],decls:54,vars:8,consts:[[1,"header"],["src","./../../assets/logo_unicar.png","width","100","height","70"],["mat-button","","color","primary"],["matSuffix",""],[1,"container"],[1,"card"],[1,"origen"],[1,"precio"],["id","secondCard",1,"card"],[1,"usuario"],["id","icon"],[1,"coche"],[1,"brandCar"],[1,"colourCar"],[1,"seatsCar"],[1,"boton"],["mat-raised-button","",1,"unirseBoton",3,"click"],[1,"footer"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"mat-toolbar"),c._UZ(2,"img",1),c.TgZ(3,"button",2),c._uU(4," Mi perfil "),c.TgZ(5,"mat-icon",3),c._uU(6,"person_outline"),c.qZA()()()(),c.TgZ(7,"div",4)(8,"mat-card",5)(9,"div",6)(10,"h1"),c._uU(11),c.qZA(),c.TgZ(12,"h1"),c._uU(13),c.qZA(),c.TgZ(14,"mat-icon"),c._uU(15,"arrow_downward"),c.qZA(),c.TgZ(16,"h1"),c._uU(17),c.qZA(),c.TgZ(18,"h1"),c._uU(19),c.qZA()()(),c._UZ(20,"div",7),c.TgZ(21,"mat-card",8)(22,"div",9)(23,"h1"),c._uU(24),c.qZA(),c._UZ(25,"ngb-rating"),c.qZA(),c.TgZ(26,"div",10)(27,"mat-icon"),c._uU(28,"account_circle"),c.qZA()()(),c.TgZ(29,"mat-card",5)(30,"div",11)(31,"h2",12),c._uU(32),c.qZA(),c.TgZ(33,"h2",13),c._uU(34),c.qZA(),c.TgZ(35,"mat-icon"),c._uU(36,"directions_car"),c.qZA(),c.TgZ(37,"h2",14),c._uU(38),c.qZA()()(),c.TgZ(39,"div",15)(40,"button",16),c.NdJ("click",function(){return i.unirse()}),c._uU(41," Unirse/Gestionar "),c.qZA()()(),c.TgZ(42,"div",17)(43,"mat-toolbar")(44,"p"),c._uU(45," Unicar es una organizaci\xf3n que nace con el objetivo de"),c._UZ(46,"br"),c._uU(47," reducir la huella de carbono de muchas persona "),c._UZ(48,"br"),c._uU(49," que se dirijen a la universidad con el coche vacio y "),c._UZ(50,"br"),c._uU(51," que nos les importaria compartirlo "),c.qZA(),c.TgZ(52,"h2"),c._uU(53,"UniCar"),c.qZA()()()),2&t&&(c.xp6(11),c.Oqu(i.viaje.origin),c.xp6(2),c.Oqu(i.viaje.date),c.xp6(4),c.Oqu(i.viaje.destination),c.xp6(2),c.Oqu(i.viaje.date),c.xp6(5),c.Oqu(i.viaje.nameDriver),c.xp6(8),c.Oqu(i.viaje.brand_car),c.xp6(2),c.Oqu(i.viaje.colour_car),c.xp6(4),c.hij("Asiento libres: ",i.viaje.seats,""))},directives:[ng,Yp,ly,J_,cZ,oX],styles:[".container[_ngcontent-%COMP%]{padding-bottom:3%}.card[_ngcontent-%COMP%]{margin:3%}#secondCard[_ngcontent-%COMP%]{display:flex;flex-direction:row}.usuario[_ngcontent-%COMP%]{display:flex;flex-direction:column}#icon[_ngcontent-%COMP%]{padding-left:5%}#icon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{margin:auto;font-size:50px}.boton[_ngcontent-%COMP%]{display:flex}.unirseBoton[_ngcontent-%COMP%]{margin:auto;background-color:#4db6ac;color:#fff}.header[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{text-align:center;background:#009688;font-size:20px;padding:20px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:550px}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:500px;color:#fff}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:550px}.footer[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{text-align:center;background:#009688;font-size:10px;padding:40px;line-height:100%}.footer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:300px}"]}),n})();class eG{}let pX=(()=>{class n{constructor(t,i){this.router=i,this.db=t}create(t){var i=this;return(0,Y.Z)(function*(){const r=Iv(i.db,"trips"),s=ck(r,JSON.parse(JSON.stringify(t)));let u="";return Nj(r,{idField:"id"}),yield s.then(function(p){return u=p.id,p.id}),i.router.navigate(["viaje/"+u]),u})()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Zg),c.LFG(qr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gX=(()=>{class n{constructor(t){this.viajeService=t,this.inputControl=new Md,this.trip=new eG,this.submitted=!1,this.value=""}ngOnInit(){this.inputControl=new Md}saveTrip(){this.viajeService.create(this.trip)}newTrip(){this.submitted=!1,this.trip=new eG}clearValue(){this.value=""}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(pX))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-viaje"]],decls:74,vars:21,consts:[[1,"header"],["src","./assets/logo_unicar.jpg","width","100","height","70"],["mat-button","","color","primary"],["matSuffix",""],[1,"viaje-uno"],["appearance","fill"],["matInput","","type","text","placeholder","Nombre",3,"value","ngModel","formControl","ngModelChange"],[1,"viaje-dos"],["matInput","","type","text","placeholder","Origen",3,"ngModel","formControl","ngModelChange"],["matInput","","type","text","placeholder","Destino",3,"ngModel","formControl","ngModelChange"],["matInput","","type","text","placeholder","Fecha",3,"ngModel","formControl","ngModelChange"],["matInput","","type","text","placeholder","Hora",3,"ngModel","formControl","ngModelChange"],[1,"viaje-tres"],["matInput","","type","text","placeholder","Modelo Coche",3,"ngModel","formControl","ngModelChange"],["matInput","","type","text","placeholder","Marca Coche",3,"ngModel","formControl","ngModelChange"],["matInput","","type","text","placeholder","Color Coche",3,"ngModel","formControl","ngModelChange"],["matInput","","type","text","placeholder","Capacidad",3,"ngModel","formControl","ngModelChange"],["matInput","","type","text","placeholder","Precio",3,"ngModel","formControl","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],[1,"footer"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"mat-toolbar"),c._UZ(2,"img",1),c.TgZ(3,"button",2),c._uU(4,"Mi perfil "),c.TgZ(5,"mat-icon",3),c._uU(6,"person_outline"),c.qZA()()()(),c.TgZ(7,"div",4)(8,"form")(9,"mat-form-field",5)(10,"mat-label"),c._uU(11,"Nombre Conductor"),c.qZA(),c.TgZ(12,"input",6),c.NdJ("ngModelChange",function(s){return i.trip.nameDriver=s}),c.qZA()()()(),c.TgZ(13,"div",7)(14,"form")(15,"mat-form-field",5)(16,"mat-label"),c._uU(17,"Origen"),c.qZA(),c.TgZ(18,"input",8),c.NdJ("ngModelChange",function(s){return i.trip.origin=s}),c.qZA()(),c.TgZ(19,"mat-form-field",5)(20,"mat-label"),c._uU(21,"Destino"),c.qZA(),c.TgZ(22,"input",9),c.NdJ("ngModelChange",function(s){return i.trip.destination=s}),c.qZA()(),c._UZ(23,"br"),c.TgZ(24,"mat-form-field",5)(25,"mat-label"),c._uU(26,"Fecha"),c.qZA(),c.TgZ(27,"input",10),c.NdJ("ngModelChange",function(s){return i.trip.date=s}),c.qZA(),c.TgZ(28,"mat-icon",3),c._uU(29,"date_range"),c.qZA()(),c.TgZ(30,"mat-form-field",5)(31,"mat-label"),c._uU(32,"Hora"),c.qZA(),c.TgZ(33,"input",11),c.NdJ("ngModelChange",function(s){return i.trip.hour=s}),c.qZA()()()(),c.TgZ(34,"div",12)(35,"form")(36,"mat-form-field",5)(37,"mat-label"),c._uU(38,"Modelo Coche"),c.qZA(),c.TgZ(39,"input",13),c.NdJ("ngModelChange",function(s){return i.trip.model_car=s}),c.qZA()(),c.TgZ(40,"mat-form-field",5)(41,"mat-label"),c._uU(42,"Marca Coche"),c.qZA(),c.TgZ(43,"input",14),c.NdJ("ngModelChange",function(s){return i.trip.brand_car=s}),c.qZA()(),c.TgZ(44,"mat-form-field",5)(45,"mat-label"),c._uU(46,"Color Coche"),c.qZA(),c.TgZ(47,"input",15),c.NdJ("ngModelChange",function(s){return i.trip.colour_car=s}),c.qZA()()()(),c.TgZ(48,"div",7)(49,"form")(50,"mat-form-field",5)(51,"mat-label"),c._uU(52,"Capacidad"),c.qZA(),c.TgZ(53,"input",16),c.NdJ("ngModelChange",function(s){return i.trip.seats=s}),c.qZA(),c.TgZ(54,"mat-icon",3),c._uU(55,"account_box"),c.qZA()(),c.TgZ(56,"mat-form-field",5)(57,"mat-label"),c._uU(58,"Precio"),c.qZA(),c.TgZ(59,"input",17),c.NdJ("ngModelChange",function(s){return i.trip.price=s}),c.qZA()()(),c.TgZ(60,"button",18),c.NdJ("click",function(){return i.saveTrip()}),c._uU(61,"Crear Viaje"),c.qZA()(),c.TgZ(62,"div",19)(63,"mat-toolbar")(64,"p"),c._uU(65," Unicar es una organizaci\xf3n que nace con el objetivo de"),c._UZ(66,"br"),c._uU(67," reducir la huella de carbono de muchas persona "),c._UZ(68,"br"),c._uU(69," que se dirijen a la universidad con el coche vacio y "),c._UZ(70,"br"),c._uU(71," que nos les importaria compartirlo "),c.qZA(),c.TgZ(72,"h2"),c._uU(73,"UniCar"),c.qZA()()()),2&t&&(c.xp6(12),c.Q6J("value",i.value)("ngModel",i.trip.nameDriver)("formControl",i.inputControl),c.xp6(6),c.Q6J("ngModel",i.trip.origin)("formControl",i.inputControl),c.xp6(4),c.Q6J("ngModel",i.trip.destination)("formControl",i.inputControl),c.xp6(5),c.Q6J("ngModel",i.trip.date)("formControl",i.inputControl),c.xp6(6),c.Q6J("ngModel",i.trip.hour)("formControl",i.inputControl),c.xp6(6),c.Q6J("ngModel",i.trip.model_car)("formControl",i.inputControl),c.xp6(4),c.Q6J("ngModel",i.trip.brand_car)("formControl",i.inputControl),c.xp6(4),c.Q6J("ngModel",i.trip.colour_car)("formControl",i.inputControl),c.xp6(6),c.Q6J("ngModel",i.trip.seats)("formControl",i.inputControl),c.xp6(6),c.Q6J("ngModel",i.trip.price)("formControl",i.inputControl))},directives:[ng,Yp,ly,J_,zf,yl,zo,Wp,zp,Iw,Xs,Da,Vd],styles:[".header[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{text-align:center;background:#009688;font-size:20px;padding:20px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:550px}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:500px;color:#fff}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:550px}.viaje-uno[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:600px}.viaje-uno[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-left:300px}.viaje-dos[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-left:350px}.viaje-dos[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:220px}.viaje-dos[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}.viaje-dos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:550px}.viaje-tres[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-left:300px}.viaje-tres[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:220px}.viaje-tres[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}.footer[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{text-align:center;background:#009688;font-size:10px;padding:40px;line-height:100%}.footer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:300px}.viaje-dos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#009688}"]}),n})();class tG{}let nG=(()=>{class n{constructor(t){this.db=t}create(t){return ck(Iv(this.db,"users"),JSON.parse(JSON.stringify(t))),!0}read(t){return!0}update(t,i){return!0}delete(t){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Zg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mX=(()=>{class n{constructor(t){this.crudUserService=t,this.user=new tG,this.submitted=!1,this.hide=!0}ngOnInit(){}saveUser(){this.crudUserService.create(this.user)}newUser(){this.submitted=!1,this.user=new tG}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(nG))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-create"]],decls:51,vars:9,consts:[[1,"header"],[1,"title_text"],[1,"user_submit_form"],[1,"field"],["id","name","appearance","outline"],["matInput","","type","text","required","","placeholder","Nombre",3,"ngModel","ngModelChange"],["id","age","appearance","outline"],["matInput","","type","text","id","age","required","","placeholder","Edad",1,"form-control",3,"ngModel","ngModelChange"],["appearance","outline"],["matInput","","required","","placeholder","Contrase\xf1a",1,"form-control",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","id","passwdRepeat","placeholder","Repetir contrase\xf1a",1,"form-control",3,"type"],["matInput","","type","text","id","email","required","","placeholder","Correo Electr\xf3nico",1,"form-control",3,"ngModel","ngModelChange"],["matInput","","type","text","id","phone","required","","placeholder","Telefono",1,"form-control",3,"ngModel","ngModelChange"],[1,"upload_buttons"],["matButton","","id","carnet"],["matButton","","id","perfil"],[1,"register"],["matButton","","id","regBut",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"mat-toolbar")(2,"h1"),c._uU(3,"UniCar"),c.qZA()()(),c.TgZ(4,"p",1),c._uU(5,"Crear una cuenta de UniCar"),c.qZA(),c.TgZ(6,"div",2)(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),c._uU(10,"Nombre"),c.qZA(),c.TgZ(11,"input",5),c.NdJ("ngModelChange",function(s){return i.user.userName=s}),c.qZA()(),c.TgZ(12,"mat-form-field",6)(13,"mat-label"),c._uU(14,"Edad"),c.qZA(),c.TgZ(15,"input",7),c.NdJ("ngModelChange",function(s){return i.user.userAge=s}),c.qZA()()(),c.TgZ(16,"div",3)(17,"mat-form-field",8)(18,"mat-label"),c._uU(19,"Contrase\xf1a"),c.qZA(),c.TgZ(20,"input",9),c.NdJ("ngModelChange",function(s){return i.user.userPassword=s}),c.qZA(),c.TgZ(21,"button",10),c.NdJ("click",function(){return i.hide=!i.hide}),c.TgZ(22,"mat-icon"),c._uU(23),c.qZA()()()(),c.TgZ(24,"div",3)(25,"mat-form-field",8)(26,"mat-label"),c._uU(27,"Repetir contrase\xf1a"),c.qZA(),c._UZ(28,"input",11),c.qZA()(),c.TgZ(29,"div",3)(30,"mat-form-field",8)(31,"mat-label"),c._uU(32,"Email"),c.qZA(),c.TgZ(33,"input",12),c.NdJ("ngModelChange",function(s){return i.user.userEmail=s}),c.qZA()()(),c.TgZ(34,"div",3)(35,"mat-form-field",8)(36,"mat-label"),c._uU(37,"Telefono"),c.qZA(),c.TgZ(38,"input",13),c.NdJ("ngModelChange",function(s){return i.user.userTlf=s}),c.qZA()()(),c.TgZ(39,"div",14)(40,"button",15),c._uU(41,"Subir carnet de conducir "),c.TgZ(42,"mat-icon"),c._uU(43,"file_upload"),c.qZA()(),c.TgZ(44,"button",16),c._uU(45,"Subir foto de perfil "),c.TgZ(46,"mat-icon"),c._uU(47,"file_upload"),c.qZA()()(),c.TgZ(48,"div",17)(49,"button",18),c.NdJ("click",function(){return i.saveUser()}),c._uU(50,"Registrarme"),c.qZA()()()),2&t&&(c.xp6(11),c.Q6J("ngModel",i.user.userName),c.xp6(4),c.Q6J("ngModel",i.user.userAge),c.xp6(5),c.Q6J("type",i.hide?"password":"text")("ngModel",i.user.userPassword),c.xp6(1),c.uIk("aria-label","Hide password"),c.xp6(2),c.Oqu(i.hide?"visibility_off":"visibility"),c.xp6(5),c.Q6J("type",i.hide?"password":"text"),c.xp6(5),c.Q6J("ngModel",i.user.userEmail),c.xp6(5),c.Q6J("ngModel",i.user.userTlf))},directives:[ng,Wp,zp,Iw,Xs,Uc,Da,xs,Yp,J_,ly],styles:[".title_text[_ngcontent-%COMP%]{position:center;margin-left:650px;font-family:Roboto}.header[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{position:center;height:100px;background:#009688}.user_submit_form[_ngcontent-%COMP%]{margin-left:350px}.field[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:700px}.upload_buttons[_ngcontent-%COMP%]{display:flex}#name[_ngcontent-%COMP%]{width:500px}#age[_ngcontent-%COMP%]{margin-left:15px;width:185px}#carnet[_ngcontent-%COMP%]{background-color:#4db6ac;color:#fff;border-radius:100px;font-family:Roboto;text-align:center;font-size:16px;width:220px;height:44px}#perfil[_ngcontent-%COMP%]{background-color:#4db6ac;color:#fff;border-radius:100px;font-family:Roboto;text-align:center;font-size:16px;width:149px;height:44px;margin-top:5px}#regBut[_ngcontent-%COMP%]{background-color:#4db6ac;color:#fff;border-radius:100px;font-family:Roboto;text-align:center;font-size:16px;width:121px;height:40px;margin-top:5px}.register[_ngcontent-%COMP%]{margin-left:300px;margin-top:25px}"]}),n})(),_X=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-delete"]],decls:2,vars:0,template:function(t,i){1&t&&(c.TgZ(0,"p"),c._uU(1,"delete works!"),c.qZA())},styles:[""]}),n})(),yX=(()=>{class n{constructor(t,i){this.service=t,this.email=i}ngOnInit(){}read(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(nG),c.Y36(String))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-read"]],decls:2,vars:0,template:function(t,i){1&t&&(c.TgZ(0,"p"),c._uU(1,"user"),c.qZA())},styles:[""]}),n})(),vX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-update"]],decls:2,vars:0,template:function(t,i){1&t&&(c.TgZ(0,"p"),c._uU(1,"update works!"),c.qZA())},styles:[""]}),n})(),iG=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}openSesion(){this.router.navigate(["/userCreate"])}openTrips(){this.router.navigate(["/createViaje"])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home-page"]],decls:7,vars:0,consts:[[1,"header"],["mat-button","","id","botonViaje",3,"click"],["src","./assets/logo_unicar.jpg","width","100","height","100"],["mat-button","","id","botonSesion",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"mat-toolbar")(2,"button",1),c.NdJ("click",function(){return i.openTrips()}),c._uU(3,"Crear viaje"),c.qZA(),c._UZ(4,"img",2),c.TgZ(5,"button",3),c.NdJ("click",function(){return i.openSesion()}),c._uU(6,"Inicia sesion"),c.qZA()()())},directives:[ng,Yp],styles:[".header[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{position:center;height:100px;background:#4DB6AC}#botonViaje[_ngcontent-%COMP%], #botonSesion[_ngcontent-%COMP%]{background-color:#009688;color:#fff}"]}),n})();const bX=[{path:"viaje/:id",component:fX},{path:"createViaje",component:gX},{path:"userCreate",component:mX},{path:"userDelete/:id",component:_X},{path:"userRead/:id",component:yX},{path:"userUpdate/:id",component:vX},{path:"home",component:iG},{path:"**",component:iG}];let wX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[OH.forRoot(bX)],OH]}),n})(),DX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[b7]}),n.\u0275inj=c.cJS({providers:[],imports:[[L4(()=>V4(Ej_firebase)),iZ(()=>oZ()),UY,Ro,aw,rr,ty,TT,ry,cy,jc,QT,$S,uZ,Vp,dX,wX]]}),n})();(0,c.G48)(),td().bootstrapModule(DX).catch(n=>console.error(n))},127:(_t,Ie,L)=>{L.d(Ie,{Z:()=>c.Z});var c=L(3942);c.Z.registerVersion("firebase","9.6.9","app-compat")},5881:(_t,Ie,L)=>{L.r(Ie);var c=L(5861),j=L(3942),F=L(760),de=L(2090),fe=(L(9681),L(1877),L(4859));function me(){return window}function $(){return($=(0,c.Z)(function*(k,P,U){var re;const{BuildInfo:Fe}=me();(0,F.ap)(P.sessionId,"AuthEvent did not contain a session ID");const We=yield Te(P.sessionId),Dt={};return(0,F.aq)()?Dt.ibi=Fe.packageName:(0,F.ar)()?Dt.apn=Fe.packageName:(0,F.as)(k,"operation-not-supported-in-this-environment"),Fe.displayName&&(Dt.appDisplayName=Fe.displayName),Dt.sessionId=We,(0,F.at)(k,U,P.type,void 0,null!==(re=P.eventId)&&void 0!==re?re:void 0,Dt)})).apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(k){const{BuildInfo:P}=me(),U={};(0,F.aq)()?U.iosBundleId=P.packageName:(0,F.ar)()?U.androidPackageName=P.packageName:(0,F.as)(k,"operation-not-supported-in-this-environment"),yield(0,F.au)(k,U)})).apply(this,arguments)}function ke(){return(ke=(0,c.Z)(function*(k,P,U){const{cordova:re}=me();let Fe=()=>{};try{yield new Promise((We,Dt)=>{let tt=null;function Tt(){var Gt;We();const mi=null===(Gt=re.plugins.browsertab)||void 0===Gt?void 0:Gt.close;"function"==typeof mi&&mi(),"function"==typeof(null==U?void 0:U.close)&&U.close()}function gn(){tt||(tt=window.setTimeout(()=>{Dt((0,F.av)(k,"redirect-cancelled-by-user"))},2e3))}function gi(){"visible"===(null==document?void 0:document.visibilityState)&&gn()}P.addPassiveListener(Tt),document.addEventListener("resume",gn,!1),(0,F.ar)()&&document.addEventListener("visibilitychange",gi,!1),Fe=()=>{P.removePassiveListener(Tt),document.removeEventListener("resume",gn,!1),document.removeEventListener("visibilitychange",gi,!1),tt&&window.clearTimeout(tt)}})}finally{Fe()}})).apply(this,arguments)}function Te(k){return Je.apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(k){const P=$e(k),U=yield crypto.subtle.digest("SHA-256",P);return Array.from(new Uint8Array(U)).map(Fe=>Fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $e(k){if((0,F.ap)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(k);const P=new ArrayBuffer(k.length),U=new Uint8Array(P);for(let re=0;re<k.length;re++)U[re]=k.charCodeAt(re);return U}class be extends F.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(P=>{this.resolveInialized=P})}addPassiveListener(P){this.passiveListeners.add(P)}removePassiveListener(P){this.passiveListeners.delete(P)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(P){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(P)),super.onEvent(P)}initialized(){var P=this;return(0,c.Z)(function*(){yield P.initPromise})()}}function ee(k){return ze.apply(this,arguments)}function ze(){return(ze=(0,c.Z)(function*(k){const P=yield ie()._get(ce(k));return P&&(yield ie()._remove(ce(k))),P})).apply(this,arguments)}function le(){const k=[],P="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<20;U++){const re=Math.floor(Math.random()*P.length);k.push(P.charAt(re))}return k.join("")}function ie(){return(0,F.ax)(F.b)}function ce(k){return(0,F.ay)("authEvent",k.config.apiKey,k.name)}function It(k){if(!(null==k?void 0:k.includes("?")))return{};const[P,...U]=k.split("?");return(0,de.zd)(U.join("?"))}function ht(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.av)("no-auth-event")}}function Jt(){var k;return(null===(k=null==self?void 0:self.location)||void 0===k?void 0:k.protocol)||null}function In(k=(0,de.z$)()){return!("file:"!==Jt()&&"ionic:"!==Jt()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){try{const k=self.localStorage,P=F.aG();if(k)return k.setItem(P,"1"),k.removeItem(P),!function Kr(k=(0,de.z$)()){return function Li(){return(0,de.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Mi(k=(0,de.z$)()){return/Edge\/\d+/.test(k)}(k)}()||(0,de.hl)()}catch(k){return Rr()&&(0,de.hl)()}return!1}function Rr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vi(){return(function rn(){return"http:"===Jt()||"https:"===Jt()}()||(0,de.ru)()||In())&&!function kr(){return(0,de.b$)()||(0,de.UG)()}()&&br()&&!Rr()}function To(){return In()&&"undefined"!=typeof document}function Qi(){return(Qi=(0,c.Z)(function*(){return!!To()&&new Promise(k=>{const P=setTimeout(()=>{k(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(P),k(!0)})})})).apply(this,arguments)}const an={LOCAL:"local",NONE:"none",SESSION:"session"},pi=F.aw,Jr="persistence";function Fn(k){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(k){yield k._initializationPromise;const P=Vt(),U=F.ay(Jr,k.config.apiKey,k.name);P&&P.setItem(U,k._getPersistence())})).apply(this,arguments)}function Vt(){var k;try{return(null===(k=function Wn(){return"undefined"!=typeof window?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch(P){return null}}const ft=F.aw;class it{constructor(){this.browserResolver=F.ax(F.k),this.cordovaResolver=F.ax(class zn{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aA}_initialize(P){var U=this;return(0,c.Z)(function*(){const re=P._key();let Fe=U.eventManagers.get(re);return Fe||(Fe=new be(P),U.eventManagers.set(re,Fe),U.attachCallbackListeners(P,Fe)),Fe})()}_openPopup(P){(0,F.as)(P,"operation-not-supported-in-this-environment")}_openRedirect(P,U,re,Fe){var We=this;return(0,c.Z)(function*(){!function te(k){var P,U,re,Fe,We,Dt,tt,Tt,gn,gi;const Gt=me();(0,F.aw)("function"==typeof(null===(P=null==Gt?void 0:Gt.universalLinks)||void 0===P?void 0:P.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aw)(void 0!==(null===(U=null==Gt?void 0:Gt.BuildInfo)||void 0===U?void 0:U.packageName),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aw)("function"==typeof(null===(We=null===(Fe=null===(re=null==Gt?void 0:Gt.cordova)||void 0===re?void 0:re.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===We?void 0:We.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aw)("function"==typeof(null===(Tt=null===(tt=null===(Dt=null==Gt?void 0:Gt.cordova)||void 0===Dt?void 0:Dt.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===Tt?void 0:Tt.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aw)("function"==typeof(null===(gi=null===(gn=null==Gt?void 0:Gt.cordova)||void 0===gn?void 0:gn.InAppBrowser)||void 0===gi?void 0:gi.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(P);const Dt=yield We._initialize(P);yield Dt.initialized(),Dt.resetRedirect(),(0,F.aB)(),yield We._originValidation(P);const tt=function pe(k,P,U=null){return{type:P,eventId:U,urlResponse:null,sessionId:le(),postBody:null,tenantId:k.tenantId,error:(0,F.av)(k,"no-auth-event")}}(P,re,Fe);yield function je(k,P){return ie()._set(ce(k),P)}(P,tt);const Tt=yield function W(k,P,U){return $.apply(this,arguments)}(P,tt,U),gn=yield function Ne(k){const{cordova:P}=me();return new Promise(U=>{P.plugins.browsertab.isAvailable(re=>{let Fe=null;re?P.plugins.browsertab.openUrl(k):Fe=P.InAppBrowser.open(k,(0,F.ao)()?"_blank":"_system","location=yes"),U(Fe)})})}(Tt);return function Ve(k,P,U){return ke.apply(this,arguments)}(P,Dt,gn)})()}_isIframeWebStorageSupported(P,U){throw new Error("Method not implemented.")}_originValidation(P){const U=P._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function X(k){return Ye.apply(this,arguments)}(P)),this.originValidationPromises[U]}attachCallbackListeners(P,U){const{universalLinks:re,handleOpenURL:Fe,BuildInfo:We}=me(),Dt=setTimeout((0,c.Z)(function*(){yield ee(P),U.onEvent(ht())}),500),tt=function(){var gi=(0,c.Z)(function*(Gt){clearTimeout(Dt);const mi=yield ee(P);let Pr=null;mi&&(null==Gt?void 0:Gt.url)&&(Pr=function J(k,P){var U,re;const Fe=function ne(k){const P=It(k),U=P.link?decodeURIComponent(P.link):void 0,re=It(U).link,Fe=P.deep_link_id?decodeURIComponent(P.deep_link_id):void 0;return It(Fe).link||Fe||re||U||k}(P);if(Fe.includes("/__/auth/callback")){const We=It(Fe),Dt=We.firebaseError?function Re(k){try{return JSON.parse(k)}catch(P){return null}}(decodeURIComponent(We.firebaseError)):null,tt=null===(re=null===(U=null==Dt?void 0:Dt.code)||void 0===U?void 0:U.split("auth/"))||void 0===re?void 0:re[1],Tt=tt?(0,F.av)(tt):null;return Tt?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:Tt,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:Fe,postBody:null}}return null}(mi,Gt.url)),U.onEvent(Pr||ht())});return function(mi){return gi.apply(this,arguments)}}();void 0!==re&&"function"==typeof re.subscribe&&re.subscribe(null,tt);const Tt=Fe,gn=`${We.packageName.toLowerCase()}://`;me().handleOpenURL=function(){var gi=(0,c.Z)(function*(Gt){if(Gt.toLowerCase().startsWith(gn)&&tt({url:Gt}),"function"==typeof Tt)try{Tt(Gt)}catch(mi){console.error(mi)}});return function(Gt){return gi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aA}_initialize(P){var U=this;return(0,c.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(P)})()}_openPopup(P,U,re,Fe){var We=this;return(0,c.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openPopup(P,U,re,Fe)})()}_openRedirect(P,U,re,Fe){var We=this;return(0,c.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openRedirect(P,U,re,Fe)})()}_isIframeWebStorageSupported(P,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(P,U)}_originValidation(P){return this.assertedUnderlyingResolver._originValidation(P)}get _shouldInitProactively(){return To()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ft(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var P=this;return(0,c.Z)(function*(){if(P.underlyingResolver)return;const U=yield function pt(){return Qi.apply(this,arguments)}();P.underlyingResolver=U?P.cordovaResolver:P.browserResolver})()}}function Or(k){return k.unwrap()}function Ht(k){return kn(k)}function kn(k){const{_tokenResponse:P}=k instanceof de.ZR?k.customData:k;if(!P)return null;if(!(k instanceof de.ZR)&&"temporaryProof"in P&&"phoneNumber"in P)return F.P.credentialFromResult(k);const U=P.providerId;if(!U||U===F.o.PASSWORD)return null;let re;switch(U){case F.o.GOOGLE:re=F.N;break;case F.o.FACEBOOK:re=F.M;break;case F.o.GITHUB:re=F.Q;break;case F.o.TWITTER:re=F.V;break;default:const{oauthIdToken:Fe,oauthAccessToken:We,oauthTokenSecret:Dt,pendingToken:tt,nonce:Tt}=P;return We||Dt||Fe||tt?tt?U.startsWith("saml.")?F.aJ._create(U,tt):F.I._fromParams({providerId:U,signInMethod:U,pendingToken:tt,idToken:Fe,accessToken:We}):new F.T(U).credential({idToken:Fe,accessToken:We,rawNonce:Tt}):null}return k instanceof de.ZR?re.credentialFromError(k):re.credentialFromResult(k)}function cn(k,P){return P.catch(U=>{throw U instanceof de.ZR&&function Qr(k,P){var U;const re=null===(U=P.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===P.code)P.resolver=new $t(k,F.am(k,P));else if(re){const Fe=kn(P),We=P;Fe&&(We.credential=Fe,We.tenantId=re.tenantId||void 0,We.email=re.email||void 0,We.phoneNumber=re.phoneNumber||void 0)}}(k,U),U}).then(U=>{const Fe=U.user;return{operationType:U.operationType,credential:Ht(U),additionalUserInfo:F.ak(U),user:Ue.getOrCreate(Fe)}})}function gt(k,P){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(k,P){const U=yield P;return{verificationId:U.verificationId,confirm:re=>cn(k,U.confirm(re))}})).apply(this,arguments)}class $t{constructor(P,U){this.resolver=U,this.auth=function ms(k){return k.wrapped()}(P)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(P){return cn(Or(this.auth),this.resolver.resolveSignIn(P))}}class Ue{constructor(P){this._delegate=P,this.multiFactor=F.an(P)}static getOrCreate(P){return Ue.USER_MAP.has(P)||Ue.USER_MAP.set(P,new Ue(P)),Ue.USER_MAP.get(P)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(P){return this._delegate.getIdTokenResult(P)}getIdToken(P){return this._delegate.getIdToken(P)}linkAndRetrieveDataWithCredential(P){return this.linkWithCredential(P)}linkWithCredential(P){var U=this;return(0,c.Z)(function*(){return cn(U.auth,F.Y(U._delegate,P))})()}linkWithPhoneNumber(P,U){var re=this;return(0,c.Z)(function*(){return gt(re.auth,F.l(re._delegate,P,U))})()}linkWithPopup(P){var U=this;return(0,c.Z)(function*(){return cn(U.auth,F.d(U._delegate,P,it))})()}linkWithRedirect(P){var U=this;return(0,c.Z)(function*(){return yield Fn(F.aC(U.auth)),F.g(U._delegate,P,it)})()}reauthenticateAndRetrieveDataWithCredential(P){return this.reauthenticateWithCredential(P)}reauthenticateWithCredential(P){var U=this;return(0,c.Z)(function*(){return cn(U.auth,F.Z(U._delegate,P))})()}reauthenticateWithPhoneNumber(P,U){return gt(this.auth,F.r(this._delegate,P,U))}reauthenticateWithPopup(P){return cn(this.auth,F.e(this._delegate,P,it))}reauthenticateWithRedirect(P){var U=this;return(0,c.Z)(function*(){return yield Fn(F.aC(U.auth)),F.h(U._delegate,P,it)})()}sendEmailVerification(P){return F.aa(this._delegate,P)}unlink(P){var U=this;return(0,c.Z)(function*(){return yield F.aj(U._delegate,P),U})()}updateEmail(P){return F.af(this._delegate,P)}updatePassword(P){return F.ag(this._delegate,P)}updatePhoneNumber(P){return F.u(this._delegate,P)}updateProfile(P){return F.ae(this._delegate,P)}verifyBeforeUpdateEmail(P,U){return F.ab(this._delegate,P,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ue.USER_MAP=new WeakMap;const _e=F.aw;let Xe=(()=>{class k{constructor(U,re){if(this.app=U,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Fe}=U.options;_e(Fe,"invalid-api-key",{appName:U.name}),_e(Fe,"invalid-api-key",{appName:U.name});const We="undefined"!=typeof window?it:void 0;this._delegate=re.initialize({options:{persistence:Ft(Fe,U.name),popupRedirectResolver:We}}),this._delegate._updateErrorMap(F.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ue.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,re){F.E(this._delegate,U,re)}applyActionCode(U){return F.a1(this._delegate,U)}checkActionCode(U){return F.a2(this._delegate,U)}confirmPasswordReset(U,re){return F.a0(this._delegate,U,re)}createUserWithEmailAndPassword(U,re){var Fe=this;return(0,c.Z)(function*(){return cn(Fe._delegate,F.a4(Fe._delegate,U,re))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return F.a9(this._delegate,U)}isSignInWithEmailLink(U){return F.a7(this._delegate,U)}getRedirectResult(){var U=this;return(0,c.Z)(function*(){_e(Vi(),U._delegate,"operation-not-supported-in-this-environment");const re=yield F.j(U._delegate,it);return re?cn(U._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function En(k,P){(0,F.aC)(k)._logFramework(P)}(this._delegate,U)}onAuthStateChanged(U,re,Fe){const{next:We,error:Dt,complete:tt}=dt(U,re,Fe);return this._delegate.onAuthStateChanged(We,Dt,tt)}onIdTokenChanged(U,re,Fe){const{next:We,error:Dt,complete:tt}=dt(U,re,Fe);return this._delegate.onIdTokenChanged(We,Dt,tt)}sendSignInLinkToEmail(U,re){return F.a6(this._delegate,U,re)}sendPasswordResetEmail(U,re){return F.$(this._delegate,U,re||void 0)}setPersistence(U){var re=this;return(0,c.Z)(function*(){let Fe;switch(function qn(k,P){pi(Object.values(an).includes(P),k,"invalid-persistence-type"),(0,de.b$)()?pi(P!==an.SESSION,k,"unsupported-persistence-type"):(0,de.UG)()?pi(P===an.NONE,k,"unsupported-persistence-type"):Rr()?pi(P===an.NONE||P===an.LOCAL&&(0,de.hl)(),k,"unsupported-persistence-type"):pi(P===an.NONE||br(),k,"unsupported-persistence-type")}(re._delegate,U),U){case an.SESSION:Fe=F.a;break;case an.LOCAL:Fe=(yield F.ax(F.i)._isAvailable())?F.i:F.b;break;case an.NONE:Fe=F.K;break;default:return F.as("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(Fe)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return cn(this._delegate,F.W(this._delegate))}signInWithCredential(U){return cn(this._delegate,F.X(this._delegate,U))}signInWithCustomToken(U){return cn(this._delegate,F._(this._delegate,U))}signInWithEmailAndPassword(U,re){return cn(this._delegate,F.a5(this._delegate,U,re))}signInWithEmailLink(U,re){return cn(this._delegate,F.a8(this._delegate,U,re))}signInWithPhoneNumber(U,re){return gt(this._delegate,F.s(this._delegate,U,re))}signInWithPopup(U){var re=this;return(0,c.Z)(function*(){return _e(Vi(),re._delegate,"operation-not-supported-in-this-environment"),cn(re._delegate,F.c(re._delegate,U,it))})()}signInWithRedirect(U){var re=this;return(0,c.Z)(function*(){return _e(Vi(),re._delegate,"operation-not-supported-in-this-environment"),yield Fn(re._delegate),F.f(re._delegate,U,it)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return F.a3(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=an,k})();function dt(k,P,U){let re=k;"function"!=typeof k&&({next:re,error:P,complete:U}=k);const Fe=re;return{next:Dt=>Fe(Dt&&Ue.getOrCreate(Dt)),error:P,complete:U}}function Ft(k,P){const U=function So(k,P){const U=Vt();if(!U)return[];const re=F.ay(Jr,k,P);switch(U.getItem(re)){case an.NONE:return[F.K];case an.LOCAL:return[F.i,F.a];case an.SESSION:return[F.a];default:return[]}}(k,P);if("undefined"!=typeof self&&!U.includes(F.i)&&U.push(F.i),"undefined"!=typeof window)for(const re of[F.b,F.a])U.includes(re)||U.push(re);return U.includes(F.K)||U.push(F.K),U}class Pt{constructor(){this.providerId="phone",this._delegate=new F.P(Or(j.Z.auth()))}static credential(P,U){return F.P.credential(P,U)}verifyPhoneNumber(P,U){return this._delegate.verifyPhoneNumber(P,U)}unwrap(){return this._delegate}}Pt.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,Pt.PROVIDER_ID=F.P.PROVIDER_ID;const G=F.aw;class B{constructor(P,U,re=j.Z.app()){var Fe;G(null===(Fe=re.options)||void 0===Fe?void 0:Fe.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new F.R(P,U,re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ae(k){k.INTERNAL.registerComponent(new fe.wA("auth-compat",P=>{const U=P.getProvider("app-compat").getImmediate(),re=P.getProvider("auth");return new Xe(U,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.L,FacebookAuthProvider:F.M,GithubAuthProvider:F.Q,GoogleAuthProvider:F.N,OAuthProvider:F.T,SAMLAuthProvider:F.U,PhoneAuthProvider:Pt,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:B,TwitterAuthProvider:F.V,Auth:Xe,AuthCredential:F.G,Error:de.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.2.10")}(j.Z)},8306:(_t,Ie,L)=>{L.d(Ie,{y:()=>W});var c=L(930),j=L(727),F=L(8822),de=L(4671);var fe=L(2416),me=L(576),xe=L(2806);let W=(()=>{class Ne{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const te=new Ne;return te.source=this,te.operator=ke,te}subscribe(ke,te,Te){const Je=function Ye(Ne){return Ne&&Ne instanceof c.Lv||function X(Ne){return Ne&&(0,me.m)(Ne.next)&&(0,me.m)(Ne.error)&&(0,me.m)(Ne.complete)}(Ne)&&(0,j.Nn)(Ne)}(ke)?ke:new c.Hp(ke,te,Te);return(0,xe.x)(()=>{const{operator:$e,source:Ae}=this;Je.add($e?$e.call(Je,Ae):Ae?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(ke){try{return this._subscribe(ke)}catch(te){ke.error(te)}}forEach(ke,te){return new(te=$(te))((Te,Je)=>{const $e=new c.Hp({next:Ae=>{try{ke(Ae)}catch(be){Je(be),$e.unsubscribe()}},error:Je,complete:Te});this.subscribe($e)})}_subscribe(ke){var te;return null===(te=this.source)||void 0===te?void 0:te.subscribe(ke)}[F.L](){return this}pipe(...ke){return function Ce(Ne){return 0===Ne.length?de.y:1===Ne.length?Ne[0]:function(ke){return Ne.reduce((te,Te)=>Te(te),ke)}}(ke)(this)}toPromise(ke){return new(ke=$(ke))((te,Te)=>{let Je;this.subscribe($e=>Je=$e,$e=>Te($e),()=>te(Je))})}}return Ne.create=Ve=>new Ne(Ve),Ne})();function $(Ne){var Ve;return null!==(Ve=null!=Ne?Ne:fe.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(_t,Ie,L)=>{L.d(Ie,{x:()=>fe});var c=L(8306),j=L(727);const de=(0,L(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=L(8737),Ce=L(2806);let fe=(()=>{class xe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const X=new me(this,this);return X.operator=$,X}_throwIfClosed(){if(this.closed)throw new de}next($){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next($)}})}error($){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:X}=this;for(;X.length;)X.shift().error($)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:X,isStopped:Ye,observers:Ne}=this;return X||Ye?j.Lc:(this.currentObservers=null,Ne.push($),new j.w0(()=>{this.currentObservers=null,(0,De.P)(Ne,$)}))}_checkFinalizedStatuses($){const{hasError:X,thrownError:Ye,isStopped:Ne}=this;X?$.error(Ye):Ne&&$.complete()}asObservable(){const $=new c.y;return $.source=this,$}}return xe.create=(W,$)=>new me(W,$),xe})();class me extends fe{constructor(W,$){super(),this.destination=W,this.source=$}next(W){var $,X;null===(X=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===X||X.call($,W)}error(W){var $,X;null===(X=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===X||X.call($,W)}complete(){var W,$;null===($=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===$||$.call(W)}_subscribe(W){var $,X;return null!==(X=null===($=this.source)||void 0===$?void 0:$.subscribe(W))&&void 0!==X?X:j.Lc}}},930:(_t,Ie,L)=>{L.d(Ie,{Hp:()=>ke,Lv:()=>X});var c=L(576),j=L(727),F=L(2416),de=L(7849),De=L(5032);const Ce=xe("C",void 0,void 0);function xe(Ae,be,pe){return{kind:Ae,value:be,error:pe}}var W=L(3410),$=L(2806);class X extends j.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,j.Nn)(be)&&be.add(this)):this.destination=$e}static create(be,pe,je){return new ke(be,pe,je)}next(be){this.isStopped?Je(function me(Ae){return xe("N",Ae,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Je(function fe(Ae){return xe("E",void 0,Ae)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Je(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function Ne(Ae,be){return Ye.call(Ae,be)}class Ve{constructor(be){this.partialObserver=be}next(be){const{partialObserver:pe}=this;if(pe.next)try{pe.next(be)}catch(je){te(je)}}error(be){const{partialObserver:pe}=this;if(pe.error)try{pe.error(be)}catch(je){te(je)}else te(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(pe){te(pe)}}}class ke extends X{constructor(be,pe,je){let ee;if(super(),(0,c.m)(be)||!be)ee={next:null!=be?be:void 0,error:null!=pe?pe:void 0,complete:null!=je?je:void 0};else{let ze;this&&F.v.useDeprecatedNextContext?(ze=Object.create(be),ze.unsubscribe=()=>this.unsubscribe(),ee={next:be.next&&Ne(be.next,ze),error:be.error&&Ne(be.error,ze),complete:be.complete&&Ne(be.complete,ze)}):ee=be}this.destination=new Ve(ee)}}function te(Ae){F.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ae):(0,de.h)(Ae)}function Je(Ae,be){const{onStoppedNotification:pe}=F.v;pe&&W.z.setTimeout(()=>pe(Ae,be))}const $e={closed:!0,next:De.Z,error:function Te(Ae){throw Ae},complete:De.Z}},727:(_t,Ie,L)=>{L.d(Ie,{Lc:()=>Ce,w0:()=>De,Nn:()=>fe});var c=L(576);const F=(0,L(3888).d)(xe=>function($){xe(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((X,Ye)=>`${Ye+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var de=L(8737);class De{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ne of $)Ne.remove(this);else $.remove(this);const{initialTeardown:X}=this;if((0,c.m)(X))try{X()}catch(Ne){W=Ne instanceof F?Ne.errors:[Ne]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const Ne of Ye)try{me(Ne)}catch(Ve){W=null!=W?W:[],Ve instanceof F?W=[...W,...Ve.errors]:W.push(Ve)}}if(W)throw new F(W)}}add(W){var $;if(W&&W!==this)if(this.closed)me(W);else{if(W instanceof De){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(W)}}_hasParent(W){const{_parentage:$}=this;return $===W||Array.isArray($)&&$.includes(W)}_addParent(W){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(W),$):$?[$,W]:W}_removeParent(W){const{_parentage:$}=this;$===W?this._parentage=null:Array.isArray($)&&(0,de.P)($,W)}remove(W){const{_finalizers:$}=this;$&&(0,de.P)($,W),W instanceof De&&W._removeParent(this)}}De.EMPTY=(()=>{const xe=new De;return xe.closed=!0,xe})();const Ce=De.EMPTY;function fe(xe){return xe instanceof De||xe&&"closed"in xe&&(0,c.m)(xe.remove)&&(0,c.m)(xe.add)&&(0,c.m)(xe.unsubscribe)}function me(xe){(0,c.m)(xe)?xe():xe.unsubscribe()}},2416:(_t,Ie,L)=>{L.d(Ie,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(_t,Ie,L)=>{L.d(Ie,{E:()=>j});const j=new(L(8306).y)(De=>De.complete())},8996:(_t,Ie,L)=>{L.d(Ie,{D:()=>be});var c=L(8421),j=L(5363),F=L(9468),Ce=L(8306),me=L(2202),xe=L(576),W=L(9672);function X(pe,je){if(!pe)throw new Error("Iterable cannot be null");return new Ce.y(ee=>{(0,W.f)(ee,je,()=>{const ze=pe[Symbol.asyncIterator]();(0,W.f)(ee,je,()=>{ze.next().then(J=>{J.done?ee.complete():ee.next(J.value)})},0,!0)})})}var Ye=L(3670),Ne=L(8239),Ve=L(1144),ke=L(6495),te=L(2206),Te=L(4532),Je=L(3260);function be(pe,je){return je?function Ae(pe,je){if(null!=pe){if((0,Ye.c)(pe))return function de(pe,je){return(0,c.Xf)(pe).pipe((0,F.R)(je),(0,j.Q)(je))}(pe,je);if((0,Ve.z)(pe))return function fe(pe,je){return new Ce.y(ee=>{let ze=0;return je.schedule(function(){ze===pe.length?ee.complete():(ee.next(pe[ze++]),ee.closed||this.schedule())})})}(pe,je);if((0,Ne.t)(pe))return function De(pe,je){return(0,c.Xf)(pe).pipe((0,F.R)(je),(0,j.Q)(je))}(pe,je);if((0,te.D)(pe))return X(pe,je);if((0,ke.T)(pe))return function $(pe,je){return new Ce.y(ee=>{let ze;return(0,W.f)(ee,je,()=>{ze=pe[me.h](),(0,W.f)(ee,je,()=>{let J,le;try{({value:J,done:le}=ze.next())}catch(ie){return void ee.error(ie)}le?ee.complete():ee.next(J)},0,!0)}),()=>(0,xe.m)(null==ze?void 0:ze.return)&&ze.return()})}(pe,je);if((0,Je.L)(pe))return function $e(pe,je){return X((0,Je.Q)(pe),je)}(pe,je)}throw(0,Te.z)(pe)}(pe,je):(0,c.Xf)(pe)}},8421:(_t,Ie,L)=>{L.d(Ie,{Xf:()=>Ye});var c=L(655),j=L(1144),F=L(8239),de=L(8306),De=L(3670),Ce=L(2206),fe=L(4532),me=L(6495),xe=L(3260),W=L(576),$=L(7849),X=L(8822);function Ye(Ae){if(Ae instanceof de.y)return Ae;if(null!=Ae){if((0,De.c)(Ae))return function Ne(Ae){return new de.y(be=>{const pe=Ae[X.L]();if((0,W.m)(pe.subscribe))return pe.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,j.z)(Ae))return function Ve(Ae){return new de.y(be=>{for(let pe=0;pe<Ae.length&&!be.closed;pe++)be.next(Ae[pe]);be.complete()})}(Ae);if((0,F.t)(Ae))return function ke(Ae){return new de.y(be=>{Ae.then(pe=>{be.closed||(be.next(pe),be.complete())},pe=>be.error(pe)).then(null,$.h)})}(Ae);if((0,Ce.D)(Ae))return Te(Ae);if((0,me.T)(Ae))return function te(Ae){return new de.y(be=>{for(const pe of Ae)if(be.next(pe),be.closed)return;be.complete()})}(Ae);if((0,xe.L)(Ae))return function Je(Ae){return Te((0,xe.Q)(Ae))}(Ae)}throw(0,fe.z)(Ae)}function Te(Ae){return new de.y(be=>{(function $e(Ae,be){var pe,je,ee,ze;return(0,c.mG)(this,void 0,void 0,function*(){try{for(pe=(0,c.KL)(Ae);!(je=yield pe.next()).done;)if(be.next(je.value),be.closed)return}catch(J){ee={error:J}}finally{try{je&&!je.done&&(ze=pe.return)&&(yield ze.call(pe))}finally{if(ee)throw ee.error}}be.complete()})})(Ae,be).catch(pe=>be.error(pe))})}},6451:(_t,Ie,L)=>{L.d(Ie,{T:()=>Ce});var c=L(8189),j=L(8421),F=L(515),de=L(3269),De=L(8996);function Ce(...fe){const me=(0,de.yG)(fe),xe=(0,de._6)(fe,1/0),W=fe;return W.length?1===W.length?(0,j.Xf)(W[0]):(0,c.J)(xe)((0,De.D)(W,me)):F.E}},5403:(_t,Ie,L)=>{L.d(Ie,{x:()=>j});var c=L(930);function j(de,De,Ce,fe,me){return new F(de,De,Ce,fe,me)}class F extends c.Lv{constructor(De,Ce,fe,me,xe,W){super(De),this.onFinalize=xe,this.shouldUnsubscribe=W,this._next=Ce?function($){try{Ce($)}catch(X){De.error(X)}}:super._next,this._error=me?function($){try{me($)}catch(X){De.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch($){De.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var De;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(De=this.onFinalize)||void 0===De||De.call(this))}}}},4004:(_t,Ie,L)=>{L.d(Ie,{U:()=>F});var c=L(4482),j=L(5403);function F(de,De){return(0,c.e)((Ce,fe)=>{let me=0;Ce.subscribe((0,j.x)(fe,xe=>{fe.next(de.call(De,xe,me++))}))})}},8189:(_t,Ie,L)=>{L.d(Ie,{J:()=>F});var c=L(5577),j=L(4671);function F(de=1/0){return(0,c.z)(j.y,de)}},5577:(_t,Ie,L)=>{L.d(Ie,{z:()=>me});var c=L(4004),j=L(8421),F=L(4482),de=L(9672),De=L(5403),fe=L(576);function me(xe,W,$=1/0){return(0,fe.m)(W)?me((X,Ye)=>(0,c.U)((Ne,Ve)=>W(X,Ne,Ye,Ve))((0,j.Xf)(xe(X,Ye))),$):("number"==typeof W&&($=W),(0,F.e)((X,Ye)=>function Ce(xe,W,$,X,Ye,Ne,Ve,ke){const te=[];let Te=0,Je=0,$e=!1;const Ae=()=>{$e&&!te.length&&!Te&&W.complete()},be=je=>Te<X?pe(je):te.push(je),pe=je=>{Ne&&W.next(je),Te++;let ee=!1;(0,j.Xf)($(je,Je++)).subscribe((0,De.x)(W,ze=>{null==Ye||Ye(ze),Ne?be(ze):W.next(ze)},()=>{ee=!0},void 0,()=>{if(ee)try{for(Te--;te.length&&Te<X;){const ze=te.shift();Ve?(0,de.f)(W,Ve,()=>pe(ze)):pe(ze)}Ae()}catch(ze){W.error(ze)}}))};return xe.subscribe((0,De.x)(W,be,()=>{$e=!0,Ae()})),()=>{null==ke||ke()}}(X,Ye,xe,$)))}},5363:(_t,Ie,L)=>{L.d(Ie,{Q:()=>de});var c=L(9672),j=L(4482),F=L(5403);function de(De,Ce=0){return(0,j.e)((fe,me)=>{fe.subscribe((0,F.x)(me,xe=>(0,c.f)(me,De,()=>me.next(xe),Ce),()=>(0,c.f)(me,De,()=>me.complete(),Ce),xe=>(0,c.f)(me,De,()=>me.error(xe),Ce)))})}},3099:(_t,Ie,L)=>{L.d(Ie,{B:()=>Ce});var c=L(8996),j=L(5698),F=L(7579),de=L(930),De=L(4482);function Ce(me={}){const{connector:xe=(()=>new F.x),resetOnError:W=!0,resetOnComplete:$=!0,resetOnRefCountZero:X=!0}=me;return Ye=>{let Ne=null,Ve=null,ke=null,te=0,Te=!1,Je=!1;const $e=()=>{null==Ve||Ve.unsubscribe(),Ve=null},Ae=()=>{$e(),Ne=ke=null,Te=Je=!1},be=()=>{const pe=Ne;Ae(),null==pe||pe.unsubscribe()};return(0,De.e)((pe,je)=>{te++,!Je&&!Te&&$e();const ee=ke=null!=ke?ke:xe();je.add(()=>{te--,0===te&&!Je&&!Te&&(Ve=fe(be,X))}),ee.subscribe(je),Ne||(Ne=new de.Hp({next:ze=>ee.next(ze),error:ze=>{Je=!0,$e(),Ve=fe(Ae,W,ze),ee.error(ze)},complete:()=>{Te=!0,$e(),Ve=fe(Ae,$),ee.complete()}}),(0,c.D)(pe).subscribe(Ne))})(Ye)}}function fe(me,xe,...W){return!0===xe?(me(),null):!1===xe?null:xe(...W).pipe((0,j.q)(1)).subscribe(()=>me())}},9468:(_t,Ie,L)=>{L.d(Ie,{R:()=>j});var c=L(4482);function j(F,de=0){return(0,c.e)((De,Ce)=>{Ce.add(F.schedule(()=>De.subscribe(Ce),de))})}},5698:(_t,Ie,L)=>{L.d(Ie,{q:()=>de});var c=L(515),j=L(4482),F=L(5403);function de(De){return De<=0?()=>c.E:(0,j.e)((Ce,fe)=>{let me=0;Ce.subscribe((0,F.x)(fe,xe=>{++me<=De&&(fe.next(xe),De<=me&&fe.complete())}))})}},3410:(_t,Ie,L)=>{L.d(Ie,{z:()=>c});const c={setTimeout(j,F,...de){const{delegate:De}=c;return(null==De?void 0:De.setTimeout)?De.setTimeout(j,F,...de):setTimeout(j,F,...de)},clearTimeout(j){const{delegate:F}=c;return((null==F?void 0:F.clearTimeout)||clearTimeout)(j)},delegate:void 0}},2202:(_t,Ie,L)=>{L.d(Ie,{h:()=>j});const j=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_t,Ie,L)=>{L.d(Ie,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(_t,Ie,L)=>{L.d(Ie,{jO:()=>de,yG:()=>De,_6:()=>Ce});var c=L(576),j=L(3532);function F(fe){return fe[fe.length-1]}function de(fe){return(0,c.m)(F(fe))?fe.pop():void 0}function De(fe){return(0,j.K)(F(fe))?fe.pop():void 0}function Ce(fe,me){return"number"==typeof F(fe)?fe.pop():me}},8737:(_t,Ie,L)=>{function c(j,F){if(j){const de=j.indexOf(F);0<=de&&j.splice(de,1)}}L.d(Ie,{P:()=>c})},3888:(_t,Ie,L)=>{function c(j){const de=j(De=>{Error.call(De),De.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}L.d(Ie,{d:()=>c})},2806:(_t,Ie,L)=>{L.d(Ie,{x:()=>F,O:()=>de});var c=L(2416);let j=null;function F(De){if(c.v.useDeprecatedSynchronousErrorHandling){const Ce=!j;if(Ce&&(j={errorThrown:!1,error:null}),De(),Ce){const{errorThrown:fe,error:me}=j;if(j=null,fe)throw me}}else De()}function de(De){c.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=De)}},9672:(_t,Ie,L)=>{function c(j,F,de,De=0,Ce=!1){const fe=F.schedule(function(){de(),Ce?j.add(this.schedule(null,De)):this.unsubscribe()},De);if(j.add(fe),!Ce)return fe}L.d(Ie,{f:()=>c})},4671:(_t,Ie,L)=>{function c(j){return j}L.d(Ie,{y:()=>c})},1144:(_t,Ie,L)=>{L.d(Ie,{z:()=>c});const c=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(_t,Ie,L)=>{L.d(Ie,{D:()=>j});var c=L(576);function j(F){return Symbol.asyncIterator&&(0,c.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(_t,Ie,L)=>{function c(j){return"function"==typeof j}L.d(Ie,{m:()=>c})},3670:(_t,Ie,L)=>{L.d(Ie,{c:()=>F});var c=L(8822),j=L(576);function F(de){return(0,j.m)(de[c.L])}},6495:(_t,Ie,L)=>{L.d(Ie,{T:()=>F});var c=L(2202),j=L(576);function F(de){return(0,j.m)(null==de?void 0:de[c.h])}},8239:(_t,Ie,L)=>{L.d(Ie,{t:()=>j});var c=L(576);function j(F){return(0,c.m)(null==F?void 0:F.then)}},3260:(_t,Ie,L)=>{L.d(Ie,{Q:()=>F,L:()=>de});var c=L(655),j=L(576);function F(De){return(0,c.FC)(this,arguments,function*(){const fe=De.getReader();try{for(;;){const{value:me,done:xe}=yield(0,c.qq)(fe.read());if(xe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(me)}}finally{fe.releaseLock()}})}function de(De){return(0,j.m)(null==De?void 0:De.getReader)}},3532:(_t,Ie,L)=>{L.d(Ie,{K:()=>j});var c=L(576);function j(F){return F&&(0,c.m)(F.schedule)}},4482:(_t,Ie,L)=>{L.d(Ie,{A:()=>j,e:()=>F});var c=L(576);function j(de){return(0,c.m)(null==de?void 0:de.lift)}function F(de){return De=>{if(j(De))return De.lift(function(Ce){try{return de(Ce,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(_t,Ie,L)=>{function c(){}L.d(Ie,{Z:()=>c})},7849:(_t,Ie,L)=>{L.d(Ie,{h:()=>F});var c=L(2416),j=L(3410);function F(de){j.z.setTimeout(()=>{const{onUnhandledError:De}=c.v;if(!De)throw de;De(de)})}},4532:(_t,Ie,L)=>{function c(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ie,{z:()=>c})},655:(_t,Ie,L)=>{function de(J,le){var ie={};for(var ce in J)Object.prototype.hasOwnProperty.call(J,ce)&&le.indexOf(ce)<0&&(ie[ce]=J[ce]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(ce=Object.getOwnPropertySymbols(J);Re<ce.length;Re++)le.indexOf(ce[Re])<0&&Object.prototype.propertyIsEnumerable.call(J,ce[Re])&&(ie[ce[Re]]=J[ce[Re]])}return ie}function me(J,le,ie,ce){return new(ie||(ie=Promise))(function(ne,It){function Xt(ht){try{ut(ce.next(ht))}catch(En){It(En)}}function zn(ht){try{ut(ce.throw(ht))}catch(En){It(En)}}function ut(ht){ht.done?ne(ht.value):function Re(ne){return ne instanceof ie?ne:new ie(function(It){It(ne)})}(ht.value).then(Xt,zn)}ut((ce=ce.apply(J,le||[])).next())})}function te(J){return this instanceof te?(this.v=J,this):new te(J)}function Te(J,le,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ce=ie.apply(J,le||[]),ne=[];return Re={},It("next"),It("throw"),It("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function It(wn){ce[wn]&&(Re[wn]=function(Nr){return new Promise(function(nn,Jt){ne.push([wn,Nr,nn,Jt])>1||Xt(wn,Nr)})})}function Xt(wn,Nr){try{!function zn(wn){wn.value instanceof te?Promise.resolve(wn.value.v).then(ut,ht):En(ne[0][2],wn)}(ce[wn](Nr))}catch(nn){En(ne[0][3],nn)}}function ut(wn){Xt("next",wn)}function ht(wn){Xt("throw",wn)}function En(wn,Nr){wn(Nr),ne.shift(),ne.length&&Xt(ne[0][0],ne[0][1])}}function $e(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,le=J[Symbol.asyncIterator];return le?le.call(J):(J=function X(J){var le="function"==typeof Symbol&&Symbol.iterator,ie=le&&J[le],ce=0;if(ie)return ie.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&ce>=J.length&&(J=void 0),{value:J&&J[ce++],done:!J}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ie={},ce("next"),ce("throw"),ce("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function ce(ne){ie[ne]=J[ne]&&function(It){return new Promise(function(Xt,zn){!function Re(ne,It,Xt,zn){Promise.resolve(zn).then(function(ut){ne({value:ut,done:Xt})},It)}(Xt,zn,(It=J[ne](It)).done,It.value)})}}}L.d(Ie,{_T:()=>de,mG:()=>me,qq:()=>te,FC:()=>Te,KL:()=>$e})},5e3:(_t,Ie,L)=>{L.d(Ie,{deG:()=>bd,tb:()=>aD,AFp:()=>oD,ip1:()=>sD,CZH:()=>wy,hGG:()=>na,z2F:()=>_D,sBO:()=>IF,Sil:()=>lF,_Vd:()=>Kp,EJc:()=>rF,SBq:()=>pu,qLn:()=>Bn,vpe:()=>_o,tBr:()=>to,XFs:()=>pt,OlP:()=>Mn,zs3:()=>ks,ZZ4:()=>lg,aQg:()=>cg,soG:()=>cD,YKP:()=>LT,h0i:()=>oh,PXZ:()=>vF,R0b:()=>yo,FiY:()=>Ms,Lbi:()=>AS,g9A:()=>SS,Qsj:()=>Oi,FYo:()=>gu,JOm:()=>lo,q3G:()=>Kn,tp0:()=>ns,Rgc:()=>hh,dDg:()=>NS,q4F:()=>Jp,GfV:()=>OT,s_b:()=>ig,ifc:()=>Vt,eFA:()=>PS,G48:()=>VS,Gpc:()=>$,f3M:()=>Gf,X6Q:()=>EF,_c5:()=>WS,VLi:()=>_F,c2e:()=>lD,zSh:()=>fb,wAp:()=>Ct,vHH:()=>Ve,EiD:()=>Xf,mCW:()=>M,qzn:()=>qo,JVY:()=>Ld,pB0:()=>Vd,eBb:()=>Lc,L6k:()=>qf,LAX:()=>Yf,cg1:()=>$_,kL8:()=>iT,yhl:()=>Fd,dqk:()=>Ht,sIi:()=>tu,CqO:()=>Hb,QGY:()=>S_,F4k:()=>jb,RDi:()=>Tf,AaK:()=>me,z3N:()=>is,qOj:()=>sr,TTD:()=>tl,_Bn:()=>xw,xp6:()=>M1,uIk:()=>iu,Tol:()=>rw,ekj:()=>O_,Suo:()=>aS,Xpm:()=>Pt,lG2:()=>re,Yz7:()=>nn,cJS:()=>rn,oAB:()=>k,Yjl:()=>Fe,Y36:()=>Ll,_UZ:()=>Ub,BQk:()=>Xd,ynx:()=>Mp,qZA:()=>au,TgZ:()=>I_,EpF:()=>T_,n5z:()=>Sc,Ikx:()=>jp,SDv:()=>Aw,QtT:()=>ry,pQV:()=>Mw,LFG:()=>ci,$8M:()=>Ac,$Z:()=>Qd,NdJ:()=>A_,CRH:()=>lS,oxw:()=>qb,Hsn:()=>Zb,F$t:()=>Yb,Q6J:()=>E_,s9C:()=>x_,MGl:()=>kp,VKq:()=>jT,WLB:()=>HT,kEZ:()=>Lw,iGM:()=>gy,MAs:()=>Dp,CHM:()=>hm,LSH:()=>ep,Udp:()=>Lp,YNc:()=>qd,W1O:()=>hS,_uU:()=>HI,Oqu:()=>lw,hij:()=>B_,Gf:()=>oS});var c=L(7579),j=L(727),F=L(8306),de=L(6451),De=L(3099);function Ce(o){for(let a in o)if(o[a]===Ce)return a;throw Error("Could not find renamed property on target object.")}function fe(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function me(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(me).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function xe(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const W=Ce({__forward_ref__:Ce});function $(o){return o.__forward_ref__=$,o.toString=function(){return me(this())},o}function X(o){return Ye(o)?o():o}function Ye(o){return"function"==typeof o&&o.hasOwnProperty(W)&&o.__forward_ref__===$}class Ve extends Error{constructor(a,l){super(function ke(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,l)),this.code=a}}function te(o){return"string"==typeof o?o:null==o?"":String(o)}function Te(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():te(o)}function be(o,a){const l=a?` in ${a}`:"";throw new Ve(-201,`No provider for ${Te(o)} found${l}`)}function ht(o,a,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}function nn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function rn(o){return{providers:o.providers||[],imports:o.imports||[]}}function In(o){return kr(o,br)||kr(o,Vi)}function kr(o,a){return o.hasOwnProperty(a)?o[a]:null}function Kr(o){return o&&(o.hasOwnProperty(Rr)||o.hasOwnProperty(To))?o[Rr]:null}const br=Ce({\u0275prov:Ce}),Rr=Ce({\u0275inj:Ce}),Vi=Ce({ngInjectableDef:Ce}),To=Ce({ngInjectorDef:Ce});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let Qi;function an(o){const a=Qi;return Qi=o,a}function pi(o,a,l){const d=In(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&pt.Optional?null:void 0!==a?a:void be(me(o),"Injector")}function qn(o){return{toString:o}.toString()}var Fn=(()=>((Fn=Fn||{})[Fn.OnPush=0]="OnPush",Fn[Fn.Default=1]="Default",Fn))(),Vt=(()=>{return(o=Vt||(Vt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Vt;var o})();const ft="undefined"!=typeof globalThis&&globalThis,it="undefined"!=typeof window&&window,Or="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ht=ft||"undefined"!=typeof global&&global||it||Or,cn={},gt=[],Yn=Ce({\u0275cmp:Ce}),$t=Ce({\u0275dir:Ce}),Ue=Ce({\u0275pipe:Ce}),_e=Ce({\u0275mod:Ce}),Xe=Ce({\u0275fac:Ce}),dt=Ce({__NG_ELEMENT_ID__:Ce});let Ft=0;function Pt(o){return qn(()=>{const l={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||gt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Vt.Emulated,id:"c",styles:o.styles||gt,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,g=o.features,v=o.pipes;return d.id+=Ft++,d.inputs=U(o.inputs,l),d.outputs=U(o.outputs),g&&g.forEach(w=>w(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(B):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(q):null,d})}function B(o){return We(o)||function Dt(o){return o[$t]||null}(o)}function q(o){return function tt(o){return o[Ue]||null}(o)}const ae={};function k(o){return qn(()=>{const a={type:o.type,bootstrap:o.bootstrap||gt,declarations:o.declarations||gt,imports:o.imports||gt,exports:o.exports||gt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(ae[o.id]=o.type),a})}function U(o,a){if(null==o)return cn;const l={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),l[f]=d,a&&(a[f]=g)}return l}const re=Pt;function Fe(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function We(o){return o[Yn]||null}function Tt(o,a){const l=o[_e]||null;if(!l&&!0===a)throw new Error(`Type ${me(o)} does not have '\u0275mod' property.`);return l}function xi(o){return Array.isArray(o)&&"object"==typeof o[1]}function wr(o){return Array.isArray(o)&&!0===o[1]}function Xa(o){return 0!=(8&o.flags)}function qu(o){return 2==(2&o.flags)}function Mo(o){return 1==(1&o.flags)}function Fr(o){return null!==o.template}function Yu(o){return 0!=(512&o[2])}function Lr(o,a){return o.hasOwnProperty(Xe)?o[Xe]:null}class om{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function tl(){return dc}function dc(o){return o.type.prototype.ngOnChanges&&(o.setInput=nl),am}function am(){const o=pa(this),a=null==o?void 0:o.current;if(a){const l=o.previous;if(l===cn)o.previous=a;else for(let d in a)l[d]=a[d];o.current=null,this.ngOnChanges(a)}}function nl(o,a,l,d){const f=pa(o)||function lm(o,a){return o[_i]=a}(o,{previous:cn,current:null}),g=f.current||(f.current={}),v=f.previous,w=this.declaredInputs[l],E=v[w];g[w]=new om(E&&E.currentValue,a,v===cn),o[d]=a}tl.ngInherit=!0;const _i="__ngSimpleChanges__";function pa(o){return o[_i]||null}let pc;function Tf(o){pc=o}function rl(){return void 0!==pc?pc:"undefined"!=typeof document?document:void 0}function vn(o){return!!o.listen}const sl={createRenderer:(o,a)=>rl()};function mn(o){for(;Array.isArray(o);)o=o[0];return o}function ga(o,a){return mn(a[o])}function yi(o,a){return mn(a[o.index])}function mc(o,a){return o.data[a]}function ji(o,a){const l=a[o];return xi(l)?l:l[0]}function xo(o){return 4==(4&o[2])}function ma(o){return 128==(128&o[2])}function bs(o,a){return null==a?null:o[a]}function Ks(o){o[18]=0}function No(o,a){o[5]+=a;let l=o,d=o[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const bt={lFrame:sd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function vc(){return bt.bindingsEnabled}function we(){return bt.lFrame.lView}function Ut(){return bt.lFrame.tView}function hm(o){return bt.lFrame.contextLView=o,o[8]}function bn(){let o=bc();for(;null!==o&&64===o.type;)o=o.parent;return o}function bc(){return bt.lFrame.currentTNode}function ko(){const o=bt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function Vr(o,a){const l=bt.lFrame;l.currentTNode=o,l.isParent=a}function ed(){return bt.lFrame.isParent}function ll(){bt.lFrame.isParent=!1}function _a(){return bt.isInCheckNoChangesMode}function wc(o){bt.isInCheckNoChangesMode=o}function ni(){const o=bt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function ya(){return bt.lFrame.bindingIndex++}function Br(o){const a=bt.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function Cc(o){bt.lFrame.inI18n=o}function pm(o,a){const l=bt.lFrame;l.bindingIndex=l.bindingRootIndex=o,nd(a)}function nd(o){bt.lFrame.currentDirectiveIndex=o}function gm(){return bt.lFrame.currentQueryIndex}function id(o){bt.lFrame.currentQueryIndex=o}function mm(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function rd(o,a,l){if(l&pt.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||l&pt.Host||(f=mm(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;a=f,o=g}const d=bt.lFrame=Oo();return d.currentTNode=a,d.lView=o,!0}function Ec(o){const a=Oo(),l=o[1];bt.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Oo(){const o=bt.lFrame,a=null===o?null:o.child;return null===a?sd(o):a}function sd(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function _m(){const o=bt.lFrame;return bt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const ym=_m;function cl(){const o=_m();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Hi(){return bt.lFrame.selectedIndex}function Ds(o){bt.lFrame.selectedIndex=o}function Sn(){const o=bt.lFrame;return mc(o.tView,o.selectedIndex)}function ul(o,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const g=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:S}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-l,v),w&&((o.contentHooks||(o.contentHooks=[])).push(l,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,w)),E&&(o.viewHooks||(o.viewHooks=[])).push(-l,E),T&&((o.viewHooks||(o.viewHooks=[])).push(l,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,T)),null!=S&&(o.destroyHooks||(o.destroyHooks=[])).push(l,S)}}function od(o,a,l){bm(o,a,3,l)}function ad(o,a,l,d){(3&o[2])===l&&bm(o,a,l,d)}function ld(o,a){let l=o[2];(3&l)===a&&(l&=2047,l+=1,o[2]=l)}function bm(o,a,l,d){const g=null!=d?d:-1,v=a.length-1;let w=0;for(let E=void 0!==d?65535&o[18]:0;E<v;E++)if("number"==typeof a[E+1]){if(w=a[E],null!=d&&w>=d)break}else a[E]<0&&(o[18]+=65536),(w<g||-1==g)&&(xf(o,l,a,E),o[18]=(4294901760&o[18])+E+2),E++}function xf(o,a,l,d){const f=l[d]<0,g=l[d+1],w=o[f?-l[d]:l[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Ic{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function va(o,a,l){const d=vn(o);let f=0;for(;f<l.length;){const g=l[f];if("number"==typeof g){if(0!==g)break;f++;const v=l[f++],w=l[f++],E=l[f++];d?o.setAttribute(a,w,E,v):a.setAttributeNS(v,w,E)}else{const v=g,w=l[++f];dd(v)?d&&o.setProperty(a,v,w):d?o.setAttribute(a,v,w):a.setAttribute(v,w),f++}}return f}function kf(o){return 3===o||4===o||6===o}function dd(o){return 64===o.charCodeAt(0)}function Qs(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?l=f:0===l||hd(o,l,f,null,-1===l||2===l?a[++d]:null)}}return o}function hd(o,a,l,d,f){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const w=o[g++];if("number"==typeof w){if(w===a){v=-1;break}if(w>a){v=g-1;break}}}for(;g<o.length;){const w=o[g];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==f&&(o[g+1]=f));if(d===o[g+1])return void(o[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,l),null!==d&&o.splice(g++,0,d),null!==f&&o.splice(g++,0,f)}function Ln(o){return-1!==o}function vi(o){return 32767&o}function on(o,a){let l=function es(o){return o>>16}(o),d=a;for(;l>0;)d=d[15],l--;return d}let st=!0;function Tc(o){const a=st;return st=o,a}let hl=0;function Ni(o,a){const l=gd(o,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,Zn(d.data,o),Zn(a,null),Zn(d.blueprint,null));const f=Lo(o,a),g=o.injectorIndex;if(Ln(f)){const v=vi(f),w=on(f,a),E=w[1].data;for(let T=0;T<8;T++)a[g+T]=w[v+T]|E[v+T]}return a[g+8]=f,g}function Zn(o,a){o.push(0,0,0,0,0,0,0,0,a)}function gd(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Lo(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,f=a;for(;null!==f;){const g=f[1],v=g.type;if(d=2===v?g.declTNode:1===v?f[6]:null,null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function fl(o,a,l){!function pd(o,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(dt)&&(d=l[dt]),null==d&&(d=l[dt]=hl++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,l)}function Rf(o,a,l){if(l&pt.Optional)return o;be(a,"NodeInjector")}function Xs(o,a,l,d){if(l&pt.Optional&&void 0===d&&(d=null),0==(l&(pt.Self|pt.Host))){const f=o[9],g=an(void 0);try{return f?f.get(a,d,l&pt.Optional):pi(a,d,l&pt.Optional)}finally{an(g)}}return Rf(d,a,l)}function ts(o,a,l,d=pt.Default,f){if(null!==o){const g=function Of(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(dt)?o[dt]:void 0;return"number"==typeof a?a>=0?255&a:li:a}(l);if("function"==typeof g){if(!rd(a,o,d))return d&pt.Host?Rf(f,l,d):Xs(a,l,d,f);try{const v=g(d);if(null!=v||d&pt.Optional)return v;be(l)}finally{ym()}}else if("number"==typeof g){let v=null,w=gd(o,a),E=-1,T=d&pt.Host?a[16][6]:null;for((-1===w||d&pt.SkipSelf)&&(E=-1===w?Lo(o,a):a[w+8],-1!==E&&gl(d,!1)?(v=a[1],w=vi(E),a=on(E,a)):w=-1);-1!==w;){const S=a[1];if(yd(g,w,S.data)){const O=Vo(w,a,l,v,d,T);if(O!==_d)return O}E=a[w+8],-1!==E&&gl(d,a[1].data[w+8]===T)&&yd(g,w,a)?(v=S,w=vi(E),a=on(E,a)):w=-1}}}return Xs(a,l,d,f)}const _d={};function li(){return new Bo(bn(),we())}function Vo(o,a,l,d,f,g){const v=a[1],w=v.data[o+8],S=pl(w,v,l,null==d?qu(w)&&st:d!=v&&0!=(3&w.type),f&pt.Host&&g===w);return null!==S?ba(a,v,S,w):_d}function pl(o,a,l,d,f){const g=o.providerIndexes,v=a.data,w=1048575&g,E=o.directiveStart,S=g>>20,H=f?w+S:o.directiveEnd;for(let K=d?w:w+S;K<H;K++){const he=v[K];if(K<E&&l===he||K>=E&&he.type===l)return K}if(f){const K=v[E];if(K&&Fr(K)&&K.type===l)return E}return null}function ba(o,a,l,d){let f=o[l];const g=a.data;if(function cd(o){return o instanceof Ic}(f)){const v=f;v.resolving&&function Je(o,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Ve(-200,`Circular dependency in DI detected for ${o}${l}`)}(Te(g[l]));const w=Tc(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?an(v.injectImpl):null;rd(o,d,pt.Default);try{f=o[l]=v.factory(void 0,g,o,d),a.firstCreatePass&&l>=d.directiveStart&&function Po(o,a,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(d){const v=dc(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,v)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,f),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,g))}(l,g[l],a)}finally{null!==E&&an(E),Tc(w),v.resolving=!1,ym()}}return f}function yd(o,a,l){return!!(l[a+(o>>5)]&1<<o)}function gl(o,a){return!(o&pt.Self||o&pt.Host&&a)}class Bo{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return ts(this._tNode,this._lView,a,d,l)}}function Sc(o){return qn(()=>{const a=o.prototype.constructor,l=a[Xe]||ml(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const g=f[Xe]||ml(f);if(g&&g!==l)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function ml(o){return Ye(o)?()=>{const a=ml(X(o));return a&&a()}:Lr(o)}function Ac(o){return function md(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const g=l[f];if(kf(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(g===a)return l[f+1];f+=2}}}return null}(bn(),o)}const Dr="__parameters__";function Es(o,a,l){return qn(()=>{const d=function Mc(o){return function(...l){if(o){const d=o(...l);for(const f in d)this[f]=d[f]}}}(a);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return w.annotation=v,w;function w(E,T,S){const O=E.hasOwnProperty(Dr)?E[Dr]:Object.defineProperty(E,Dr,{value:[]})[Dr];for(;O.length<=S;)O.push(null);return(O[S]=O[S]||[]).push(v),E}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Mn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=nn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const bd=new Mn("AnalyzeForEntryComponents");function nr(o,a){void 0===a&&(a=o);for(let l=0;l<o.length;l++){let d=o[l];Array.isArray(d)?(a===o&&(a=o.slice(0,l)),nr(d,a)):a!==o&&a.push(d)}return a}function Is(o,a){o.forEach(l=>Array.isArray(l)?Is(l,a):a(l))}function Da(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function yl(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function ir(o,a){const l=[];for(let d=0;d<o;d++)l.push(a);return l}function Cr(o,a,l){let d=Go(o,a);return d>=0?o[1|d]=l:(d=~d,function Cd(o,a,l,d){let f=o.length;if(f==a)o.push(l,d);else if(1===f)o.push(d,o[0]),o[0]=l;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=l,o[a+1]=d}}(o,d,a,l)),d}function Lf(o,a){const l=Go(o,a);if(l>=0)return o[1|l]}function Go(o,a){return function Nc(o,a,l){let d=0,f=o.length>>l;for(;f!==d;){const g=d+(f-d>>1),v=o[g<<l];if(a===v)return g<<l;v>a?f=g:d=g+1}return~(f<<l)}(o,a,1)}const Ss={},Ia="__NG_DI_FLAG__",vl="ngTempTokenPath",jf=/\n/gm,bl="__source",xm=Ce({provide:String,useValue:Ce});let kc;function Rc(o){const a=kc;return kc=o,a}function Hf(o,a=pt.Default){if(void 0===kc)throw new Ve(203,"");return null===kc?pi(o,void 0,a):kc.get(o,a&pt.Optional?null:void 0,a)}function ci(o,a=pt.Default){return(function Wn(){return Qi}()||Hf)(X(o),a)}const Gf=ci;function Sa(o){const a=[];for(let l=0;l<o.length;l++){const d=X(o[l]);if(Array.isArray(d)){if(0===d.length)throw new Ve(900,"");let f,g=pt.Default;for(let v=0;v<d.length;v++){const w=d[v],E=wl(w);"number"==typeof E?-1===E?f=w.token:g|=E:f=w}a.push(ci(f,g))}else a.push(ci(d))}return a}function As(o,a){return o[Ia]=a,o.prototype[Ia]=a,o}function wl(o){return o[Ia]}const to=As(Es("Inject",o=>({token:o})),-1),Ms=As(Es("Optional"),8),ns=As(Es("SkipSelf"),4);let ro;function Wo(o){var a;return(null===(a=function zo(){if(void 0===ro&&(ro=null,Ht.trustedTypes))try{ro=Ht.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return ro}())||void 0===a?void 0:a.createHTML(o))||o}class xs{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class zf extends xs{getTypeName(){return"HTML"}}class Fm extends xs{getTypeName(){return"Style"}}class Fc extends xs{getTypeName(){return"Script"}}class Lm extends xs{getTypeName(){return"URL"}}class Wf extends xs{getTypeName(){return"ResourceURL"}}function is(o){return o instanceof xs?o.changingThisBreaksApplicationSecurity:o}function qo(o,a){const l=Fd(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}function Fd(o){return o instanceof xs&&o.getTypeName()||null}function Ld(o){return new zf(o)}function qf(o){return new Fm(o)}function Lc(o){return new Fc(o)}function Yf(o){return new Lm(o)}function Vd(o){return new Wf(o)}function Zf(o){const a=new b0(o);return function b(){try{return!!(new window.DOMParser).parseFromString(Wo(""),"text/html")}catch(o){return!1}}()?new Vc(a):a}class Vc{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(Wo(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class b0{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Wo(a),l;const d=this.inertDocument.createElement("body");return d.innerHTML=Wo(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const l=a.attributes;for(let f=l.length-1;0<f;f--){const v=l.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const m=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,D=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function M(o){return(o=String(o)).match(m)||o.match(D)?o:"unsafe:"+o}function R(o){return(o=String(o)).split(",").map(a=>M(a.trim())).join(", ")}function Q(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function ve(...o){const a={};for(const l of o)for(const d in l)l.hasOwnProperty(d)&&(a[d]=!0);return a}const rt=Q("area,br,col,hr,img,wbr"),mt=Q("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kt=Q("rp,rt"),Il=ve(rt,ve(mt,Q("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ve(kt,Q("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ve(kt,mt)),Na=Q("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Tl=Q("srcset"),Sl=ve(Na,Tl,Q("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Q("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),so=Q("script,style,template");class Jf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!Il.hasOwnProperty(l))return this.sanitizedSomething=!0,!so.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=a.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,w=v.toLowerCase();if(!Sl.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=g.value;Na[w]&&(E=M(E)),Tl[w]&&(E=R(E)),this.buf.push(" ",v,'="',Bd(E),'"')}return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();Il.hasOwnProperty(l)&&!rt.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(Bd(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const Bc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qf=/([^\#-~ |!])/g;function Bd(o){return o.replace(/&/g,"&amp;").replace(Bc,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Qf,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ka;function Xf(o,a){let l=null;try{ka=ka||Zf(o);let d=a?String(a):"";l=ka.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=l.innerHTML,l=ka.getInertBodyElement(d)}while(d!==g);return Wo((new Jf).sanitizeChildren(Uc(l)||l))}finally{if(l){const d=Uc(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Uc(o){return"content"in o&&function w0(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Kn=(()=>((Kn=Kn||{})[Kn.NONE=0]="NONE",Kn[Kn.HTML=1]="HTML",Kn[Kn.STYLE=2]="STYLE",Kn[Kn.SCRIPT=3]="SCRIPT",Kn[Kn.URL=4]="URL",Kn[Kn.RESOURCE_URL=5]="RESOURCE_URL",Kn))();function ep(o){const a=function jc(){const o=we();return o&&o[12]}();return a?a.sanitize(Kn.URL,o)||"":qo(o,"URL")?is(o):M(te(o))}const KE="__ngContext__";function xn(o,a){o[KE]=a}function Bm(o){const a=function Ud(o){return o[KE]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function Gc(o){return o.ngOriginalError}function QE(o,...a){o.error(...a)}class Bn{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a),d=function $c(o){return o&&o.ngErrorLogger||QE}(a);d(this._console,"ERROR",a),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&Gc(a);for(;l&&Gc(l);)l=Gc(l);return l||null}}const e1=/^>|^->|<!--|-->|--!>|<!-$/g,t1=/(<|>)/;const FR=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ht))();function Zo(o){return o instanceof Function?o():o}var lo=(()=>((lo=lo||{})[lo.Important=1]="Important",lo[lo.DashCase=2]="DashCase",lo))();let zc;function Wc(o,a){return zc(o,a)}function ip(o){const a=o[3];return wr(a)?a[3]:a}function Gm(o){return Ra(o[13])}function F0(o){return Ra(o[4])}function Ra(o){for(;null!==o&&!wr(o);)o=o[4];return o}function Nn(o,a,l,d,f){if(null!=d){let g,v=!1;wr(d)?g=d:xi(d)&&(v=!0,d=d[0]);const w=mn(d);0===o&&null!==l?null==f?g1(a,l,w):qc(a,l,w,f||null,!0):1===o&&null!==l?qc(a,l,w,f||null,!0):2===o?w1(a,w,v):3===o&&a.destroyNode(w),null!=g&&function WR(o,a,l,d,f){const g=l[7];g!==mn(l)&&Nn(a,o,d,g,f);for(let w=10;w<l.length;w++){const E=l[w];sp(E[1],E,o,a,d,g)}}(a,o,g,l,f)}}function lt(o,a){return vn(o)?o.createText(a):o.createTextNode(a)}function a1(o,a,l){vn(o)?o.setValue(a,l):a.textContent=l}function LR(o,a){return o.createComment(function N0(o){return o.replace(e1,a=>a.replace(t1,"\u200b$1\u200b"))}(a))}function V0(o,a,l){if(vn(o))return o.createElement(a,l);{const d=null!==l?function If(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?o.createElement(a):o.createElementNS(d,a)}}function d1(o,a){const l=o[9],d=l.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,No(f,-1)),l.splice(d,1)}function B0(o,a){if(o.length<=10)return;const l=10+a,d=o[l];if(d){const f=d[17];null!==f&&f!==o&&d1(f,d),a>0&&(o[l-1][4]=d[4]);const g=yl(o,10+a);!function VR(o,a){sp(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function h1(o,a){if(!(256&a[2])){const l=a[11];vn(l)&&l.destroyNode&&sp(o,a,l,3,null,null),function c1(o){let a=o[13];if(!a)return U0(o[1],o);for(;a;){let l=null;if(xi(a))l=a[13];else{const d=a[10];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==o;)xi(a)&&U0(a[1],a),a=a[3];null===a&&(a=o),xi(a)&&U0(a[1],a),l=a&&a[4]}a=l}}(a)}}function U0(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function HR(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const f=a[l[d]];if(!(f instanceof Ic)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const w=f[g[v]],E=g[v+1];try{E.call(w)}finally{}}else try{g.call(f)}finally{}}}}(o,a),function jR(o,a){const l=o.cleanup,d=a[7];let f=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],w="function"==typeof v?v(a):mn(a[v]),E=d[f=l[g+2]],T=l[g+3];"boolean"==typeof T?w.removeEventListener(l[g],E,T):T>=0?d[f=T]():d[f=-T].unsubscribe(),g+=2}else{const v=d[f=l[g+1]];l[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)d[g]();a[7]=null}}(o,a),1===a[1].type&&vn(a[11])&&a[11].destroy();const l=a[17];if(null!==l&&wr(a[3])){l!==a[3]&&d1(l,a);const d=a[19];null!==d&&d.detachView(o)}}}function f1(o,a,l){return p1(o,a.parent,l)}function p1(o,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===Vt.None||f===Vt.Emulated)return null}return yi(d,l)}function qc(o,a,l,d,f){vn(o)?o.insertBefore(a,l,d,f):a.insertBefore(l,d,f)}function g1(o,a,l){vn(o)?o.appendChild(a,l):a.appendChild(l)}function j0(o,a,l,d,f){null!==d?qc(o,a,l,d,f):g1(o,a,l)}function $m(o,a){return vn(o)?o.parentNode(a):a.parentNode}function m1(o,a,l){return y1(o,a,l)}function _1(o,a,l){return 40&o.type?yi(o,l):null}let H0,y1=_1;function v1(o,a){y1=o,H0=a}function zm(o,a,l,d){const f=f1(o,d,a),g=a[11],w=m1(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(l))for(let E=0;E<l.length;E++)j0(g,f,l[E],w,!1);else j0(g,f,l,w,!1);void 0!==H0&&H0(g,d,a,l,f)}function Wm(o,a){if(null!==a){const l=a.type;if(3&l)return yi(a,o);if(4&l)return G0(-1,o[a.index]);if(8&l){const d=a.child;if(null!==d)return Wm(o,d);{const f=o[a.index];return wr(f)?G0(-1,f):mn(f)}}if(32&l)return Wc(a,o)()||mn(o[a.index]);{const d=b1(o,a);return null!==d?Array.isArray(d)?d[0]:Wm(ip(o[16]),d):Wm(o,a.next)}}return null}function b1(o,a){return null!==a?o[16][6].projection[a.projection]:null}function G0(o,a){const l=10+o+1;if(l<a.length){const d=a[l],f=d[1].firstChild;if(null!==f)return Wm(d,f)}return a[7]}function w1(o,a,l){const d=$m(o,a);d&&function GR(o,a,l,d){vn(o)?o.removeChild(a,l,d):a.removeChild(l)}(o,d,a,l)}function $0(o,a,l,d,f,g,v){for(;null!=l;){const w=d[l.index],E=l.type;if(v&&0===a&&(w&&xn(mn(w),d),l.flags|=4),64!=(64&l.flags))if(8&E)$0(o,a,l.child,d,f,g,!1),Nn(a,o,f,w,g);else if(32&E){const T=Wc(l,d);let S;for(;S=T();)Nn(a,o,f,S,g);Nn(a,o,f,w,g)}else 16&E?D1(o,a,d,l,f,g):Nn(a,o,f,w,g);l=v?l.projectionNext:l.next}}function sp(o,a,l,d,f,g){$0(l,d,o.firstChild,a,f,g,!1)}function D1(o,a,l,d,f,g){const v=l[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)Nn(a,o,f,E[T],g);else $0(o,a,E,v[3],f,g,!0)}function C1(o,a,l){vn(o)?o.setAttribute(a,"style",l):a.style.cssText=l}function z0(o,a,l){vn(o)?""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l):a.className=l}function E1(o,a,l){let d=o.length;for(;;){const f=o.indexOf(a,l);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===d||o.charCodeAt(f+g)<=32)return f}l=f+1}}const I1="ng-template";function YR(o,a,l){let d=0;for(;d<o.length;){let f=o[d++];if(l&&"class"===f){if(f=o[d],-1!==E1(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function T1(o){return 4===o.type&&o.value!==I1}function ZR(o,a,l){return a===(4!==o.type||l?o.value:I1)}function KR(o,a,l){let d=4;const f=o.attrs||[],g=function XR(o){for(let a=0;a<o.length;a++)if(kf(o[a]))return a;return o.length}(f);let v=!1;for(let w=0;w<a.length;w++){const E=a[w];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!ZR(o,E,l)||""===E&&1===a.length){if(co(d))return!1;v=!0}}else{const T=8&d?E:a[++w];if(8&d&&null!==o.attrs){if(!YR(o.attrs,T,l)){if(co(d))return!1;v=!0}continue}const O=JR(8&d?"class":E,f,T1(o),l);if(-1===O){if(co(d))return!1;v=!0;continue}if(""!==T){let H;H=O>g?"":f[O+1].toLowerCase();const K=8&d?H:null;if(K&&-1!==E1(K,T,0)||2&d&&T!==H){if(co(d))return!1;v=!0}}}}else{if(!v&&!co(d)&&!co(E))return!1;if(v&&co(E))continue;v=!1,d=E|1&d}}return co(d)||v}function co(o){return 0==(1&o)}function JR(o,a,l,d){if(null===a)return-1;let f=0;if(d||!l){let g=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function eO(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,o)}function S1(o,a,l=!1){for(let d=0;d<a.length;d++)if(KR(o,a[d],l))return!0;return!1}function tO(o,a){e:for(let l=0;l<a.length;l++){const d=a[l];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function A1(o,a){return o?":not("+a.trim()+")":a}function nO(o){let a=o[0],l=1,d=2,f="",g=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&d){const w=o[++l];f+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!co(v)&&(a+=A1(g,f),f=""),d=v,g=g||!co(d);l++}return""!==f&&(a+=A1(g,f)),a}const Rt={};function M1(o){x1(Ut(),we(),Hi()+o,_a())}function x1(o,a,l,d){if(!d)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&od(a,g,l)}else{const g=o.preOrderHooks;null!==g&&ad(a,g,0,l)}Ds(l)}function qm(o,a){return o<<17|a<<2}function Ns(o){return o>>17&32767}function W0(o){return 2|o}function Oa(o){return(131068&o)>>2}function q0(o,a){return-131069&o|a<<2}function Y0(o){return 1|o}function j1(o,a){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],g=l[d+1];if(-1!==g){const v=o.data[g];id(f),v.contentQueries(2,a[g],g)}}}function op(o,a,l,d,f,g,v,w,E,T){const S=a.blueprint.slice();return S[0]=f,S[2]=140|d,Ks(S),S[3]=S[15]=o,S[8]=l,S[10]=v||o&&o[10],S[11]=w||o&&o[11],S[12]=E||o&&o[12]||null,S[9]=T||o&&o[9]||null,S[6]=g,S[16]=2==a.type?o[16]:S,S}function Rn(o,a,l,d,f){let g=o.data[a];if(null===g)g=ap(o,a,l,d,f),function fm(){return bt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=f;const v=ko();g.injectorIndex=null===v?-1:v.injectorIndex}return Vr(g,!0),g}function ap(o,a,l,d,f){const g=bc(),v=ed(),E=o.data[a]=function yO(o,a,l,d,f,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,a,d,f);return null===o.firstChild&&(o.firstChild=E),null!==g&&(v?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E)),E}function ss(o,a,l,d){if(0===l)return-1;const f=a.length;for(let g=0;g<l;g++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function Ko(o,a,l){Ec(a);try{const d=o.viewQuery;null!==d&&dp(1,d,l);const f=o.template;null!==f&&Cn(o,a,f,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&j1(o,a),o.staticViewQueries&&dp(2,o.viewQuery,l);const g=o.components;null!==g&&function H1(o,a){for(let l=0;l<a.length;l++)OO(o,a[l])}(a,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,cl()}}function Yc(o,a,l,d){const f=a[2];if(256==(256&f))return;Ec(a);const g=_a();try{Ks(a),function Dc(o){return bt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&Cn(o,a,l,2,d);const v=3==(3&f);if(!g)if(v){const T=o.preOrderCheckHooks;null!==T&&od(a,T,null)}else{const T=o.preOrderHooks;null!==T&&ad(a,T,0,null),ld(a,0)}if(function eI(o){for(let a=Gm(o);null!==a;a=F0(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const f=l[d],g=f[3];0==(1024&f[2])&&No(g,1),f[2]|=1024}}}(a),function Zc(o){for(let a=Gm(o);null!==a;a=F0(a))for(let l=10;l<a.length;l++){const d=a[l],f=d[1];ma(d)&&Yc(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&j1(o,a),!g)if(v){const T=o.contentCheckHooks;null!==T&&od(a,T)}else{const T=o.contentHooks;null!==T&&ad(a,T,1),ld(a,1)}!function gO(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)Ds(~f);else{const g=f,v=l[++d],w=l[++d];pm(v,g),w(2,a[g])}}}finally{Ds(-1)}}(o,a);const w=o.components;null!==w&&function mO(o,a){for(let l=0;l<a.length;l++)RO(o,a[l])}(a,w);const E=o.viewQuery;if(null!==E&&dp(2,E,d),!g)if(v){const T=o.viewCheckHooks;null!==T&&od(a,T)}else{const T=o.viewHooks;null!==T&&ad(a,T,2),ld(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),g||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,No(a[3],-1))}finally{cl()}}function lp(o,a,l,d){const f=a[10],g=!_a(),v=xo(a);try{g&&!v&&f.begin&&f.begin(),v&&Ko(o,a,d),Yc(o,a,l,d)}finally{g&&!v&&f.end&&f.end()}}function Cn(o,a,l,d,f){const g=Hi(),v=2&d;try{Ds(-1),v&&a.length>20&&x1(o,a,20,_a()),l(d,f)}finally{Ds(g)}}function Km(o,a,l){if(Xa(a)){const f=a.directiveEnd;for(let g=a.directiveStart;g<f;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function ib(o,a,l){!vc()||(function TO(o,a,l,d){const f=l.directiveStart,g=l.directiveEnd;o.firstCreatePass||Ni(l,a),xn(d,a);const v=l.initialInputs;for(let w=f;w<g;w++){const E=o.data[w],T=Fr(E);T&&NO(a,l,E);const S=ba(a,o,w,l);xn(S,a),null!==v&&ob(0,w-f,S,E,0,v),T&&(ji(l.index,a)[8]=S)}}(o,a,l,yi(l,a)),128==(128&l.flags)&&function SO(o,a,l){const d=l.directiveStart,f=l.directiveEnd,v=l.index,w=function td(){return bt.lFrame.currentDirectiveIndex}();try{Ds(v);for(let E=d;E<f;E++){const T=o.data[E],S=a[E];nd(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Z1(T,S)}}finally{Ds(-1),nd(w)}}(o,a,l))}function rb(o,a,l=yi){const d=a.localNames;if(null!==d){let f=a.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],w=-1===v?l(a,o):o[v];o[f++]=w}}}function Jm(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Qm(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Qm(o,a,l,d,f,g,v,w,E,T){const S=20+d,O=S+f,H=function G1(o,a){const l=[];for(let d=0;d<a;d++)l.push(d<o?null:Rt);return l}(S,O),K="function"==typeof T?T():T;return H[1]={type:o,blueprint:H,template:l,queries:null,viewQuery:w,declTNode:a,data:H.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:K,incompleteFirstPass:!1}}function W1(o,a,l,d){const f=ub(a);null===l?f.push(d):(f.push(l),o.firstCreatePass&&uo(o).push(d,f.length-1))}function q1(o,a,l){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(a,f):l[d]=[a,f]}return l}function os(o,a,l,d,f,g,v,w){const E=yi(a,l);let S,T=a.inputs;!w&&null!=T&&(S=T[d])?(tI(o,l,S,d,f),qu(a)&&function wO(o,a){const l=ji(a,o);16&l[2]||(l[2]|=64)}(l,a.index)):3&a.type&&(d=function bO(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,a.value||"",d):f,vn(g)?g.setProperty(E,d,f):dd(d)||(E.setProperty?E.setProperty(d,f):E[d]=f))}function Xm(o,a,l,d){let f=!1;if(vc()){const g=function AO(o,a,l){const d=o.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];S1(l,v.selectors,!1)&&(f||(f=[]),fl(Ni(l,a),o,v.type),Fr(v)?(K1(o,l),f.unshift(v)):f.push(v))}return f}(o,a,l),v=null===d?null:{"":-1};if(null!==g){f=!0,J1(l,o.data.length,g.length);for(let S=0;S<g.length;S++){const O=g[S];O.providersResolver&&O.providersResolver(O)}let w=!1,E=!1,T=ss(o,a,g.length,null);for(let S=0;S<g.length;S++){const O=g[S];l.mergedAttrs=Qs(l.mergedAttrs,O.hostAttrs),Q1(o,l,a,T,O),xO(T,O,v),null!==O.contentQueries&&(l.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(l.flags|=128);const H=O.type.prototype;!w&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),w=!0),!E&&(H.ngOnChanges||H.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),E=!0),T++}!function vO(o,a){const d=a.directiveEnd,f=o.data,g=a.attrs,v=[];let w=null,E=null;for(let T=a.directiveStart;T<d;T++){const S=f[T],O=S.inputs,H=null===g||T1(a)?null:X1(O,g);v.push(H),w=q1(O,T,w),E=q1(S.outputs,T,E)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=w,a.outputs=E}(o,l)}v&&function MO(o,a,l){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=l[a[f+1]];if(null==g)throw new Ve(-301,!1);d.push(a[f],g)}}}(l,d,v)}return l.mergedAttrs=Qs(l.mergedAttrs,l.attrs),f}function e_(o,a,l,d,f,g){const v=g.hostBindings;if(v){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const E=~a.index;(function IO(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(w)!=E&&w.push(E),w.push(d,f,v)}}function Z1(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function K1(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function xO(o,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=o;Fr(a)&&(l[""]=o)}}function J1(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}function Q1(o,a,l,d,f){o.data[d]=f;const g=f.factory||(f.factory=Lr(f.type)),v=new Ic(g,Fr(f),null);o.blueprint[d]=v,l[d]=v,e_(o,a,0,d,ss(o,l,f.hostVars,Rt),f)}function NO(o,a,l){const d=yi(a,o),f=Jm(l),g=o[10],v=i_(o,op(o,f,null,l.onPush?64:16,d,a,g,g.createRenderer(d,l),null,null));o[a.index]=v}function cp(o,a,l,d,f,g,v){if(null==g)vn(o)?o.removeAttribute(a,f,l):a.removeAttribute(f);else{const w=null==v?te(g):v(g,d||"",f);vn(o)?o.setAttribute(a,f,w,l):l?a.setAttributeNS(l,f,w):a.setAttribute(f,w)}}function ob(o,a,l,d,f,g){const v=g[a];if(null!==v){const w=d.setInput;for(let E=0;E<v.length;){const T=v[E++],S=v[E++],O=v[E++];null!==w?d.setInput(l,O,T,S):l[S]=O}}}function X1(o,a){let l=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return l}function t_(o,a,l,d){return new Array(o,!0,!1,a,null,0,d,l,null,null)}function RO(o,a){const l=ji(a,o);if(ma(l)){const d=l[1];80&l[2]?Yc(d,l,d.template,l[8]):l[5]>0&&n_(l)}}function n_(o){for(let d=Gm(o);null!==d;d=F0(d))for(let f=10;f<d.length;f++){const g=d[f];if(1024&g[2]){const v=g[1];Yc(v,g,v.template,g[8])}else g[5]>0&&n_(g)}const l=o[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=ji(l[d],o);ma(f)&&f[5]>0&&n_(f)}}function OO(o,a){const l=ji(a,o),d=l[1];(function PO(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])})(d,l),Ko(d,l,l[8])}function i_(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function r_(o){for(;o;){o[2]|=64;const a=ip(o);if(Yu(o)&&!a)return o;o=a}return null}function ab(o,a,l){const d=a[10];d.begin&&d.begin();try{Yc(o,a,o.template,l)}catch(f){throw Kc(a,f),f}finally{d.end&&d.end()}}function o_(o){!function s_(o){for(let a=0;a<o.components.length;a++){const l=o.components[a],d=Bm(l),f=d[1];lp(f,d,f.template,l)}}(o[8])}function dp(o,a,l){id(0),a(o,l)}const cb=(()=>Promise.resolve(null))();function ub(o){return o[7]||(o[7]=[])}function uo(o){return o.cleanup||(o.cleanup=[])}function Kc(o,a){const l=o[9],d=l?l.get(Bn,null):null;d&&d.handleError(a)}function tI(o,a,l,d,f){for(let g=0;g<l.length;){const v=l[g++],w=l[g++],E=a[v],T=o.data[v];null!==T.setInput?T.setInput(E,f,d,w):E[w]=f}}function Er(o,a,l){let d=l?o.styles:null,f=l?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?g=w:1==g?f=xe(f,w):2==g&&(d=xe(d,w+": "+a[++v]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=f:o.classesWithoutHost=f}const hb=new Mn("INJECTOR",-1);class nI{get(a,l=Ss){if(l===Ss){const d=new Error(`NullInjectorError: No provider for ${me(a)}!`);throw d.name="NullInjectorError",d}return l}}const fb=new Mn("Set Injector scope."),pp={},LO={};let gp;function Jc(){return void 0===gp&&(gp=new nI),gp}function c_(o,a=null,l=null,d){const f=mp(o,a,l,d);return f._resolveInjectorDefTypes(),f}function mp(o,a=null,l=null,d){return new Wt(o,l,a||Jc(),d)}class Wt{constructor(a,l,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&Is(l,w=>this.processProvider(w,a,l)),Is([a],w=>this.processInjectorType(w,[],g)),this.records.set(hb,Xc(void 0,this));const v=this.records.get(fb);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof a?null:me(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,l=Ss,d=pt.Default){this.assertNotDestroyed();const f=Rc(this),g=an(void 0);try{if(!(d&pt.SkipSelf)){let w=this.records.get(a);if(void 0===w){const E=function VO(o){return"function"==typeof o||"object"==typeof o&&o instanceof Mn}(a)&&In(a);w=E&&this.injectableDefInScope(E)?Xc(Qc(a),pp):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&pt.Self?Jc():this.parent).get(a,l=d&pt.Optional&&l===Ss?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[vl]=v[vl]||[]).unshift(me(a)),f)throw v;return function Nm(o,a,l,d){const f=o[vl];throw a[bl]&&f.unshift(a[bl]),o.message=function Dl(o,a,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=me(a);if(Array.isArray(a))f=a.map(me).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let w=a[v];g.push(v+":"+("string"==typeof w?JSON.stringify(w):me(w)))}f=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${o.replace(jf,"\n  ")}`}("\n"+o.message,f,l,d),o.ngTokenPath=f,o[vl]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{an(g),Rc(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,f)=>a.push(me(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ve(205,!1)}processInjectorType(a,l,d){if(!(a=X(a)))return!1;let f=Kr(a);const g=null==f&&a.ngModule||void 0,v=void 0===g?a:g,w=-1!==d.indexOf(v);if(void 0!==g&&(f=Kr(g)),null==f)return!1;if(null!=f.imports&&!w){let S;d.push(v);try{Is(f.imports,O=>{this.processInjectorType(O,l,d)&&(void 0===S&&(S=[]),S.push(O))})}finally{}if(void 0!==S)for(let O=0;O<S.length;O++){const{ngModule:H,providers:K}=S[O];Is(K,he=>this.processProvider(he,H,K||gt))}}this.injectorDefTypes.add(v);const E=Lr(v)||(()=>new v);this.records.set(v,Xc(E,pp));const T=f.providers;if(null!=T&&!w){const S=a;Is(T,O=>this.processProvider(O,S,T))}return void 0!==g&&void 0!==a.providers}processProvider(a,l,d){let f=eu(a=X(a))?a:X(a&&a.provide);const g=function iI(o,a,l){return mb(o)?Xc(void 0,o.useValue):Xc(gb(o),pp)}(a);if(eu(a)||!0!==a.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=Xc(void 0,pp,!0),v.factory=()=>Sa(v.multi),this.records.set(f,v)),f=a,v.multi.push(a)}this.records.set(f,g)}hydrate(a,l){return l.value===pp&&(l.value=LO,l.value=l.factory()),"object"==typeof l.value&&l.value&&function lI(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=X(a.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Qc(o){const a=In(o),l=null!==a?a.factory:Lr(o);if(null!==l)return l;if(o instanceof Mn)throw new Ve(204,!1);if(o instanceof Function)return function pb(o){const a=o.length;if(a>0)throw ir(a,"?"),new Ve(204,!1);const l=function Li(o){const a=o&&(o[br]||o[Vi]);if(a){const l=function Mi(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new Ve(204,!1)}function gb(o,a,l){let d;if(eu(o)){const f=X(o);return Lr(f)||Qc(f)}if(mb(o))d=()=>X(o.useValue);else if(function sI(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Sa(o.deps||[]));else if(function rI(o){return!(!o||!o.useExisting)}(o))d=()=>ci(X(o.useExisting));else{const f=X(o&&(o.useClass||o.provide));if(!function aI(o){return!!o.deps}(o))return Lr(f)||Qc(f);d=()=>new f(...Sa(o.deps))}return d}function Xc(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function mb(o){return null!==o&&"object"==typeof o&&xm in o}function eu(o){return"function"==typeof o}let ks=(()=>{class o{static create(l,d){var f;if(Array.isArray(l))return c_({name:""},d,l,"");{const g=null!==(f=l.name)&&void 0!==f?f:"";return c_({name:g},l.parent,l.providers,g)}}}return o.THROW_IF_NOT_FOUND=Ss,o.NULL=new nI,o.\u0275prov=nn({token:o,providedIn:"any",factory:()=>ci(hb)}),o.__NG_ELEMENT_ID__=-1,o})();function f_(o,a){ul(Bm(o)[1],bn())}function sr(o){let a=function yp(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;a;){let f;if(Fr(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ve(903,"");f=a.\u0275dir}if(f){if(l){d.push(f);const v=o;v.inputs=$d(o.inputs),v.declaredInputs=$d(o.declaredInputs),v.outputs=$d(o.outputs);const w=f.hostBindings;w&&p_(o,w);const E=f.viewQuery,T=f.contentQueries;if(E&&Sb(o,E),T&&Ab(o,T),fe(o.inputs,f.inputs),fe(o.declaredInputs,f.declaredInputs),fe(o.outputs,f.outputs),Fr(f)&&f.data.animation){const S=o.data;S.animation=(S.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const w=g[v];w&&w.ngInherit&&w(o),w===sr&&(l=!1)}}a=Object.getPrototypeOf(a)}!function Tb(o){let a=0,l=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Qs(f.hostAttrs,l=Qs(l,f.hostAttrs))}}(d)}function $d(o){return o===cn?{}:o===gt?[]:o}function Sb(o,a){const l=o.viewQuery;o.viewQuery=l?(d,f)=>{a(d,f),l(d,f)}:a}function Ab(o,a){const l=o.contentQueries;o.contentQueries=l?(d,f,g)=>{a(d,f,g),l(d,f,g)}:a}function p_(o,a){const l=o.hostBindings;o.hostBindings=l?(d,f)=>{a(d,f),l(d,f)}:a}let zd=null;function kl(){if(!zd){const o=Ht.Symbol;if(o&&o.iterator)zd=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(zd=d)}}}return zd}function tu(o){return!!vp(o)&&(Array.isArray(o)||!(o instanceof Map)&&kl()in o)}function vp(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function as(o,a,l){return o[a]=l}function ki(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function Rl(o,a,l,d){const f=ki(o,a,l);return ki(o,a+1,d)||f}function iu(o,a,l,d){const f=we();return ki(f,ya(),a)&&(Ut(),function Jo(o,a,l,d,f,g){const v=yi(o,a);cp(a[11],v,g,o.value,l,d,f)}(Sn(),f,o,a,l,d)),iu}function Ol(o,a,l,d){return ki(o,ya(),l)?a+te(l)+d:Rt}function qd(o,a,l,d,f,g,v,w){const E=we(),T=Ut(),S=o+20,O=T.firstCreatePass?function wp(o,a,l,d,f,g,v,w,E){const T=a.consts,S=Rn(a,o,4,v||null,bs(T,w));Xm(a,l,S,bs(T,E)),ul(a,S);const O=S.tViews=Qm(2,S,d,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,T);return null!==a.queries&&(a.queries.template(a,S),O.queries=a.queries.embeddedTView(S)),S}(S,T,E,a,l,d,f,g,v):T.data[S];Vr(O,!1);const H=E[11].createComment("");zm(T,E,H,O),xn(H,E),i_(E,E[S]=t_(H,E,H,O)),Mo(O)&&ib(T,E,O),null!=v&&rb(E,O,w)}function Dp(o){return function Xr(o,a){return o[a]}(function Af(){return bt.lFrame.contextLView}(),20+o)}function Ll(o,a=pt.Default){const l=we();return null===l?ci(o,a):ts(bn(),l,X(o),a)}function Qd(){throw new Error("invalid")}function E_(o,a,l){const d=we();return ki(d,ya(),a)&&os(Ut(),Sn(),d,o,a,d[11],l,!1),E_}function Ap(o,a,l,d,f){const v=f?"class":"style";tI(o,l,a.inputs[v],v,d)}function I_(o,a,l,d){const f=we(),g=Ut(),v=20+o,w=f[11],E=f[v]=V0(w,a,function Mf(){return bt.lFrame.currentNamespace}()),T=g.firstCreatePass?function MI(o,a,l,d,f,g,v){const w=a.consts,T=Rn(a,o,2,f,bs(w,g));return Xm(a,l,T,bs(w,v)),null!==T.attrs&&Er(T,T.attrs,!1),null!==T.mergedAttrs&&Er(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(v,g,f,0,a,l,d):g.data[v];Vr(T,!0);const S=T.mergedAttrs;null!==S&&va(w,E,S);const O=T.classes;null!==O&&z0(w,E,O);const H=T.styles;return null!==H&&C1(w,E,H),64!=(64&T.flags)&&zm(g,f,E,T),0===function Sf(){return bt.lFrame.elementDepthCount}()&&xn(E,f),function yc(){bt.lFrame.elementDepthCount++}(),Mo(T)&&(ib(g,f,T),Km(g,T,f)),null!==d&&rb(f,T),I_}function au(){let o=bn();ed()?ll():(o=o.parent,Vr(o,!1));const a=o;!function um(){bt.lFrame.elementDepthCount--}();const l=Ut();return l.firstCreatePass&&(ul(l,o),Xa(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Nf(o){return 0!=(16&o.flags)}(a)&&Ap(l,a,we(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function GE(o){return 0!=(32&o.flags)}(a)&&Ap(l,a,we(),a.stylesWithoutHost,!1),au}function Ub(o,a,l,d){return I_(o,a,l,d),au(),Ub}function Mp(o,a,l){const d=we(),f=Ut(),g=o+20,v=f.firstCreatePass?function xI(o,a,l,d,f){const g=a.consts,v=bs(g,d),w=Rn(a,o,8,"ng-container",v);return null!==v&&Er(w,v,!0),Xm(a,l,w,bs(g,f)),null!==a.queries&&a.queries.elementStart(a,w),w}(g,f,d,a,l):f.data[g];Vr(v,!0);const w=d[g]=d[11].createComment("");return zm(f,d,w,v),xn(w,d),Mo(v)&&(ib(f,d,v),Km(f,v,d)),null!=l&&rb(d,v),Mp}function Xd(){let o=bn();const a=Ut();return ed()?ll():(o=o.parent,Vr(o,!1)),a.firstCreatePass&&(ul(a,o),Xa(o)&&a.queries.elementEnd(o)),Xd}function T_(){return we()}function S_(o){return!!o&&"function"==typeof o.then}function jb(o){return!!o&&"function"==typeof o.subscribe}const Hb=jb;function A_(o,a,l,d){const f=we(),g=Ut(),v=bn();return function zb(o,a,l,d,f,g,v,w){const E=Mo(d),S=o.firstCreatePass&&uo(o),O=a[8],H=ub(a);let K=!0;if(3&d.type||w){const Le=yi(d,a),nt=w?w(Le):Le,ye=H.length,yt=w?zt=>w(mn(zt[d.index])):d.index;if(vn(l)){let zt=null;if(!w&&E&&(zt=function $b(o,a,l,d){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===l&&f[g+1]===d){const w=a[7],E=f[g+2];return w.length>E?w[E]:null}"string"==typeof v&&(g+=2)}return null}(o,a,f,d.index)),null!==zt)(zt.__ngLastListenerFn__||zt).__ngNextListenerFn__=g,zt.__ngLastListenerFn__=g,K=!1;else{g=Np(d,a,O,g,!1);const Yt=l.listen(nt,f,g);H.push(g,Yt),S&&S.push(f,yt,ye,ye+1)}}else g=Np(d,a,O,g,!0),nt.addEventListener(f,g,v),H.push(g),S&&S.push(f,yt,ye,v)}else g=Np(d,a,O,g,!1);const he=d.outputs;let Oe;if(K&&null!==he&&(Oe=he[f])){const Le=Oe.length;if(Le)for(let nt=0;nt<Le;nt+=2){const cr=a[Oe[nt]][Oe[nt+1]].subscribe(g),ia=H.length;H.push(g,cr),S&&S.push(f,d.index,ia,-(ia+1))}}}(g,f,f[11],v,o,a,!!l,d),A_}function Wb(o,a,l,d){try{return!1!==l(d)}catch(f){return Kc(o,f),!1}}function Np(o,a,l,d,f){return function g(v){if(v===Function)return d;const w=2&o.flags?ji(o.index,a):a;0==(32&a[2])&&r_(w);let E=Wb(a,0,d,v),T=g.__ngNextListenerFn__;for(;T;)E=Wb(a,0,T,v)&&E,T=T.__ngNextListenerFn__;return f&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function qb(o=1){return function Js(o){return(bt.lFrame.contextLView=function vm(o,a){for(;o>0;)a=a[15],o--;return a}(o,bt.lFrame.contextLView))[8]}(o)}function M_(o,a){let l=null;const d=function QR(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===d?S1(o,g,!0):tO(d,g))return f}else l=f}return l}function Yb(o){const a=we()[16][6];if(!a.projection){const d=a.projection=ir(o?o.length:1,null),f=d.slice();let g=a.child;for(;null!==g;){const v=o?M_(g,o):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function Zb(o,a=0,l){const d=we(),f=Ut(),g=Rn(f,20+o,16,null,l||null);null===g.projection&&(g.projection=a),ll(),64!=(64&g.flags)&&function zR(o,a,l){D1(a[11],0,a,l,f1(o,l,a),m1(l.parent||a[6],l,a))}(f,d,g)}function x_(o,a,l){return kp(o,"",a,"",l),x_}function kp(o,a,l,d,f){const g=we(),v=Ol(g,a,l,d);return v!==Rt&&os(Ut(),Sn(),g,o,v,g[11],f,!1),kp}function eh(o,a,l,d,f){const g=o[l+1],v=null===a;let w=d?Ns(g):Oa(g),E=!1;for(;0!==w&&(!1===E||v);){const S=o[w+1];RI(o[w],a)&&(E=!0,o[w+1]=d?Y0(S):W0(S)),w=d?Ns(S):Oa(S)}E&&(o[l+1]=d?W0(g):Y0(g))}function RI(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Go(o,a)>=0}const si={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function k_(o){return o.substring(si.key,si.keyEnd)}function Vl(o,a){const l=si.textEnd;return l===a?-1:(a=si.keyEnd=function nw(o,a,l){for(;a<l&&o.charCodeAt(a)>32;)a++;return a}(o,si.key=a,l),cu(o,a,l))}function cu(o,a,l){for(;a<l&&o.charCodeAt(a)<=32;)a++;return a}function Lp(o,a,l){return Tr(o,a,l,!1),Lp}function O_(o,a){return Tr(o,a,null,!0),O_}function rw(o){!function us(o,a,l,d){const f=Ut(),g=Br(2);f.firstUpdatePass&&P_(f,null,g,d);const v=we();if(l!==Rt&&ki(v,g,l)){const w=f.data[Hi()];if(jI(w,d)&&!sw(f,g)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(l=xe(E,l||"")),Ap(f,w,v,l,d)}else!function ow(o,a,l,d,f,g,v,w){f===Rt&&(f=gt);let E=0,T=0,S=0<f.length?f[0]:null,O=0<g.length?g[0]:null;for(;null!==S||null!==O;){const H=E<f.length?f[E+1]:void 0,K=T<g.length?g[T+1]:void 0;let Oe,he=null;S===O?(E+=2,T+=2,H!==K&&(he=O,Oe=K)):null===O||null!==S&&S<O?(E+=2,he=S):(T+=2,he=O,Oe=K),null!==he&&V_(o,a,l,d,he,Oe,v,w),S=E<f.length?f[E]:null,O=T<g.length?g[T]:null}}(f,w,v,v[11],v[g+1],v[g+1]=function uu(o,a,l){if(null==l||""===l)return gt;const d=[],f=is(l);if(Array.isArray(f))for(let g=0;g<f.length;g++)o(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&o(d,g,f[g]);else"string"==typeof f&&a(d,f);return d}(o,a,l),d,g)}}(Cr,Ps,o,!0)}function Ps(o,a){for(let l=function cs(o){return function R_(o){si.key=0,si.keyEnd=0,si.value=0,si.valueEnd=0,si.textEnd=o.length}(o),Vl(o,cu(o,0,si.textEnd))}(a);l>=0;l=Vl(a,l))Cr(o,k_(a),!0)}function Tr(o,a,l,d){const f=we(),g=Ut(),v=Br(2);g.firstUpdatePass&&P_(g,o,v,d),a!==Rt&&ki(f,v,a)&&V_(g,g.data[Hi()],f,f[11],o,f[v+1]=function eP(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=me(is(o)))),o}(a,l),d,v)}function sw(o,a){return a>=o.expandoStartIndex}function P_(o,a,l,d){const f=o.data;if(null===f[l+1]){const g=f[Hi()],v=sw(o,l);jI(g,d)&&null===a&&!v&&(a=!1),a=function LI(o,a,l,d){const f=function Ro(o){const a=bt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let g=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(l=th(l=F_(null,o,a,l,d),a.attrs,d),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(l=F_(f,o,a,l,d),null===g){let E=function VI(o,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==Oa(d))return o[Ns(d)]}(o,a,d);void 0!==E&&Array.isArray(E)&&(E=F_(null,o,a,E[1],d),E=th(E,a.attrs,d),function BI(o,a,l,d){o[Ns(l?a.classBindings:a.styleBindings)]=d}(o,a,d,E))}else g=function UI(o,a,l){let d;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)d=th(d,o[g].hostAttrs,l);return th(d,a.attrs,l)}(o,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),l}(f,g,a,d),function NI(o,a,l,d,f,g){let v=g?a.classBindings:a.styleBindings,w=Ns(v),E=Oa(v);o[d]=l;let S,T=!1;if(Array.isArray(l)){const O=l;S=O[1],(null===S||Go(O,S)>0)&&(T=!0)}else S=l;if(f)if(0!==E){const H=Ns(o[w+1]);o[d+1]=qm(H,w),0!==H&&(o[H+1]=q0(o[H+1],d)),o[w+1]=function sO(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=qm(w,0),0!==w&&(o[w+1]=q0(o[w+1],d)),w=d;else o[d+1]=qm(E,0),0===w?w=d:o[E+1]=q0(o[E+1],d),E=d;T&&(o[d+1]=W0(o[d+1])),eh(o,S,d,!0),eh(o,S,d,!1),function kI(o,a,l,d,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Go(g,a)>=0&&(l[d+1]=Y0(l[d+1]))}(a,S,o,d,g),v=qm(w,E),g?a.classBindings=v:a.styleBindings=v}(f,g,a,l,v,d)}}function F_(o,a,l,d,f){let g=null;const v=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<v&&(g=a[w],d=th(d,g.hostAttrs,f),g!==o);)w++;return null!==o&&(l.directiveStylingLast=w),d}function th(o,a,l){const d=l?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Cr(o,v,!!l||a[++g]))}return void 0===o?null:o}function V_(o,a,l,d,f,g,v,w){if(!(3&a.type))return;const E=o.data,T=E[w+1];Vp(function R1(o){return 1==(1&o)}(T)?aw(E,a,l,f,Oa(T),v):void 0)||(Vp(g)||function k1(o){return 2==(2&o)}(T)&&(g=aw(E,null,l,f,w,v)),function qR(o,a,l,d,f){const g=vn(o);if(a)f?g?o.addClass(l,d):l.classList.add(d):g?o.removeClass(l,d):l.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:lo.DashCase;if(null==f)g?o.removeStyle(l,d,v):l.style.removeProperty(d);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),v|=lo.Important),g?o.setStyle(l,d,f,v):l.style.setProperty(d,f,w?"important":"")}}}(d,v,ga(Hi(),l),f,g))}function aw(o,a,l,d,f,g){const v=null===a;let w;for(;f>0;){const E=o[f],T=Array.isArray(E),S=T?E[1]:E,O=null===S;let H=l[f+1];H===Rt&&(H=O?gt:void 0);let K=O?Lf(H,d):S===d?H:void 0;if(T&&!Vp(K)&&(K=Lf(E,d)),Vp(K)&&(w=K,v))return w;const he=o[f+1];f=v?Ns(he):Oa(he)}if(null!==a){let E=g?a.residualClasses:a.residualStyles;null!=E&&(w=Lf(E,d))}return w}function Vp(o){return void 0!==o}function jI(o,a){return 0!=(o.flags&(a?16:32))}function HI(o,a=""){const l=we(),d=Ut(),f=o+20,g=d.firstCreatePass?Rn(d,f,1,a,null):d.data[f],v=l[f]=lt(l[11],a);zm(d,l,v,g),Vr(g,!1)}function lw(o){return B_("",o,""),lw}function B_(o,a,l){const d=we(),f=Ol(d,o,a,l);return f!==Rt&&function ho(o,a,l){const d=ga(a,o);a1(o[11],d,l)}(d,Hi(),f),B_}function jp(o,a,l){const d=we();return ki(d,ya(),a)&&os(Ut(),Sn(),d,o,a,d[11],l,!0),jp}const Bl=void 0;var tT=["en",[["a","p"],["AM","PM"],Bl],[["AM","PM"],Bl,Bl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bl,"{1} 'at' {0}",Bl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eT(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let hu={};function $_(o){const a=function hP(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=rT(a);if(l)return l;const d=a.split("-")[0];if(l=rT(d),l)return l;if("en"===d)return tT;throw new Error(`Missing locale data for the locale "${o}".`)}function iT(o){return $_(o)[Ct.PluralCase]}function rT(o){return o in hu||(hu[o]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[o]),hu[o]}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const fP=["zero","one","two","few","many"],z_="en-US",W_={marker:"element"},q_={marker:"ICU"};var Jn=(()=>((Jn=Jn||{})[Jn.SHIFT=2]="SHIFT",Jn[Jn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Jn[Jn.COMMENT=2]="COMMENT",Jn))();let sT=z_;function pw(o,a,l){const d=a.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?_1(o,0,l):mn(l[f])}function ds(o,a,l,d,f){const g=a.insertBeforeIndex;if(Array.isArray(g)){let v=d,w=null;if(3&a.type||(w=v,v=f),null!==v&&0==(2&a.flags))for(let E=1;E<g.length;E++)qc(o,v,l[g[E]],w,!1)}}function gw(o,a){if(o.push(a),o.length>1)for(let l=o.length-2;l>=0;l--){const d=o[l];mw(d)||oT(d,a)&&null===Ri(d)&&_w(d,a.index)}}function mw(o){return!(64&o.type)}function oT(o,a){return mw(a)||o.index>a.index}function Ri(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function _w(o,a){const l=o.insertBeforeIndex;Array.isArray(l)?l[0]=a:(v1(pw,ds),o.insertBeforeIndex=a)}function nh(o,a){const l=o.data[a];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function Hp(o,a,l){const d=ap(o,l,64,null,null);return gw(a,d),d}function Gp(o,a){const l=a[o.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function fu(o){return o>>>17}function Fs(o){return(131070&o)>>>1}let ih=0,rh=0;function yw(o,a,l,d){const f=l[11];let v,g=null;for(let w=0;w<a.length;w++){const E=a[w];if("string"==typeof E){const T=a[++w];null===l[T]&&(l[T]=lt(f,E))}else if("number"==typeof E)switch(1&E){case 0:const T=fu(E);let S,O;if(null===g&&(g=T,v=$m(f,d)),T===g?(S=d,O=v):(S=null,O=mn(l[T])),null!==O){const Oe=Fs(E);qc(f,O,l[Oe],S,!1);const nt=nh(o,Oe);if(null!==nt&&"object"==typeof nt){const ye=Gp(nt,l);null!==ye&&yw(o,nt.create[ye],l,l[nt.anchorIdx])}}break;case 1:const K=a[++w],he=a[++w];cp(f,ga(E>>>1,l),null,null,K,he,null)}else switch(E){case q_:const T=a[++w],S=a[++w];null===l[S]&&xn(l[S]=LR(f,T),l);break;case W_:const O=a[++w],H=a[++w];null===l[H]&&xn(l[H]=V0(f,O,null),l)}}}function vw(o,a,l,d,f){for(let g=0;g<l.length;g++){const v=l[g],w=l[++g];if(v&f){let E="";for(let T=g+1;T<=g+w;T++){const S=l[T];if("string"==typeof S)E+=S;else if("number"==typeof S)if(S<0)E+=te(a[d-S]);else{const O=S>>>2;switch(3&S){case 1:const H=l[++T],K=l[++T],he=o.data[O];"string"==typeof he?cp(a[11],a[O],null,he,H,E,K):os(o,he,a,H,E,a[11],K,!1);break;case 0:const Oe=a[O];null!==Oe&&a1(a[11],Oe,E);break;case 2:fT(o,nh(o,O),a,E);break;case 3:bw(o,nh(o,O),d,a)}}}}else{const E=l[g+1];if(E>0&&3==(3&E)){const S=nh(o,E>>>2);a[S.currentCaseLViewIndex]<0&&bw(o,S,d,a)}}g+=w}}function bw(o,a,l,d){let f=d[a.currentCaseLViewIndex];if(null!==f){let g=ih;f<0&&(f=d[a.currentCaseLViewIndex]=~f,g=-1),vw(o,d,a.update[f],l,g)}}function fT(o,a,l,d){const f=function pT(o,a){let l=o.cases.indexOf(a);if(-1===l)switch(o.type){case 1:{const d=function pP(o,a){const l=iT(a)(parseInt(o,10)),d=fP[l];return void 0!==d?d:"other"}(a,function Di(){return sT}());l=o.cases.indexOf(d),-1===l&&"other"!==d&&(l=o.cases.indexOf("other"));break}case 0:l=o.cases.indexOf("other")}return-1===l?null:l}(a,d);if(Gp(a,l)!==f&&(ww(o,a,l),l[a.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const v=l[a.anchorIdx];v&&yw(o,a.create[f],l,v)}}function ww(o,a,l){let d=Gp(a,l);if(null!==d){const f=a.remove[d];for(let g=0;g<f.length;g++){const v=f[g];if(v>0){const w=ga(v,l);null!==w&&w1(l[11],w)}else ww(o,nh(o,~v),l)}}}function gT(){const o=[];let l,d,a=-1;function g(w,E){a=0;const T=Gp(w,E);d=null!==T?w.remove[T]:gt}function v(){if(a<d.length){const w=d[a++];return w>0?l[w]:(o.push(a,d),g(l[1].data[~w],l),v())}return 0===o.length?null:(d=o.pop(),a=o.pop(),v())}return function f(w,E){for(l=E;o.length;)o.pop();return g(w.value,E),v}}const Z_=/\ufffd(\d+):?\d*\ufffd/gi,K_=/\ufffd(\d+)\ufffd/,_T=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,vP=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,bP=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,yT=/\uE500/g;function Cw(o,a,l,d,f,g,v){const w=ss(o,d,1,null);let E=w<<Jn.SHIFT,T=ko();a===T&&(T=null),null===T&&(E|=Jn.APPEND_EAGERLY),v&&(E|=Jn.COMMENT,function Al(o){void 0===zc&&(zc=o())}(gT)),f.push(E,null===g?"":g);const S=ap(o,w,v?32:1,null===g?"":g,null);gw(l,S);const O=S.index;return Vr(S,!1),null!==T&&a!==T&&function lT(o,a){let l=o.insertBeforeIndex;null===l?(v1(pw,ds),l=o.insertBeforeIndex=[null,a]):(function J(o,a,l){o!=a&&ht(l,o,a,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(a))}(T,O),S}function vT(o,a,l,d,f,g,v){const w=v.match(Z_),E=Cw(o,a,l,g,d,w?null:v,!1);w&&Ul(f,v,E.index,null,0,null)}function Ul(o,a,l,d,f,g){const v=o.length,w=v+1;o.push(null,null);const E=v+2,T=a.split(Z_);let S=0;for(let O=0;O<T.length;O++){const H=T[O];if(1&O){const K=f+parseInt(H,10);o.push(-1-K),S|=Q_(K)}else""!==H&&o.push(H)}return o.push(l<<2|(d?1:0)),d&&o.push(d,g),o[v]=S,o[w]=o.length-E,S}function Q_(o){return 1<<Math.min(o,31)}function X_(o){let a,g,l="",d=0,f=!1;for(;null!==(a=vP.exec(o));)f?a[0]===`\ufffd/*${g}\ufffd`&&(d=a.index,f=!1):(l+=o.substring(d,a.index+a[0].length),g=a[1],f=!0);return l+=o.substr(d),l}function Ew(o,a,l,d,f,g){let v=0;const w={type:f.type,currentCaseLViewIndex:ss(o,a,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function CP(o,a,l){o.push(Q_(a.mainBinding),2,-1-a.mainBinding,l<<2|2)})(l,f,g),function aT(o,a,l){const d=o.data[a];null===d?o.data[a]=l:d.value=l}(o,g,w);const E=f.values;for(let T=0;T<E.length;T++){const S=E[T],O=[];for(let H=0;H<S.length;H++){const K=S[H];if("string"!=typeof K){const he=O.push(K)-1;S[H]=`\x3c!--\ufffd${he}\ufffd--\x3e`}}v=ty(o,w,a,l,d,f.cases[T],S.join(""),O)|v}v&&function EP(o,a,l){o.push(a,1,l<<2|3)}(l,v,g)}function ey(o){const a=[],l=[];let d=1,f=0;const g=Wp(o=o.replace(_T,function(v,w,E){return d="select"===E?0:1,f=parseInt(w.substr(1),10),""}));for(let v=0;v<g.length;){let w=g[v++].trim();1===d&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&a.push(w);const E=Wp(g[v++]);a.length>l.length&&l.push(E)}return{type:d,mainBinding:f,cases:a,values:l}}function Wp(o){if(!o)return[];let a=0;const l=[],d=[],f=/[{}]/g;let g;for(f.lastIndex=0;g=f.exec(o);){const w=g.index;if("}"==g[0]){if(l.pop(),0==l.length){const E=o.substring(a,w);_T.test(E)?d.push(ey(E)):d.push(E),a=w+1}}else{if(0==l.length){const E=o.substring(a,w);d.push(E),a=w+1}l.push("{")}}const v=o.substring(a);return d.push(v),d}function ty(o,a,l,d,f,g,v,w){const E=[],T=[],S=[];a.cases.push(g),a.create.push(E),a.remove.push(T),a.update.push(S);const H=Zf(rl()).getInertBodyElement(v),K=Uc(H)||H;return K?go(o,a,l,d,E,T,S,K,f,w,0):0}function go(o,a,l,d,f,g,v,w,E,T,S){let O=0,H=w.firstChild;for(;H;){const K=ss(o,l,1,null);switch(H.nodeType){case Node.ELEMENT_NODE:const he=H,Oe=he.tagName.toLowerCase();if(Il.hasOwnProperty(Oe)){qp(f,W_,Oe,E,K),o.data[K]=Oe;const yt=he.attributes;for(let zt=0;zt<yt.length;zt++){const Yt=yt.item(zt),cr=Yt.name.toLowerCase();Yt.value.match(Z_)?Sl.hasOwnProperty(cr)&&Ul(v,Yt.value,K,Yt.name,0,Na[cr]?M:Tl[cr]?R:null):IP(f,K,Yt)}O=go(o,a,l,d,f,g,v,H,K,T,S+1)|O,ny(g,K,S)}break;case Node.TEXT_NODE:const Le=H.textContent||"",nt=Le.match(Z_);qp(f,null,nt?"":Le,E,K),ny(g,K,S),nt&&(O=Ul(v,Le,K,null,0,null)|O);break;case Node.COMMENT_NODE:const ye=K_.exec(H.textContent||"");if(ye){const zt=T[parseInt(ye[1],10)];qp(f,q_,"",E,K),Ew(o,l,d,E,zt,K),DT(g,K,S)}}H=H.nextSibling}return O}function ny(o,a,l){0===l&&o.push(a)}function DT(o,a,l){0===l&&(o.push(~a),o.push(a))}function qp(o,a,l,d,f){null!==a&&o.push(a),o.push(l,f,function cT(o,a,l){return o|a<<17|l<<1}(0,d,f))}function IP(o,a,l){o.push(a<<1|1,l.name,l.value)}function Tw(o,a,l=-1){const d=Ut(),f=we(),g=20+o,v=bs(d.consts,a),w=ko();d.firstCreatePass&&function zp(o,a,l,d,f,g){const v=ko(),w=[],E=[],T=[[]];f=function wT(o,a){if(function bT(o){return-1===o}(a))return X_(o);{const l=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,d=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return X_(o.substring(l,d))}}(f,g);const S=function wP(o){return o.replace(yT," ")}(f).split(bP);for(let O=0;O<S.length;O++){let H=S[O];if(0==(1&O)){const K=Wp(H);for(let he=0;he<K.length;he++){let Oe=K[he];if(0==(1&he)){const Le=Oe;""!==Le&&vT(o,v,T[0],w,E,l,Le)}else{const Le=Oe;if("object"!=typeof Le)throw new Error(`Unable to parse ICU expression in "${f}" message.`);Ew(o,l,E,a,Le,Cw(o,v,T[0],l,w,"",!0).index)}}}else{const K=47===H.charCodeAt(0),Oe=(H.charCodeAt(K?1:0),20+Number.parseInt(H.substring(K?2:1)));if(K)T.shift(),Vr(ko(),!1);else{const Le=Hp(o,T[0],Oe);T.unshift([]),Vr(Le,!0)}}}o.data[d]={create:w,update:E}}(d,null===w?0:w.index,f,g,v,l);const E=d.data[g],S=p1(d,w===f[6]?null:w,f);(function hT(o,a,l,d){const f=o[11];for(let g=0;g<a.length;g++){const v=a[g++],w=a[g],E=(v&Jn.COMMENT)===Jn.COMMENT,T=(v&Jn.APPEND_EAGERLY)===Jn.APPEND_EAGERLY,S=v>>>Jn.SHIFT;let O=o[S];null===O&&(O=o[S]=E?f.createComment(w):lt(f,w)),T&&null!==l&&qc(f,l,O,d,!1)}})(f,E.create,S,w&&8&w.type?f[w.index]:null),Cc(!0)}function Aw(o,a,l){Tw(o,a,l),function Sw(){Cc(!1)}()}function Mw(o){return function uT(o){o&&(ih|=1<<Math.min(rh,31)),rh++}(ki(we(),ya(),o)),Mw}function ry(o){!function dT(o,a,l){if(rh>0){const d=o.data[l];vw(o,a,Array.isArray(d)?d:d.update,function ws(){return bt.lFrame.bindingIndex}()-rh-1,ih)}ih=0,rh=0}(Ut(),we(),o+20)}function Ls(o,a,l,d,f){if(o=X(o),Array.isArray(o))for(let g=0;g<o.length;g++)Ls(o[g],a,l,d,f);else{const g=Ut(),v=we();let w=eu(o)?o:X(o.provide),E=gb(o);const T=bn(),S=1048575&T.providerIndexes,O=T.directiveStart,H=T.providerIndexes>>20;if(eu(o)||!o.multi){const K=new Ic(E,f,Ll),he=Ba(w,a,f?S:S+H,O);-1===he?(fl(Ni(T,v),g,w),Zp(g,o,a.length),a.push(w),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),l.push(K),v.push(K)):(l[he]=K,v[he]=K)}else{const K=Ba(w,a,S+H,O),he=Ba(w,a,S,S+H),Oe=K>=0&&l[K],Le=he>=0&&l[he];if(f&&!Le||!f&&!Oe){fl(Ni(T,v),g,w);const nt=function xT(o,a,l,d,f){const g=new Ic(o,l,Ll);return g.multi=[],g.index=a,g.componentProviders=0,sy(g,f,d&&!l),g}(f?SP:MT,l.length,f,d,E);!f&&Le&&(l[he].providerFactory=nt),Zp(g,o,a.length,0),a.push(w),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),l.push(nt),v.push(nt)}else Zp(g,o,K>-1?K:he,sy(l[f?he:K],E,!f&&d));!f&&d&&Le&&l[he].componentProviders++}}}function Zp(o,a,l,d){const f=eu(a),g=function oI(o){return!!o.useClass}(a);if(f||g){const E=(g?X(a.useClass):a).prototype.ngOnDestroy;if(E){const T=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const S=T.indexOf(l);-1===S?T.push(l,[d,E]):T[S+1].push(d,E)}else T.push(l,E)}}}function sy(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function Ba(o,a,l,d){for(let f=l;f<d;f++)if(a[f]===o)return f;return-1}function MT(o,a,l,d){return mo(this.multi,[])}function SP(o,a,l,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=ba(l,l[1],this.providerFactory.index,d);g=w.slice(0,v),mo(f,g);for(let E=v;E<w.length;E++)g.push(w[E])}else g=[],mo(f,g);return g}function mo(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function xw(o,a=[]){return l=>{l.providersResolver=(d,f)=>function di(o,a,l){const d=Ut();if(d.firstCreatePass){const f=Fr(o);Ls(l,d.data,d.blueprint,f,!0),Ls(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class Nw{}class AP{resolveComponentFactory(a){throw function kw(o){const a=Error(`No component factory found for ${me(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Kp=(()=>{class o{}return o.NULL=new AP,o})();function kT(){return Hl(bn(),we())}function Hl(o,a){return new pu(yi(o,a))}let pu=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=kT,o})();function Rw(o){return o instanceof pu?o.nativeElement:o}class gu{}let Oi=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Ow(){const o=we(),l=ji(bn().index,o);return function RT(o){return o[11]}(xi(l)?l:o)}(),o})(),ay=(()=>{class o{}return o.\u0275prov=nn({token:o,providedIn:"root",factory:()=>null}),o})();class OT{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Jp=new OT("13.2.7"),Qp={};function Xp(o,a,l,d,f=!1){for(;null!==l;){const g=a[l.index];if(null!==g&&d.push(mn(g)),wr(g))for(let w=10;w<g.length;w++){const E=g[w],T=E[1].firstChild;null!==T&&Xp(E[1],E,T,d)}const v=l.type;if(8&v)Xp(o,a,l.child,d);else if(32&v){const w=Wc(l,a);let E;for(;E=w();)d.push(E)}else if(16&v){const w=b1(a,l);if(Array.isArray(w))d.push(...w);else{const E=ip(a[16]);Xp(E[1],E,w,d,!0)}}l=f?l.projectionNext:l.next}return d}class eg{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return Xp(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(wr(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(B0(a,d),yl(l,d))}this._attachedToViewContainer=!1}h1(this._lView[1],this._lView)}onDestroy(a){W1(this._lView[1],this._lView,null,a)}markForCheck(){r_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ab(this._lView[1],this._lView,this.context)}checkNoChanges(){!function lb(o,a,l){wc(!0);try{ab(o,a,l)}finally{wc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ve(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function l1(o,a){sp(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ve(902,"");this._appRef=a}}class xP extends eg{constructor(a){super(a),this._view=a}detectChanges(){o_(this._view)}checkNoChanges(){!function a_(o){wc(!0);try{o_(o)}finally{wc(!1)}}(this._view)}get context(){return null}}class PT extends Kp{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=We(a);return new Pw(l,this.ngModule)}}function FT(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}class Pw extends Nw{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function iO(o){return o.map(nO).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return FT(this.componentDef.inputs)}get outputs(){return FT(this.componentDef.outputs)}create(a,l,d,f){const g=(f=f||this.ngModule)?function kP(o,a){return{get:(l,d,f)=>{const g=o.get(l,Qp,f);return g!==Qp||d===Qp?g:a.get(l,d,f)}}}(a,f.injector):a,v=g.get(gu,sl),w=g.get(ay,null),E=v.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",S=d?function z1(o,a,l){if(vn(o))return o.selectRootElement(a,l===Vt.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(E,d,this.componentDef.encapsulation):V0(v.createRenderer(null,this.componentDef),T,function NP(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(T)),O=this.componentDef.onPush?576:528,H=function h_(o,a){return{components:[],scheduler:o||FR,clean:cb,playerHandler:a||null,flags:0}}(),K=Qm(0,null,null,1,0,null,null,null,null,null),he=op(null,K,H,O,null,null,v,E,w,g);let Oe,Le;Ec(he);try{const nt=function _p(o,a,l,d,f,g){const v=l[1];l[20]=o;const E=Rn(v,20,2,"#host",null),T=E.mergedAttrs=a.hostAttrs;null!==T&&(Er(E,T,!0),null!==o&&(va(f,o,T),null!==E.classes&&z0(f,o,E.classes),null!==E.styles&&C1(f,o,E.styles)));const S=d.createRenderer(o,a),O=op(l,Jm(a),null,a.onPush?64:16,l[20],E,d,S,g||null,null);return v.firstCreatePass&&(fl(Ni(E,l),v,a.type),K1(v,E),J1(E,l.length,1)),i_(l,O),l[20]=O}(S,this.componentDef,he,v,E);if(S)if(d)va(E,S,["ng-version",Jp.full]);else{const{attrs:ye,classes:yt}=function rO(o){const a=[],l=[];let d=1,f=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++d]):8===f&&l.push(g);else{if(!co(f))break;f=g}d++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);ye&&va(E,S,ye),yt&&yt.length>0&&z0(E,S,yt.join(" "))}if(Le=mc(K,20),void 0!==l){const ye=Le.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const zt=l[yt];ye.push(null!=zt?Array.from(zt):null)}}Oe=function Qo(o,a,l,d,f){const g=l[1],v=function Y1(o,a,l){const d=bn();o.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Q1(o,d,a,ss(o,a,1,null),l));const f=ba(a,o,d.directiveStart,d);xn(f,a);const g=yi(d,a);return g&&xn(g,a),f}(g,l,a);if(d.components.push(v),o[8]=v,f&&f.forEach(E=>E(v,a)),a.contentQueries){const E=bn();a.contentQueries(1,v,E.directiveStart)}const w=bn();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Ds(w.index),e_(l[1],w,0,w.directiveStart,w.directiveEnd,a),Z1(a,v)),v}(nt,this.componentDef,he,H,[f_]),Ko(K,he,null)}finally{cl()}return new OP(this.componentType,Oe,Hl(Le,he),he,Le)}}class OP extends class NT{}{constructor(a,l,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new xP(f),this.componentType=a}get injector(){return new Bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class oh{}class LT{}const ah=new Map;class UT extends oh{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new PT(this);const d=Tt(a);this._bootstrapComponents=Zo(d.bootstrap),this._r3Injector=mp(a,l,[{provide:oh,useValue:this},{provide:Kp,useValue:this.componentFactoryResolver}],me(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,l=ks.THROW_IF_NOT_FOUND,d=pt.Default){return a===ks||a===oh||a===hb?this:this._r3Injector.get(a,l,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Fw extends LT{constructor(a){super(),this.moduleType=a,null!==Tt(a)&&function FP(o){const a=new Set;!function l(d){const f=Tt(d,!0),g=f.id;null!==g&&(function VT(o,a,l){if(a&&a!==l)throw new Error(`Duplicate module registered for ${o} - ${me(a)} vs ${me(a.name)}`)}(g,ah.get(g),d),ah.set(g,d));const v=Zo(f.imports);for(const w of v)a.has(w)||(a.add(w),l(w))}(o)}(a)}create(a){return new UT(this.moduleType,a)}}function jT(o,a,l,d){return function Ua(o,a,l,d,f,g){const v=a+l;return ki(o,v,f)?as(o,v+1,g?d.call(g,f):d(f)):mu(o,v+1)}(we(),ni(),o,a,l,d)}function HT(o,a,l,d,f){return function ch(o,a,l,d,f,g,v){const w=a+l;return Rl(o,w,f,g)?as(o,w+2,v?d.call(v,f,g):d(f,g)):mu(o,w+2)}(we(),ni(),o,a,l,d,f)}function Lw(o,a,l,d,f,g){return function Uw(o,a,l,d,f,g,v,w){const E=a+l;return function nu(o,a,l,d,f){const g=Rl(o,a,l,d);return ki(o,a+2,f)||g}(o,E,f,g,v)?as(o,E+3,w?d.call(w,f,g,v):d(f,g,v)):mu(o,E+3)}(we(),ni(),o,a,l,d,f,g)}function mu(o,a){const l=o[a];return l===Rt?void 0:l}function cy(o){return a=>{setTimeout(o,void 0,a)}}const _o=class ly extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){var f,g,v;let w=a,E=l||(()=>null),T=d;if(a&&"object"==typeof a){const O=a;w=null===(f=O.next)||void 0===f?void 0:f.bind(O),E=null===(g=O.error)||void 0===g?void 0:g.bind(O),T=null===(v=O.complete)||void 0===v?void 0:v.bind(O)}this.__isAsync&&(E=cy(E),w&&(w=cy(w)),T&&(T=cy(T)));const S=super.subscribe({next:w,error:E,complete:T});return a instanceof j.w0&&a.add(S),S}};function JT(){return this._results[kl()]()}class uy{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=kl(),d=uy.prototype;d[l]||(d[l]=JT)}get changes(){return this._changes||(this._changes=new _o)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const f=nr(a);(this._changesDetected=!function _l(o,a,l){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],g=a[d];if(l&&(f=l(f),g=l(g)),g!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let hh=(()=>{class o{}return o.__NG_ELEMENT_ID__=QT,o})();const ng=hh,VP=class extends ng{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a){const l=this._declarationTContainer.tViews,d=op(this._declarationLView,l,a,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(l)),Ko(l,d,a),new eg(d)}};function QT(){return ja(bn(),we())}function ja(o,a){return 4&o.type?new VP(a,o,Hl(o,a)):null}let ig=(()=>{class o{}return o.__NG_ELEMENT_ID__=XT,o})();function XT(){return ph(bn(),we())}const eS=ig,tS=class extends eS{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return Hl(this._hostTNode,this._hostLView)}get injector(){return new Bo(this._hostTNode,this._hostLView)}get parentInjector(){const a=Lo(this._hostTNode,this._hostLView);if(Ln(a)){const l=on(a,this._hostLView),d=vi(a);return new Bo(l[1].data[d+8],l)}return new Bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=Gw(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,d){const f=a.createEmbeddedView(l||{});return this.insert(f,d),f}createComponent(a,l,d,f,g){const v=a&&!function tr(o){return"function"==typeof o}(a);let w;if(v)w=l;else{const O=l||{};w=O.index,d=O.injector,f=O.projectableNodes,g=O.ngModuleRef}const E=v?a:new Pw(We(a)),T=d||this.parentInjector;if(!g&&null==E.ngModule){const H=(v?T:this.parentInjector).get(oh,null);H&&(g=H)}const S=E.create(T,f,void 0,g);return this.insert(S.hostView,w),S}insert(a,l){const d=a._lView,f=d[1];if(function _c(o){return wr(o[3])}(d)){const S=this.indexOf(a);if(-1!==S)this.detach(S);else{const O=d[3],H=new tS(O,O[6],O[3]);H.detach(H.indexOf(a))}}const g=this._adjustIndex(l),v=this._lContainer;!function u1(o,a,l,d){const f=10+d,g=l.length;d>0&&(l[f-1][4]=a),d<g-10?(a[4]=l[f],Da(l,10+d,a)):(l.push(a),a[4]=null),a[3]=l;const v=a[17];null!==v&&l!==v&&function UR(o,a){const l=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===l?o[9]=[a]:l.push(a)}(v,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=128}(f,d,v,g);const w=G0(g,v),E=d[11],T=$m(E,v[7]);return null!==T&&function BR(o,a,l,d,f,g){d[0]=f,d[6]=a,sp(o,d,l,1,f,g)}(f,v[6],E,d,T,w),a.attachToViewContainerRef(),Da(fh(v),g,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=Gw(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=B0(this._lContainer,l);d&&(yl(fh(this._lContainer),l),h1(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=B0(this._lContainer,l);return d&&null!=yl(fh(this._lContainer),l)?new eg(d):null}_adjustIndex(a,l=0){return null==a?this.length+l:a}};function Gw(o){return o[8]}function fh(o){return o[8]||(o[8]=[])}function ph(o,a){let l;const d=a[o.index];if(wr(d))l=d;else{let f;if(8&o.type)f=mn(d);else{const g=a[11];f=g.createComment("");const v=yi(o,a);qc(g,$m(g,v),f,function $R(o,a){return vn(o)?o.nextSibling(a):a.nextSibling}(g,v),!1)}a[o.index]=l=t_(d,a,f,o),i_(a,l)}return new tS(l,o,a)}class dy{constructor(a){this.queryList=a,this.matches=null}clone(){return new dy(this.queryList)}setDirty(){this.queryList.setDirty()}}class hy{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new hy(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==Ww(a,l).matches&&this.queries[l].setDirty()}}class gh{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class fy{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(a,f);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new fy(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class py{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new py(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(a,l,iS(l,g)),this.matchTNodeWithReadOption(a,l,pl(l,a,g,!1,!1))}else d===hh?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,pl(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===pu||f===ig||f===hh&&4&l.type)this.addMatch(l.index,-2);else{const g=pl(l,a,f,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function iS(o,a){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function rS(o,a,l,d){return-1===l?function BP(o,a){return 11&o.type?Hl(o,a):4&o.type?ja(o,a):null}(a,o):-2===l?function sS(o,a,l){return l===pu?Hl(a,o):l===hh?ja(a,o):l===ig?ph(a,o):void 0}(o,a,d):ba(o,o[1],l,a)}function zw(o,a,l,d){const f=a[19].queries[d];if(null===f.matches){const g=o.data,v=l.matches,w=[];for(let E=0;E<v.length;E+=2){const T=v[E];w.push(T<0?null:rS(a,g[T],v[E+1],l.metadata.read))}f.matches=w}return f.matches}function _u(o,a,l,d){const f=o.queries.getByIndex(l),g=f.matches;if(null!==g){const v=zw(o,a,f,l);for(let w=0;w<g.length;w+=2){const E=g[w];if(E>0)d.push(v[w/2]);else{const T=g[w+1],S=a[-E];for(let O=10;O<S.length;O++){const H=S[O];H[17]===H[3]&&_u(H[1],H,T,d)}if(null!==S[9]){const O=S[9];for(let H=0;H<O.length;H++){const K=O[H];_u(K[1],K,T,d)}}}}}return d}function gy(o){const a=we(),l=Ut(),d=gm();id(d+1);const f=Ww(l,d);if(o.dirty&&xo(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?_u(l,a,d,[]):zw(l,a,f,d);o.reset(g,Rw),o.notifyOnChanges()}return!0}return!1}function oS(o,a,l){const d=Ut();d.firstCreatePass&&(uS(d,new gh(o,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),cS(d,we(),a)}function aS(o,a,l,d){const f=Ut();if(f.firstCreatePass){const g=bn();uS(f,new gh(a,l,d),g.index),function dS(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(f,o),2==(2&l)&&(f.staticContentQueries=!0)}cS(f,we(),l)}function lS(){return function UP(o,a){return o[19].queries[a].queryList}(we(),gm())}function cS(o,a,l){const d=new uy(4==(4&l));W1(o,a,d,d.destroy),null===a[19]&&(a[19]=new hy),a[19].queries.push(new dy(d))}function uS(o,a,l){null===o.queries&&(o.queries=new fy),o.queries.track(new py(a,l))}function Ww(o,a){return o.queries.getByIndex(a)}function hS(o,a){return ja(o,a)}function og(...o){}const sD=new Mn("Application Initializer");let wy=(()=>{class o{constructor(l){this.appInits=l,this.resolve=og,this.reject=og,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(S_(g))l.push(g);else if(Hb(g)){const v=new Promise((w,E)=>{g.subscribe({complete:w,error:E})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(ci(sD,8))},o.\u0275prov=nn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const oD=new Mn("AppId",{providedIn:"root",factory:function ag(){return`${Dy()}${Dy()}${Dy()}`}});function Dy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const SS=new Mn("Platform Initializer"),AS=new Mn("Platform ID"),aD=new Mn("appBootstrapListener");let lD=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=nn({token:o,factory:o.\u0275fac}),o})();const cD=new Mn("LocaleId",{providedIn:"root",factory:()=>Gf(cD,pt.Optional|pt.SkipSelf)||function iF(){return"undefined"!=typeof $localize&&$localize.locale||z_}()}),rF=new Mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class aF{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let lF=(()=>{class o{compileModuleSync(l){return new Fw(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=Zo(Tt(l).declarations).reduce((v,w)=>{const E=We(w);return E&&v.push(new Pw(E)),v},[]);return new aF(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=nn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const uF=(()=>Promise.resolve(0))();function uD(o){"undefined"==typeof Zone?uF.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class yo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _o(!1),this.onMicrotaskEmpty=new _o(!1),this.onStable=new _o(!1),this.onError=new _o(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function dF(){let o=Ht.requestAnimationFrame,a=Ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function pF(o){const a=()=>{!function fF(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Ht,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,hD(o),o.isCheckStableRunning=!0,dD(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),hD(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,g,v,w)=>{try{return MS(o),l.invokeTask(f,g,v,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),xS(o)}},onInvoke:(l,d,f,g,v,w,E)=>{try{return MS(o),l.invoke(f,g,v,w,E)}finally{o.shouldCoalesceRunChangeDetection&&a(),xS(o)}},onHasTask:(l,d,f,g)=>{l.hasTask(f,g),d===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,hD(o),dD(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,f,g)=>(l.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(yo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,a,hF,og,og);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const hF={};function dD(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function hD(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function MS(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function xS(o){o._nesting--,dD(o)}class gF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _o,this.onMicrotaskEmpty=new _o,this.onStable=new _o,this.onError=new _o}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,f){return a.apply(l,d)}}let NS=(()=>{class o{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yo.assertNotInAngularZone(),uD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uD(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,f){return[]}}return o.\u0275fac=function(l){return new(l||o)(ci(yo))},o.\u0275prov=nn({token:o,factory:o.\u0275fac}),o})(),kS=(()=>{class o{constructor(){this._applications=new Map,fD.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return fD.findTestabilityInTree(this,l,d)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=nn({token:o,factory:o.\u0275fac}),o})();class mF{addToWindow(a){}findTestabilityInTree(a,l,d){return null}}function _F(o){fD=o}let Sr,fD=new mF;const pD=new Mn("AllowMultipleToken");class vF{constructor(a,l){this.name=a,this.token=l}}function PS(o,a,l=[]){const d=`Platform: ${a}`,f=new Mn(d);return(g=[])=>{let v=mD();if(!v||v.injector.get(pD,!1))if(o)o(l.concat(g).concat({provide:f,useValue:!0}));else{const w=l.concat(g).concat({provide:f,useValue:!0},{provide:fb,useValue:"platform"});!function OS(o){if(Sr&&!Sr.destroyed&&!Sr.injector.get(pD,!1))throw new Ve(400,"");Sr=o.get(FS);const a=o.get(SS,null);a&&a.forEach(l=>l())}(ks.create({providers:w,name:d}))}return function gD(o){const a=mD();if(!a)throw new Ve(401,"");return a}()}}function mD(){return Sr&&!Sr.destroyed?Sr:null}let FS=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const w=function wF(o,a){let l;return l="noop"===o?new gF:("zone.js"===o?void 0:o)||new yo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:yo,useValue:w}];return w.run(()=>{const T=ks.create({providers:E,parent:this.injector,name:l.moduleType.name}),S=l.create(T),O=S.injector.get(Bn,null);if(!O)throw new Ve(402,"");return w.runOutsideAngular(()=>{const H=w.onError.subscribe({next:K=>{O.handleError(K)}});S.onDestroy(()=>{yD(this._modules,S),H.unsubscribe()})}),function DF(o,a,l){try{const d=l();return S_(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(O,w,()=>{const H=S.injector.get(wy);return H.runInitializers(),H.donePromise.then(()=>(function Y_(o){(function ut(o,a){null==o&&ht(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(sT=o.toLowerCase().replace(/_/g,"-"))}(S.injector.get(cD,z_)||z_),this._moduleDoBootstrap(S),S))})})}bootstrapModule(l,d=[]){const f=_h({},d);return function bu(o,a,l){const d=new Fw(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(l){const d=l.injector.get(_D);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Ve(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ve(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(ci(ks))},o.\u0275prov=nn({token:o,factory:o.\u0275fac}),o})();function _h(o,a){return Array.isArray(a)?a.reduce(_h,o):Object.assign(Object.assign({},o),a)}let _D=(()=>{class o{constructor(l,d,f,g,v){this._zone=l,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new F.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),E=new F.y(T=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{yo.assertNotInAngularZone(),uD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{yo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{S.unsubscribe(),O.unsubscribe()}});this.isStable=(0,de.T)(w,E.pipe((0,De.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Ve(405,"");let f;f=l instanceof Nw?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(f.componentType);const g=function RS(o){return o.isBoundToModule}(f)?void 0:this._injector.get(oh),w=f.create(ks.NULL,[],d||f.selector,g),E=w.location.nativeElement,T=w.injector.get(NS,null),S=T&&w.injector.get(kS);return T&&S&&S.registerApplication(E,T),w.onDestroy(()=>{this.detachView(w.hostView),yD(this.components,w),S&&S.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ve(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;yD(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(aD,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(l){return new(l||o)(ci(yo),ci(ks),ci(Bn),ci(Kp),ci(wy))},o.\u0275prov=nn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function yD(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}let Cy=!0,vD=!1;function EF(){return vD=!0,Cy}function VS(){if(vD)throw new Error("Cannot enable prod mode after platform setup.");Cy=!1}let IF=(()=>{class o{}return o.__NG_ELEMENT_ID__=TF,o})();function TF(o){return function US(o,a,l){if(qu(o)&&!l){const d=ji(o.index,a);return new eg(d,d)}return 47&o.type?new eg(a[16],a):null}(bn(),we(),16==(16&o))}class GS{constructor(){}supports(a){return tu(a)}create(a){return new kF(a)}}const NF=(o,a)=>a;class kF{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||NF}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,f=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<TD(d,f,g)?l:d,w=TD(v,f,g),E=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{g||(g=[]);const T=w-f,S=E-f;if(T!=S){for(let H=0;H<T;H++){const K=H<g.length?g[H]:g[H]=0,he=K+H;S<=he&&he<T&&(g[H]=K+1)}g[v.previousIndex]=S-T}}w!==E&&a(v,w,E)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!tu(a))throw new Ve(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,v,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)g=a[w],v=this._trackByFn(w,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,w)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,w),d=!0),l=l._next}else f=0,function WO(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[kl()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,w=>{v=this._trackByFn(f,w),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,w,v,f)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,g,f)):a=this._addAfter(new $S(l,d),g,f),a}_verifyReinsertion(a,l,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new ID),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ID),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class $S{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qt{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class ID{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new qt,this.map.set(l,d)),d.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TD(o,a,l){const d=o.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+a+f}class Y{constructor(){}supports(a){return a instanceof Map||vp(a)}create(){return new et}}class et{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||vp(a)))throw new Ve(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new Vs(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class Vs{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hs(){return new lg([new GS])}let lg=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||hs()),deps:[[o,new ns,new Ms]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Ve(901,"")}}return o.\u0275prov=nn({token:o,providedIn:"root",factory:hs}),o})();function Ty(){return new cg([new Y])}let cg=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||Ty()),deps:[[o,new ns,new Ms]]}}find(l){const d=this.factories.find(g=>g.supports(l));if(d)return d;throw new Ve(901,"")}}return o.\u0275prov=nn({token:o,providedIn:"root",factory:Ty}),o})();const WS=PS(null,"core",[{provide:AS,useValue:"unknown"},{provide:FS,deps:[ks]},{provide:kS,deps:[]},{provide:lD,deps:[]}]);let na=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(ci(_D))},o.\u0275mod=k({type:o}),o.\u0275inj=rn({}),o})()},3942:(_t,Ie,L)=>{L.d(Ie,{Z:()=>Ve});var c=L(2090),j=L(4859),F=L(9681),de=L(1877);class De{constructor(te,Te){this._delegate=te,this.firebase=Te,(0,F._addComponent)(te,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this._delegate.automaticDataCollectionEnabled=te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(te=>{this._delegate.checkDestroyed(),te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(te,Te=F._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(te);return!$e.isInitialized()&&"EXPLICIT"===(null===(Je=$e.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:Te})}_removeServiceInstance(te,Te=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(te).clearInstance(Te)}_addComponent(te){(0,F._addComponent)(this._delegate,te)}_addOrOverwriteComponent(te){(0,F._addOrOverwriteComponent)(this._delegate,te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function xe(){const ke=function me(ke){const te={},Te={__esModule:!0,initializeApp:function Ae(ee,ze={}){const J=F.initializeApp(ee,ze);if((0,c.r3)(te,J.name))return te[J.name];const le=new ke(J,Te);return te[J.name]=le,le},app:$e,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function pe(ee){const ze=ee.name,J=ze.replace("-compat","");if(F._registerComponent(ee)&&"PUBLIC"===ee.type){const le=(ie=$e())=>{if("function"!=typeof ie[J])throw fe.create("invalid-app-argument",{appName:ze});return ie[J]()};void 0!==ee.serviceProps&&(0,c.ZB)(le,ee.serviceProps),Te[J]=le,ke.prototype[J]=function(...ie){return this._getService.bind(this,ze).apply(this,ee.multipleInstances?ie:[])}}return"PUBLIC"===ee.type?Te[J]:null},removeApp:function Je(ee){delete te[ee]},useAsService:function je(ee,ze){return"serverAuth"===ze?null:ze},modularAPIs:F}};function $e(ee){if(!(0,c.r3)(te,ee=ee||F._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:ee});return te[ee]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function be(){return Object.keys(te).map(ee=>te[ee])}}),$e.App=ke,Te}(De);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function te(Te){(0,c.ZB)(ke,Te)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ke}(),$=new de.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ve=W;!function Ne(ke){(0,F.registerVersion)("@firebase/app-compat","0.1.20",ke)}()},9681:(_t,Ie,L)=>{L.r(Ie),L.d(Ie,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Kr,_DEFAULT_ENTRY_NAME:()=>zn,_addComponent:()=>wn,_addOrOverwriteComponent:()=>Nr,_apps:()=>ht,_clearComponents:()=>In,_components:()=>En,_getProvider:()=>Jt,_registerComponent:()=>nn,_removeServiceInstance:()=>rn,deleteApp:()=>To,getApp:()=>Rr,getApps:()=>Vi,initializeApp:()=>br,onLog:()=>Wn,registerVersion:()=>Qi,setLogLevel:()=>an});var c=L(5861),j=L(4859),F=L(1877),de=L(2090);class De{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function Ce(Ue){const _e=Ue.getComponent();return"VERSION"===(null==_e?void 0:_e.type)}(Xe)){const dt=Xe.getImmediate();return`${dt.library}/${dt.version}`}return null}).filter(Xe=>Xe).join(" ")}}const fe="@firebase/app",xe=new F.Yd("@firebase/app"),zn="[DEFAULT]",ut={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ht=new Map,En=new Map;function wn(Ue,_e){try{Ue.container.addComponent(_e)}catch(Xe){xe.debug(`Component ${_e.name} failed to register with FirebaseApp ${Ue.name}`,Xe)}}function Nr(Ue,_e){Ue.container.addOrOverwriteComponent(_e)}function nn(Ue){const _e=Ue.name;if(En.has(_e))return xe.debug(`There were multiple attempts to register component ${_e}.`),!1;En.set(_e,Ue);for(const Xe of ht.values())wn(Xe,Ue);return!0}function Jt(Ue,_e){const Xe=Ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),Ue.container.getProvider(_e)}function rn(Ue,_e,Xe=zn){Jt(Ue,_e).clearInstance(Xe)}function In(){En.clear()}const Li=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Mi{constructor(_e,Xe,dt){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=dt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}const Kr="9.6.9";function br(Ue,_e={}){"object"!=typeof _e&&(_e={name:_e});const Xe=Object.assign({name:zn,automaticDataCollectionEnabled:!1},_e),dt=Xe.name;if("string"!=typeof dt||!dt)throw Li.create("bad-app-name",{appName:String(dt)});const Ft=ht.get(dt);if(Ft){if((0,de.vZ)(Ue,Ft.options)&&(0,de.vZ)(Xe,Ft.config))return Ft;throw Li.create("duplicate-app",{appName:dt})}const Pt=new j.H0(dt);for(const B of En.values())Pt.addComponent(B);const G=new Mi(Ue,Xe,Pt);return ht.set(dt,G),G}function Rr(Ue=zn){const _e=ht.get(Ue);if(!_e)throw Li.create("no-app",{appName:Ue});return _e}function Vi(){return Array.from(ht.values())}function To(Ue){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(Ue){const _e=Ue.name;ht.has(_e)&&(ht.delete(_e),yield Promise.all(Ue.container.getProviders().map(Xe=>Xe.delete())),Ue.isDeleted=!0)})).apply(this,arguments)}function Qi(Ue,_e,Xe){var dt;let Ft=null!==(dt=ut[Ue])&&void 0!==dt?dt:Ue;Xe&&(Ft+=`-${Xe}`);const Pt=Ft.match(/\s|\//),G=_e.match(/\s|\//);if(Pt||G){const B=[`Unable to register library "${Ft}" with version "${_e}":`];return Pt&&B.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),Pt&&G&&B.push("and"),G&&B.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void xe.warn(B.join(" "))}nn(new j.wA(`${Ft}-version`,()=>({library:Ft,version:_e}),"VERSION"))}function Wn(Ue,_e){if(null!==Ue&&"function"!=typeof Ue)throw Li.create("invalid-log-argument");(0,F.Am)(Ue,_e)}function an(Ue){(0,F.Ub)(Ue)}const qn="firebase-heartbeat-store";let Fn=null;function Bi(){return Fn||(Fn=(0,de.X3)("firebase-heartbeat-database",1,(Ue,_e)=>{0===_e&&Ue.createObjectStore(qn)}).catch(Ue=>{throw Li.create("storage-open",{originalErrorMessage:Ue.message})})),Fn}function Vt(){return(Vt=(0,c.Z)(function*(Ue){try{return(yield Bi()).transaction(qn).objectStore(qn).get(Or(Ue))}catch(_e){throw Li.create("storage-get",{originalErrorMessage:_e.message})}})).apply(this,arguments)}function ft(Ue,_e){return it.apply(this,arguments)}function it(){return(it=(0,c.Z)(function*(Ue,_e){try{const dt=(yield Bi()).transaction(qn,"readwrite");return yield dt.objectStore(qn).put(_e,Or(Ue)),dt.complete}catch(Xe){throw Li.create("storage-set",{originalErrorMessage:Xe.message})}})).apply(this,arguments)}function Or(Ue){return`${Ue.name}!${Ue.options.appId}`}class Qr{constructor(_e){this.container=_e,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new gt(Xe),this._heartbeatsCachePromise=this._storage.read().then(dt=>(this._heartbeatsCache=dt,dt))}triggerHeartbeat(){var _e=this;return(0,c.Z)(function*(){const dt=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=kn();if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),_e._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!_e._heartbeatsCache.heartbeats.some(Pt=>Pt.date===Ft))return _e._heartbeatsCache.heartbeats.push({date:Ft,agent:dt}),_e._heartbeatsCache.heartbeats=_e._heartbeatsCache.heartbeats.filter(Pt=>{const G=new Date(Pt.date).valueOf();return Date.now()-G<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,c.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache||0===_e._heartbeatsCache.heartbeats.length)return"";const Xe=kn(),{heartbeatsToSend:dt,unsentEntries:Ft}=function cn(Ue,_e=1024){const Xe=[];let dt=Ue.slice();for(const Ft of Ue){const Pt=Xe.find(G=>G.agent===Ft.agent);if(Pt){if(Pt.dates.push(Ft.date),Yn(Xe)>_e){Pt.dates.pop();break}}else if(Xe.push({agent:Ft.agent,dates:[Ft.date]}),Yn(Xe)>_e){Xe.pop();break}dt=dt.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:dt}}(_e._heartbeatsCache.heartbeats),Pt=(0,de.L)(JSON.stringify({version:2,heartbeats:dt}));return _e._heartbeatsCache.lastSentHeartbeatDate=Xe,Ft.length>0?(_e._heartbeatsCache.heartbeats=Ft,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),Pt})()}}function kn(){return(new Date).toISOString().substring(0,10)}class gt{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,c.Z)(function*(){return(yield _e._canUseIndexedDBPromise)&&(yield function So(Ue){return Vt.apply(this,arguments)}(_e.app))||{heartbeats:[]}})()}overwrite(_e){var Xe=this;return(0,c.Z)(function*(){var dt;if(yield Xe._canUseIndexedDBPromise){const Pt=yield Xe.read();return ft(Xe.app,{lastSentHeartbeatDate:null!==(dt=_e.lastSentHeartbeatDate)&&void 0!==dt?dt:Pt.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var Xe=this;return(0,c.Z)(function*(){var dt;if(yield Xe._canUseIndexedDBPromise){const Pt=yield Xe.read();return ft(Xe.app,{lastSentHeartbeatDate:null!==(dt=_e.lastSentHeartbeatDate)&&void 0!==dt?dt:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,..._e.heartbeats]})}})()}}function Yn(Ue){return(0,de.L)(JSON.stringify({version:2,heartbeats:Ue})).length}!function $t(Ue){nn(new j.wA("platform-logger",_e=>new De(_e),"PRIVATE")),nn(new j.wA("heartbeat",_e=>new Qr(_e),"PRIVATE")),Qi(fe,"0.7.19",Ue),Qi(fe,"0.7.19","esm2017"),Qi("fire-js","")}("")},4859:(_t,Ie,L)=>{L.d(Ie,{wA:()=>F,H0:()=>me});var c=L(5861),j=L(2090);class F{constructor(W,$,X){this.name=W,this.instanceFactory=$,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const de="[DEFAULT]";class De{constructor(W,$){this.name=W,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const $=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has($)){const X=new j.BH;if(this.instancesDeferred.set($,X),this.isInitialized($)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:$});Ye&&X.resolve(Ye)}catch(Ye){}}return this.instancesDeferred.get($).promise}getImmediate(W){var $;const X=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),Ye=null!==($=null==W?void 0:W.optional)&&void 0!==$&&$;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Ne){if(Ye)return null;throw Ne}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function fe(xe){return"EAGER"===xe.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:de})}catch($){}for(const[$,X]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier($);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ye});X.resolve(Ne)}catch(Ne){}}}}clearInstance(W=de){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,c.Z)(function*(){const $=Array.from(W.instances.values());yield Promise.all([...$.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...$.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=de){return this.instances.has(W)}getOptions(W=de){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:$={}}=W,X=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:X,options:$});for(const[Ne,Ve]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Ne)&&Ve.resolve(Ye);return Ye}onInit(W,$){var X;const Ye=this.normalizeInstanceIdentifier($),Ne=null!==(X=this.onInitCallbacks.get(Ye))&&void 0!==X?X:new Set;Ne.add(W),this.onInitCallbacks.set(Ye,Ne);const Ve=this.instances.get(Ye);return Ve&&W(Ve,Ye),()=>{Ne.delete(W)}}invokeOnInitCallbacks(W,$){const X=this.onInitCallbacks.get($);if(X)for(const Ye of X)try{Ye(W,$)}catch(Ne){}}getOrInitializeService({instanceIdentifier:W,options:$={}}){let X=this.instances.get(W);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=W,xe===de?void 0:xe),options:$}),this.instances.set(W,X),this.instancesOptions.set(W,$),this.invokeOnInitCallbacks(X,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,X)}catch(Ye){}var xe;return X||null}normalizeInstanceIdentifier(W=de){return this.component?this.component.multipleInstances?W:de:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const $=this.getProvider(W.name);if($.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);$.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const $=new De(W,this);return this.providers.set(W,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(_t,Ie,L)=>{L.d(Ie,{in:()=>j,Yd:()=>fe,Ub:()=>me,Am:()=>xe});const c=[];var j=(()=>{return(W=j||(j={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",j;var W})();const F={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},de=j.INFO,De={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},Ce=(W,$,...X)=>{if($<W.logLevel)return;const Ye=(new Date).toISOString(),Ne=De[$];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ne](`[${Ye}]  ${W.name}:`,...X)};class fe{constructor($){this.name=$,this._logLevel=de,this._logHandler=Ce,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in j))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?F[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...$),this._logHandler(this,j.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...$),this._logHandler(this,j.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,j.INFO,...$),this._logHandler(this,j.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,j.WARN,...$),this._logHandler(this,j.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...$),this._logHandler(this,j.ERROR,...$)}}function me(W){c.forEach($=>{$.setLogLevel(W)})}function xe(W,$){for(const X of c){let Ye=null;$&&$.level&&(Ye=F[$.level]),X.userLogHandler=null===W?null:(Ne,Ve,...ke)=>{const te=ke.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch(Je){return null}}).filter(Te=>Te).join(" ");Ve>=(null!=Ye?Ye:Ne.logLevel)&&W({level:j[Ve].toLowerCase(),message:te,args:ke,type:Ne.name})}}}},5861:(_t,Ie,L)=>{function c(F,de,De,Ce,fe,me,xe){try{var W=F[me](xe),$=W.value}catch(X){return void De(X)}W.done?de($):Promise.resolve($).then(Ce,fe)}function j(F){return function(){var de=this,De=arguments;return new Promise(function(Ce,fe){var me=F.apply(de,De);function xe($){c(me,Ce,fe,xe,W,"next",$)}function W($){c(me,Ce,fe,xe,W,"throw",$)}xe(void 0)})}}L.d(Ie,{Z:()=>j})}},_t=>{_t(_t.s=2404)}]);